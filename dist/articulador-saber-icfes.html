<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Articulador Curricular Saber ICFES — MEN Colombia</title>
  <meta name="description" content="Articulador curricular alineado a pruebas Saber ICFES. EBC, DBA e ICFES articulados. Funciona 100% offline.">
  <meta name="theme-color" content="#0e1018">
  <style>
/* ═══════════════════════════════════════════════════════════════
   ARTICULADOR CURRICULAR SABER ICFES — Stylesheet
   Editorial Academic + Modern Dashboard aesthetic
   Colombian Ministry of Education standards navigator
   ═══════════════════════════════════════════════════════════════ */

/* ─── DESIGN TOKENS ─── */
:root {
  /* Core palette — dark theme (default) */
  --bg-void:          #08090c;
  --bg-base:          #0e1018;
  --bg-surface:       #151822;
  --bg-elevated:      #1c2030;
  --bg-overlay:       #232840;
  --bg-hover:         #272d44;

  --border-subtle:    #1e2336;
  --border-default:   #2a3050;
  --border-strong:    #3a4268;

  --text-primary:     #e8eaf0;
  --text-secondary:   #9499b4;
  --text-muted:       #5c6180;
  --text-inverse:     #0e1018;

  /* Area accent colors */
  --mat:              #4f83f1;
  --mat-dim:          #4f83f120;
  --mat-glow:         #4f83f140;
  --len:              #19c37d;
  --len-dim:          #19c37d20;
  --len-glow:         #19c37d40;
  --nat:              #f59e0b;
  --nat-dim:          #f59e0b20;
  --nat-glow:         #f59e0b40;
  --soc:              #a78bfa;
  --soc-dim:          #a78bfa20;
  --soc-glow:         #a78bfa40;

  /* IA accent */
  --ia-from:          #06b6d4;
  --ia-to:            #0d9488;
  --ia-dim:           #06b6d420;

  /* Semantic */
  --success:          #10b981;
  --warning:          #f59e0b;
  --danger:           #ef4444;
  --info:             #3b82f6;

  /* Spacing scale */
  --sp-1: 4px;   --sp-2: 8px;   --sp-3: 12px;
  --sp-4: 16px;  --sp-5: 20px;  --sp-6: 24px;
  --sp-8: 32px;  --sp-10: 40px; --sp-12: 48px;
  --sp-16: 64px;

  /* Typography */
  --font-display: 'Segoe UI', 'SF Pro Display', -apple-system, system-ui, sans-serif;
  --font-body:    'Segoe UI', 'SF Pro Text', -apple-system, system-ui, sans-serif;
  --font-mono:    'Cascadia Code', 'SF Mono', 'Consolas', 'Liberation Mono', monospace;

  --text-xs:   0.75rem;    /* 12px */
  --text-sm:   0.8125rem;  /* 13px */
  --text-base: 0.9375rem;  /* 15px */
  --text-lg:   1.0625rem;  /* 17px */
  --text-xl:   1.25rem;    /* 20px */
  --text-2xl:  1.5rem;     /* 24px */
  --text-3xl:  1.875rem;   /* 30px */

  --leading-tight:  1.25;
  --leading-normal: 1.55;
  --leading-loose:  1.75;

  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide:   0.04em;
  --tracking-caps:   0.08em;

  /* Layout */
  --sidebar-w:    280px;
  --header-h:     60px;
  --radius-sm:    6px;
  --radius-md:    10px;
  --radius-lg:    14px;
  --radius-full:  999px;

  /* Shadows */
  --shadow-sm:    0 1px 3px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.2);
  --shadow-md:    0 4px 12px rgba(0,0,0,0.35), 0 2px 4px rgba(0,0,0,0.2);
  --shadow-lg:    0 12px 40px rgba(0,0,0,0.4), 0 4px 12px rgba(0,0,0,0.25);
  --shadow-glow:  0 0 20px var(--accent-glow, rgba(79,131,241,0.15));

  /* Transitions */
  --ease-out:    cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --dur-fast:    150ms;
  --dur-normal:  250ms;
  --dur-slow:    400ms;

  /* Active area (JS toggles via data-area on body) */
  --accent:      var(--mat);
  --accent-dim:  var(--mat-dim);
  --accent-glow: var(--mat-glow);
}

/* ─── LIGHT THEME ─── */
[data-theme="light"],
.theme-light {
  --bg-void:        #f0f1f5;
  --bg-base:        #f7f8fb;
  --bg-surface:     #ffffff;
  --bg-elevated:    #ffffff;
  --bg-overlay:     #eceef5;
  --bg-hover:       #e8eaf3;

  --border-subtle:  #e4e6ef;
  --border-default: #d0d4e2;
  --border-strong:  #b0b6cc;

  --text-primary:   #1a1d2e;
  --text-secondary: #5a5f78;
  --text-muted:     #8b90a8;
  --text-inverse:   #f7f8fb;

  --shadow-sm:  0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md:  0 4px 12px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
  --shadow-lg:  0 12px 40px rgba(0,0,0,0.12), 0 4px 12px rgba(0,0,0,0.06);
}

@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) {
    --bg-void:        #f0f1f5;
    --bg-base:        #f7f8fb;
    --bg-surface:     #ffffff;
    --bg-elevated:    #ffffff;
    --bg-overlay:     #eceef5;
    --bg-hover:       #e8eaf3;
    --border-subtle:  #e4e6ef;
    --border-default: #d0d4e2;
    --border-strong:  #b0b6cc;
    --text-primary:   #1a1d2e;
    --text-secondary: #5a5f78;
    --text-muted:     #8b90a8;
    --text-inverse:   #f7f8fb;
    --shadow-sm:  0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.04);
    --shadow-md:  0 4px 12px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
    --shadow-lg:  0 12px 40px rgba(0,0,0,0.12), 0 4px 12px rgba(0,0,0,0.06);
  }
}

/* Area color binding — toggled by JS via data-area attribute */
[data-area="matematicas"]    { --accent: var(--mat); --accent-dim: var(--mat-dim); --accent-glow: var(--mat-glow); }
[data-area="lenguaje"]       { --accent: var(--len); --accent-dim: var(--len-dim); --accent-glow: var(--len-glow); }
[data-area="ciencias-naturales"] { --accent: var(--nat); --accent-dim: var(--nat-dim); --accent-glow: var(--nat-glow); }
[data-area="ciencias-sociales"]  { --accent: var(--soc); --accent-dim: var(--soc-dim); --accent-glow: var(--soc-glow); }

/* ═══════════════════════════════════════════════════════════════
   RESET & BASE
   ═══════════════════════════════════════════════════════════════ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  color: var(--text-primary);
  background: var(--bg-void);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Subtle background pattern — angled hairlines */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    repeating-linear-gradient(
      115deg,
      transparent,
      transparent 80px,
      var(--border-subtle) 80px,
      var(--border-subtle) 81px
    );
  opacity: 0.25;
  pointer-events: none;
  z-index: 0;
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

img { max-width: 100%; display: block; }
button { cursor: pointer; font-family: inherit; }
input, select, textarea { font-family: inherit; font-size: inherit; }

::selection {
  background: var(--accent);
  color: var(--text-inverse);
}

:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-default); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--border-strong); }

/* ═══════════════════════════════════════════════════════════════
   LAYOUT SHELL
   ═══════════════════════════════════════════════════════════════ */
.app-layout {
  display: grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  grid-template-rows: var(--header-h) 1fr;
  grid-template-areas:
    "header header"
    "sidebar main";
  min-height: 100vh;
  position: relative;
  z-index: 1;
}

/* ─── HEADER ─── */
.app-header {
  grid-area: header;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--sp-6);
  background:
    linear-gradient(135deg, #0c1024 0%, #141830 50%, #1a1040 100%);
  border-bottom: 1px solid var(--border-subtle);
  position: sticky;
  top: 0;
  z-index: 100;
  gap: var(--sp-4);
}

/* Subtle animated gradient line under header */
.app-header::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    var(--mat) 0%,
    var(--len) 25%,
    var(--nat) 50%,
    var(--soc) 75%,
    var(--mat) 100%
  );
  background-size: 200% 100%;
  animation: gradient-shift 8s linear infinite;
}

@keyframes gradient-shift {
  0%   { background-position: 0% 0; }
  100% { background-position: 200% 0; }
}

.header-brand {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
}

.header-logo {
  width: 44px;
  height: 36px;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, var(--accent) 0%, #6366f1 100%);
  border-radius: var(--radius-sm);
  font-size: 12px;
  color: white;
  font-weight: 700;
  letter-spacing: -0.02em;
  flex-shrink: 0;
}

.header-title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
  color: #ffffff;
  line-height: 1.2;
}

.header-subtitle {
  font-size: var(--text-xs);
  color: var(--text-muted);
  letter-spacing: var(--tracking-wide);
  font-weight: 400;
}

.header-badge-men {
  display: inline-flex;
  align-items: center;
  gap: var(--sp-1);
  padding: var(--sp-1) var(--sp-3);
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  color: var(--text-secondary);
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  font-weight: 600;
  white-space: nowrap;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
}

/* ─── SIDEBAR ─── */
.app-sidebar {
  grid-area: sidebar;
  background: var(--bg-base);
  border-right: 1px solid var(--border-subtle);
  overflow-y: auto;
  padding: var(--sp-4) 0;
  display: flex;
  flex-direction: column;
  gap: var(--sp-1);
}

.sidebar-section {
  padding: 0 var(--sp-4);
  margin-bottom: var(--sp-4);
}

.sidebar-label {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  color: var(--text-muted);
  padding: var(--sp-2) var(--sp-3);
  margin-bottom: var(--sp-1);
}

.sidebar-nav {
  list-style: none;
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
  padding: var(--sp-2) var(--sp-3);
  margin: 0 var(--sp-2);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-size: var(--text-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-out);
  position: relative;
  user-select: none;
}

.sidebar-item:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.sidebar-item.active {
  background: var(--accent-dim);
  color: var(--accent);
  font-weight: 600;
}

.sidebar-item.active::before {
  content: '';
  position: absolute;
  left: -2px;
  top: 6px;
  bottom: 6px;
  width: 3px;
  background: var(--accent);
  border-radius: 2px;
}

.sidebar-item-icon {
  width: 20px;
  height: 20px;
  display: grid;
  place-items: center;
  font-size: 14px;
  flex-shrink: 0;
  opacity: 0.7;
}

.sidebar-item.active .sidebar-item-icon { opacity: 1; }

/* Area color dot in sidebar */
.sidebar-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.sidebar-dot.mat { background: var(--mat); }
.sidebar-dot.len { background: var(--len); }
.sidebar-dot.nat { background: var(--nat); }
.sidebar-dot.soc { background: var(--soc); }

/* Nested grade list */
.sidebar-subnav {
  list-style: none;
  padding-left: var(--sp-8);
}

.sidebar-subnav .sidebar-item {
  font-size: var(--text-xs);
  padding: var(--sp-1) var(--sp-3);
}

.sidebar-collapse-toggle {
  transition: transform var(--dur-fast) var(--ease-out);
}
.sidebar-collapse-toggle.open {
  transform: rotate(90deg);
}

/* ─── MAIN CONTENT ─── */
.app-main {
  grid-area: main;
  overflow-y: auto;
  padding: var(--sp-6);
  display: flex;
  flex-direction: column;
  gap: var(--sp-6);
}

/* ═══════════════════════════════════════════════════════════════
   COMPONENTS
   ═══════════════════════════════════════════════════════════════ */

/* ─── SEARCH ─── */
.search-container {
  position: relative;
}

.search-input {
  width: 100%;
  padding: var(--sp-2) var(--sp-3) var(--sp-2) var(--sp-10);
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-size: var(--text-sm);
  transition: all var(--dur-fast) var(--ease-out);
}

.search-input::placeholder {
  color: var(--text-muted);
}

.search-input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-dim);
  outline: none;
}

.search-icon {
  position: absolute;
  left: var(--sp-3);
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 14px;
  pointer-events: none;
}

.search-results {
  position: absolute;
  top: calc(100% + var(--sp-2));
  left: 0;
  right: 0;
  background: var(--bg-elevated);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  max-height: 320px;
  overflow-y: auto;
  z-index: 50;
}

.search-result-item {
  padding: var(--sp-3) var(--sp-4);
  border-bottom: 1px solid var(--border-subtle);
  cursor: pointer;
  transition: background var(--dur-fast);
}

.search-result-item:hover {
  background: var(--bg-hover);
}

.search-result-item:last-child { border-bottom: none; }

.search-result-type {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  color: var(--accent);
}

.search-result-text {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin-top: var(--sp-1);
}

.search-result-text mark {
  background: var(--accent-dim);
  color: var(--accent);
  border-radius: 2px;
  padding: 0 2px;
}

/* ─── CARDS ─── */
.card {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  overflow: hidden;
  transition: box-shadow var(--dur-normal) var(--ease-out),
              border-color var(--dur-normal) var(--ease-out);
}

.card:hover {
  border-color: var(--border-default);
  box-shadow: var(--shadow-md);
}

/* Colored left accent border for area cards */
.card-accent {
  border-left: 4px solid var(--accent);
}
.card-accent.mat { border-left-color: var(--mat); }
.card-accent.len { border-left-color: var(--len); }
.card-accent.nat { border-left-color: var(--nat); }
.card-accent.soc { border-left-color: var(--soc); }

.card-header {
  padding: var(--sp-4) var(--sp-5);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-3);
}

.card-title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
}

.card-body {
  padding: var(--sp-5);
}

.card-footer {
  padding: var(--sp-3) var(--sp-5);
  border-top: 1px solid var(--border-subtle);
  background: var(--bg-base);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--sp-2);
}

/* ─── STANDARD ITEM (estándar EBC individual) ─── */
.estandar-item {
  padding: var(--sp-3) var(--sp-4);
  border-left: 3px solid var(--border-default);
  margin-bottom: var(--sp-2);
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
  background: var(--bg-base);
  font-size: var(--text-sm);
  line-height: var(--leading-loose);
  color: var(--text-secondary);
  transition: all var(--dur-fast) var(--ease-out);
}

.estandar-item:hover {
  border-left-color: var(--accent);
  background: var(--accent-dim);
  color: var(--text-primary);
}

.estandar-item.highlight {
  border-left-color: var(--accent);
  background: var(--accent-dim);
  color: var(--text-primary);
  font-weight: 500;
}

/* ─── TABS ─── */
.tabs {
  display: flex;
  gap: var(--sp-1);
  border-bottom: 1px solid var(--border-subtle);
  padding: 0 var(--sp-2);
  overflow-x: auto;
}

.tab {
  padding: var(--sp-3) var(--sp-4);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-muted);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  transition: all var(--dur-fast) var(--ease-out);
  white-space: nowrap;
  position: relative;
}

.tab:hover {
  color: var(--text-secondary);
  background: var(--bg-hover);
}

.tab.active {
  color: var(--accent);
  border-bottom-color: var(--accent);
  font-weight: 600;
}

/* ─── SELECTS & DROPDOWNS ─── */
.select-wrap {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  gap: var(--sp-1);
}

.select-label {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  color: var(--text-muted);
}

.select {
  appearance: none;
  padding: var(--sp-2) var(--sp-10) var(--sp-2) var(--sp-3);
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-size: var(--text-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-out);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%235c6180'%3E%3Cpath d='M6 8.5L1 3.5h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  min-width: 160px;
}

.select:hover {
  border-color: var(--border-strong);
}

.select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-dim);
  outline: none;
}

/* Inline filter bar */
.filter-bar {
  display: flex;
  align-items: flex-end;
  gap: var(--sp-4);
  padding: var(--sp-4) var(--sp-5);
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  flex-wrap: wrap;
}

/* ─── BADGES & CHIPS ─── */
.badge {
  display: inline-flex;
  align-items: center;
  gap: var(--sp-1);
  padding: 2px var(--sp-2);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 600;
  letter-spacing: var(--tracking-wide);
  white-space: nowrap;
  line-height: 1.6;
}

.badge-accent {
  background: var(--accent-dim);
  color: var(--accent);
  border: 1px solid var(--accent-glow);
}

.badge-mat { background: var(--mat-dim); color: var(--mat); border: 1px solid var(--mat-glow); }
.badge-len { background: var(--len-dim); color: var(--len); border: 1px solid var(--len-glow); }
.badge-nat { background: var(--nat-dim); color: var(--nat); border: 1px solid var(--nat-glow); }
.badge-soc { background: var(--soc-dim); color: var(--soc); border: 1px solid var(--soc-glow); }

.badge-muted {
  background: var(--bg-overlay);
  color: var(--text-secondary);
  border: 1px solid var(--border-subtle);
}

.badge-ia {
  background: linear-gradient(135deg, var(--ia-from), var(--ia-to));
  color: #ffffff;
  border: none;
}

/* Pensamiento / competencia chips */
.chip-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-2);
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: var(--sp-1);
  padding: var(--sp-1) var(--sp-3);
  background: var(--bg-overlay);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-out);
}

.chip:hover {
  background: var(--accent-dim);
  border-color: var(--accent-glow);
  color: var(--accent);
}

.chip.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
  font-weight: 600;
}

.chip-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
}

/* ─── BUTTONS ─── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--sp-2);
  padding: var(--sp-2) var(--sp-4);
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  font-weight: 600;
  border: 1px solid transparent;
  transition: all var(--dur-fast) var(--ease-out);
  white-space: nowrap;
}

.btn-primary {
  background: var(--accent);
  color: #ffffff;
}
.btn-primary:hover {
  filter: brightness(1.15);
  box-shadow: var(--shadow-glow);
}

.btn-secondary {
  background: var(--bg-overlay);
  color: var(--text-secondary);
  border-color: var(--border-default);
}
.btn-secondary:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
  border-color: var(--border-strong);
}

.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
}
.btn-ghost:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

/* IA action buttons — distinctive gradient */
.btn-ia {
  background: linear-gradient(135deg, var(--ia-from), var(--ia-to));
  color: #ffffff;
  border: none;
  position: relative;
  overflow: hidden;
}

.btn-ia::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.15) 50%, transparent 60%);
  background-size: 250% 100%;
  animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.btn-ia:hover {
  box-shadow: 0 0 24px rgba(6, 182, 212, 0.3);
  transform: translateY(-1px);
}

.btn-ia:active {
  transform: translateY(0);
}

.btn-sm {
  padding: var(--sp-1) var(--sp-3);
  font-size: var(--text-xs);
}

.btn-lg {
  padding: var(--sp-3) var(--sp-6);
  font-size: var(--text-base);
  border-radius: var(--radius-md);
}

.btn-icon {
  width: 34px;
  height: 34px;
  padding: 0;
  border-radius: var(--radius-sm);
}

/* ─── THEME TOGGLE ─── */
.theme-toggle {
  width: 34px;
  height: 34px;
  display: grid;
  place-items: center;
  background: transparent;
  border: 1px solid var(--border-default);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-size: 16px;
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-out);
}

.theme-toggle:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
  border-color: var(--border-strong);
}

/* ═══════════════════════════════════════════════════════════════
   ARTICULACIÓN VERTICAL — 3 Column Panel (the hero feature)
   ═══════════════════════════════════════════════════════════════ */
.articulacion-panel {
  display: grid;
  grid-template-columns: 1fr 1.2fr 1fr;
  gap: var(--sp-4);
  align-items: start;
}

.articulacion-col {
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  overflow: hidden;
  transition: all var(--dur-normal) var(--ease-out);
}

/* Anterior (left, muted) */
.articulacion-col.anterior {
  opacity: 0.6;
  background: var(--bg-base);
}
.articulacion-col.anterior:hover {
  opacity: 0.85;
}

/* Actual (center, highlighted) */
.articulacion-col.actual {
  background: var(--bg-surface);
  border-color: var(--accent);
  box-shadow: var(--shadow-glow), var(--shadow-md);
  transform: scale(1.02);
  z-index: 2;
}

/* Siguiente (right, muted) */
.articulacion-col.siguiente {
  opacity: 0.6;
  background: var(--bg-base);
}
.articulacion-col.siguiente:hover {
  opacity: 0.85;
}

.articulacion-col-header {
  padding: var(--sp-3) var(--sp-4);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.articulacion-col-header .grupo-label {
  font-size: var(--text-sm);
  font-weight: 700;
  letter-spacing: var(--tracking-wide);
  color: var(--text-muted);
}

.articulacion-col.actual .articulacion-col-header .grupo-label {
  color: var(--accent);
}

.articulacion-col-header .grupo-badge {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
}

.articulacion-col-body {
  padding: var(--sp-4);
  display: flex;
  flex-direction: column;
  gap: var(--sp-2);
}

/* Connecting arrows between columns */
.articulacion-arrows {
  display: none; /* shown via JS when needed */
  align-items: center;
  font-size: 20px;
  color: var(--text-muted);
  padding: 0 var(--sp-2);
}

/* Empty state for first/last group */
.articulacion-empty {
  padding: var(--sp-8) var(--sp-4);
  text-align: center;
  color: var(--text-muted);
  font-size: var(--text-sm);
  font-style: italic;
}

/* ═══════════════════════════════════════════════════════════════
   PLAN DE PERIODO — Table/Detail View
   ═══════════════════════════════════════════════════════════════ */
.plan-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-4);
}

.plan-section {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--sp-4);
}

.plan-section-title {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: var(--sp-3);
  padding-bottom: var(--sp-2);
  border-bottom: 1px solid var(--border-subtle);
}

.plan-section-full {
  grid-column: 1 / -1;
}

.plan-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--sp-2);
}

.plan-list li {
  padding-left: var(--sp-4);
  position: relative;
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-loose);
}

.plan-list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0.7em;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent);
  opacity: 0.5;
}

/* Evaluación: saber/hacer/ser bars */
.eval-bars {
  display: flex;
  gap: var(--sp-2);
  margin-top: var(--sp-3);
}

.eval-bar {
  flex: 1;
  text-align: center;
}

.eval-bar-track {
  height: 6px;
  background: var(--bg-overlay);
  border-radius: 3px;
  overflow: hidden;
  margin-bottom: var(--sp-1);
}

.eval-bar-fill {
  height: 100%;
  border-radius: 3px;
  transition: width var(--dur-slow) var(--ease-out);
}

.eval-bar-fill.saber  { background: var(--info); }
.eval-bar-fill.hacer  { background: var(--success); }
.eval-bar-fill.ser    { background: var(--soc); }

.eval-bar-label {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-muted);
}

.eval-bar-pct {
  font-size: var(--text-xs);
  font-weight: 700;
  color: var(--text-secondary);
}

/* ICFES competencias display */
.icfes-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--sp-3);
}

.icfes-item {
  padding: var(--sp-3);
  background: var(--bg-base);
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-subtle);
}

.icfes-item-label {
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: var(--tracking-caps);
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: var(--sp-1);
}

.icfes-item-text {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-normal);
}

/* ═══════════════════════════════════════════════════════════════
   IA PANEL — Collapsible side/bottom panel
   ═══════════════════════════════════════════════════════════════ */
.ia-panel {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  overflow: hidden;
  transition: all var(--dur-normal) var(--ease-out);
}

.ia-panel-header {
  padding: var(--sp-3) var(--sp-4);
  background: linear-gradient(135deg, var(--ia-dim), transparent);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  user-select: none;
}

.ia-panel-title {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  font-size: var(--text-sm);
  font-weight: 700;
  color: var(--ia-from);
}

.ia-panel-title .ia-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--ia-from);
  animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50%      { opacity: 1;   transform: scale(1.3); }
}

.ia-panel-body {
  padding: var(--sp-4);
  display: none;
}

.ia-panel.open .ia-panel-body {
  display: block;
}

.ia-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-2);
  margin-bottom: var(--sp-4);
}

.ia-action-btn {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: var(--sp-1);
  padding: var(--sp-3);
  background: var(--bg-base);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-out);
  text-align: left;
}

.ia-action-btn:hover {
  border-color: var(--ia-from);
  background: var(--ia-dim);
}

.ia-action-btn-title {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text-primary);
}

.ia-action-btn-desc {
  font-size: var(--text-xs);
  color: var(--text-muted);
}

/* Token estimate bar */
.ia-token-estimate {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  padding: var(--sp-2) var(--sp-3);
  background: var(--bg-base);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin-bottom: var(--sp-3);
}

.ia-token-bar {
  flex: 1;
  height: 4px;
  background: var(--bg-overlay);
  border-radius: 2px;
  overflow: hidden;
}

.ia-token-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--ia-from), var(--ia-to));
  border-radius: 2px;
  transition: width var(--dur-normal);
}

/* IA response area */
.ia-response {
  padding: var(--sp-4);
  background: var(--bg-base);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  line-height: var(--leading-loose);
  color: var(--text-secondary);
  min-height: 100px;
  white-space: pre-wrap;
}

.ia-response.loading {
  color: var(--text-muted);
  font-style: italic;
}

/* IA fallback button */
.ia-fallback {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  padding: var(--sp-2) var(--sp-3);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  color: var(--text-muted);
  background: var(--bg-overlay);
  border: 1px dashed var(--border-default);
  cursor: pointer;
  transition: all var(--dur-fast);
  margin-top: var(--sp-2);
}

.ia-fallback:hover {
  border-color: var(--ia-from);
  color: var(--ia-from);
  background: var(--ia-dim);
}

/* ═══════════════════════════════════════════════════════════════
   MODAL
   ═══════════════════════════════════════════════════════════════ */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  display: none;
  place-items: center;
  z-index: 200;
}

.modal-overlay.open {
  display: grid;
}

.modal {
  background: var(--bg-elevated);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  width: min(560px, 90vw);
  max-height: 80vh;
  overflow-y: auto;
  animation: modal-in var(--dur-normal) var(--ease-spring);
}

@keyframes modal-in {
  from { opacity: 0; transform: scale(0.95) translateY(10px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

.modal-header {
  padding: var(--sp-5);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modal-title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
}

.modal-close {
  width: 30px;
  height: 30px;
  display: grid;
  place-items: center;
  background: transparent;
  border: none;
  color: var(--text-muted);
  font-size: 18px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--dur-fast);
}
.modal-close:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.modal-body {
  padding: var(--sp-5);
}

.modal-footer {
  padding: var(--sp-4) var(--sp-5);
  border-top: 1px solid var(--border-subtle);
  display: flex;
  justify-content: flex-end;
  gap: var(--sp-2);
}

/* Form fields inside modal */
.form-group {
  margin-bottom: var(--sp-4);
}

.form-label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: var(--sp-1);
}

.form-input {
  width: 100%;
  padding: var(--sp-2) var(--sp-3);
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-size: var(--text-sm);
  transition: all var(--dur-fast);
}

.form-input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-dim);
  outline: none;
}

.form-textarea {
  min-height: 80px;
  resize: vertical;
}

/* ═══════════════════════════════════════════════════════════════
   PAGE-LEVEL SECTIONS
   ═══════════════════════════════════════════════════════════════ */

/* Section title with accent underline */
.section-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
  margin-bottom: var(--sp-2);
  padding-bottom: var(--sp-2);
  border-bottom: 2px solid var(--accent);
  display: inline-block;
}

.section-description {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-loose);
  max-width: 70ch;
  margin-bottom: var(--sp-6);
}

/* Area overview cards grid */
.areas-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: var(--sp-4);
}

.area-card {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-left: 4px solid var(--accent);
  border-radius: var(--radius-md);
  padding: var(--sp-5);
  cursor: pointer;
  transition: all var(--dur-normal) var(--ease-out);
  position: relative;
  overflow: hidden;
}

.area-card::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle at top right, var(--accent-dim), transparent 70%);
  pointer-events: none;
}

.area-card:hover {
  border-color: var(--accent-glow);
  box-shadow: var(--shadow-md), var(--shadow-glow);
  transform: translateY(-2px);
}

.area-card-icon {
  font-size: 28px;
  margin-bottom: var(--sp-3);
  opacity: 0.8;
}

.area-card-name {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
  margin-bottom: var(--sp-2);
}

.area-card-count {
  font-size: var(--text-xs);
  color: var(--text-muted);
}

/* ═══════════════════════════════════════════════════════════════
   EMPTY / LOADING / ERROR STATES
   ═══════════════════════════════════════════════════════════════ */
.empty-state {
  text-align: center;
  padding: var(--sp-16) var(--sp-8);
  color: var(--text-muted);
}

.empty-state-icon {
  font-size: 48px;
  margin-bottom: var(--sp-4);
  opacity: 0.3;
}

.empty-state-title {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: var(--sp-2);
}

.empty-state-text {
  font-size: var(--text-sm);
  max-width: 40ch;
  margin: 0 auto;
  line-height: var(--leading-loose);
}

.loading-spinner {
  width: 24px;
  height: 24px;
  border: 3px solid var(--border-default);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.toast {
  position: fixed;
  bottom: var(--sp-6);
  right: var(--sp-6);
  padding: var(--sp-3) var(--sp-5);
  background: var(--bg-elevated);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  font-size: var(--text-sm);
  color: var(--text-primary);
  z-index: 300;
  animation: toast-in var(--dur-normal) var(--ease-spring);
}

@keyframes toast-in {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ═══════════════════════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════════════════════ */

/* Tablet landscape (1024px) */
@media (max-width: 1024px) {
  :root {
    --sidebar-w: 240px;
  }

  .articulacion-panel {
    grid-template-columns: 1fr 1.1fr 1fr;
    gap: var(--sp-3);
  }

  .plan-grid {
    grid-template-columns: 1fr;
  }

  .icfes-grid {
    grid-template-columns: 1fr;
  }
}

/* Tablet portrait / large phone (768px) */
@media (max-width: 768px) {
  .app-layout {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main";
  }

  .app-sidebar {
    position: fixed;
    left: 0;
    top: var(--header-h);
    bottom: 0;
    width: var(--sidebar-w);
    z-index: 90;
    transform: translateX(-100%);
    transition: transform var(--dur-normal) var(--ease-out);
    box-shadow: var(--shadow-lg);
  }

  .app-sidebar.open {
    transform: translateX(0);
  }

  .sidebar-backdrop {
    position: fixed;
    inset: 0;
    top: var(--header-h);
    background: rgba(0,0,0,0.4);
    z-index: 89;
    display: none;
  }

  .sidebar-backdrop.open { display: block; }

  .app-main {
    padding: var(--sp-4);
  }

  .articulacion-panel {
    grid-template-columns: 1fr;
    gap: var(--sp-3);
  }

  .articulacion-col.actual {
    transform: none;
    order: -1;
  }

  .filter-bar {
    flex-direction: column;
    align-items: stretch;
  }

  .select { min-width: auto; width: 100%; }

  .areas-grid {
    grid-template-columns: 1fr;
  }

  .ia-actions {
    grid-template-columns: 1fr;
  }
}

/* Small phone */
@media (max-width: 480px) {
  .header-badge-men { display: none; }
  .header-title { font-size: var(--text-base); }

  .section-title { font-size: var(--text-xl); }

  .tabs { gap: 0; }
  .tab { padding: var(--sp-2) var(--sp-3); font-size: var(--text-xs); }
}

/* ═══════════════════════════════════════════════════════════════
   PRINT STYLES
   ═══════════════════════════════════════════════════════════════ */
@media print {
  * {
    color: #000 !important;
    background: #fff !important;
    box-shadow: none !important;
    text-shadow: none !important;
    border-color: #ccc !important;
  }

  body::before { display: none; }

  .app-layout {
    display: block;
  }

  .app-sidebar,
  .app-header,
  .ia-panel,
  .btn-ia,
  .ia-fallback,
  .search-container,
  .theme-toggle,
  .header-actions,
  .modal-overlay,
  .toast,
  .sidebar-backdrop {
    display: none !important;
  }

  .app-main {
    padding: 0;
    overflow: visible;
  }

  .card, .plan-section, .articulacion-col {
    break-inside: avoid;
    page-break-inside: avoid;
    border: 1px solid #ccc;
  }

  .articulacion-panel {
    grid-template-columns: 1fr 1fr 1fr;
  }

  .articulacion-col.actual {
    transform: none;
    border-width: 2px;
    border-color: #333 !important;
  }

  .articulacion-col.anterior,
  .articulacion-col.siguiente {
    opacity: 1;
  }

  .section-title {
    border-bottom-color: #333 !important;
  }

  .badge, .chip {
    border: 1px solid #999 !important;
  }

  .estandar-item {
    border-left-color: #666 !important;
  }

  .eval-bar-fill {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Print header */
  .print-header {
    display: block !important;
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #333;
  }

  .print-header-title {
    font-size: 18pt;
    font-weight: 700;
  }

  .print-header-subtitle {
    font-size: 10pt;
    color: #666;
  }

  @page {
    margin: 1.5cm;
    size: A4;
  }
}

/* Print header hidden in screen */
.print-header { display: none; }

/* ═══════════════════════════════════════════════════════════════
   UTILITY CLASSES
   ═══════════════════════════════════════════════════════════════ */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

.flex       { display: flex; }
.flex-col   { flex-direction: column; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.gap-1 { gap: var(--sp-1); } .gap-2 { gap: var(--sp-2); }
.gap-3 { gap: var(--sp-3); } .gap-4 { gap: var(--sp-4); }
.gap-6 { gap: var(--sp-6); }

.text-xs    { font-size: var(--text-xs); }
.text-sm    { font-size: var(--text-sm); }
.text-muted { color: var(--text-muted); }
.text-secondary { color: var(--text-secondary); }
.font-bold  { font-weight: 700; }
.uppercase  { text-transform: uppercase; letter-spacing: var(--tracking-caps); }

.mt-2 { margin-top: var(--sp-2); } .mt-4 { margin-top: var(--sp-4); }
.mb-2 { margin-bottom: var(--sp-2); } .mb-4 { margin-bottom: var(--sp-4); }

.w-full { width: 100%; }
.hidden { display: none !important; }
.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* === ICFES Section === */
.icfes-aprendizaje { border-bottom: 1px solid var(--border); }
.icfes-aprendizaje:last-child { border-bottom: none; }
.icfes-aprendizaje > summary { padding: var(--sp-3); }
.icfes-aprendizaje > summary::-webkit-details-marker { display: none; }
.icfes-aprendizaje > summary::before { content: '▸ '; color: var(--text-muted); }
.icfes-aprendizaje[open] > summary::before { content: '▾ '; }
.icfes-evidencias { padding: 0 var(--sp-4) var(--sp-3) var(--sp-6); }
.icfes-evidencia-item {
  padding: var(--sp-2) 0;
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-loose);
  border-bottom: 1px dashed var(--border);
}
.icfes-evidencia-item:last-child { border-bottom: none; }
.icfes-niveles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--sp-3);
}
.icfes-nivel {
  padding: var(--sp-3);
  background: var(--surface-1);
  border-radius: var(--radius-md);
  transition: opacity 0.2s;
}
.icfes-nivel-activo {
  background: var(--surface-2);
  box-shadow: 0 0 0 2px var(--accent);
}
.icfes-nivel-inactivo {
  opacity: 0.5;
}
.icfes-nivel-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  display: inline-block;
  flex-shrink: 0;
}

/* ─── PREGUNTAS TIPO ICFES ─── */
.icfes-pregunta { border-bottom: 1px solid var(--border); }
.icfes-pregunta:last-child { border-bottom: none; }
.icfes-pregunta-header {
  padding: var(--sp-3) 0;
  cursor: pointer;
  list-style: none;
}
.icfes-pregunta-header::-webkit-details-marker { display: none; }
.icfes-pregunta-body {
  padding: 0 0 var(--sp-4) 0;
}
.icfes-pregunta-enunciado {
  font-size: var(--text-sm);
  line-height: var(--leading-loose);
  color: var(--text-secondary);
  margin-bottom: var(--sp-3);
  white-space: pre-line;
}
.icfes-opciones {
  display: flex;
  flex-direction: column;
  gap: var(--sp-2);
  margin-bottom: var(--sp-3);
}
.icfes-opcion {
  display: flex;
  align-items: flex-start;
  gap: var(--sp-2);
  padding: var(--sp-2) var(--sp-3);
  border-radius: var(--radius-sm);
  background: var(--surface-1);
  font-size: var(--text-sm);
  line-height: var(--leading-normal);
}
.icfes-opcion-letra {
  font-weight: 700;
  min-width: 1.2em;
  color: var(--text-muted);
}
.icfes-opcion-correcta {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
  border: 1px solid color-mix(in srgb, var(--accent) 30%, transparent);
}
.icfes-opcion-correcta .icfes-opcion-letra {
  color: var(--accent);
}
.icfes-justificacion summary {
  font-weight: 500;
}
  </style>
</head>
<body data-area="matematicas">

  <div class="app-layout">
    <header class="app-header">
      <div class="header-brand">
        <button class="btn btn-icon btn-ghost" id="menu-btn" data-action="toggle-sidebar" style="display:none" aria-label="Menú">☰</button>
        <div class="header-logo">ICFES</div>
        <div>
          <div class="header-title">Articulador Curricular Saber ICFES</div>
          <div class="header-subtitle">Asistente Pedagógico para el Docente Colombiano</div>
        </div>
      </div>
      <div class="header-actions">
        <span class="header-badge-men">MEN Colombia</span>
        <button class="theme-toggle" id="theme-toggle" data-action="toggle-theme" title="Cambiar tema" aria-label="Cambiar tema">◐</button>
      </div>
    </header>
    <aside class="app-sidebar" id="sidebar"><nav id="sidebar-nav"></nav></aside>
    <div class="sidebar-backdrop" data-action="close-sidebar"></div>
    <main class="app-main" id="main-content"></main>
  </div>

  <script>
/**
 * Estándares Básicos de Competencias en Matemáticas
 * Ministerio de Educación Nacional de Colombia (MEN) - 2006
 *
 * Fuente oficial: "Estándares Básicos de Competencias en Lenguaje,
 * Matemáticas, Ciencias y Ciudadanas" - MEN 2006
 * Disponible en: https://www.mineducacion.gov.co/1621/articles-340021_recurso_1.pdf
 *
 * Estructura:
 * - 5 grupos de grados: 1-3, 4-5, 6-7, 8-9, 10-11
 * - 5 pensamientos matemáticos por grupo
 */

const EBC_MATEMATICAS = {
  area: 'matematicas',
  nombre: 'Matemáticas',
  color: '#4f83f1',
  ejes: [
    { id: 'numerico',    nombre: 'Pensamiento Numérico y Sistemas Numéricos',              color: '#3B82F6' },
    { id: 'espacial',    nombre: 'Pensamiento Espacial y Sistemas Geométricos',            color: '#10B981' },
    { id: 'metrico',     nombre: 'Pensamiento Métrico y Sistemas de Medidas',              color: '#F59E0B' },
    { id: 'aleatorio',   nombre: 'Pensamiento Aleatorio y Sistemas de Datos',              color: '#8B5CF6' },
    { id: 'variacional', nombre: 'Pensamiento Variacional y Sistemas Algebraicos y Analíticos', color: '#EF4444' }
  ],
  grupos: {

    // =========================================================
    // GRADOS 1° a 3°
    // =========================================================
    '1-3': {
      estandarGeneral: 'Me aproximo al conocimiento como científico(a) natural y social. Manejo conocimientos propios de las matemáticas. Desarrollo compromisos personales y sociales.',
      estandares: {
        numerico: [
          'Reconozco significados del número en diferentes contextos (medición, conteo, comparación, codificación, localización entre otros).',
          'Describo, comparo y cuantifico situaciones con números, en diferentes contextos y con diversas representaciones.',
          'Identifico regularidades y propiedades de los números con relación a las operaciones.',
          'Uso representaciones principalmente concretas y pictóricas para explicar el valor posicional en el sistema de numeración decimal.',
          'Reconozco y hago combinaciones y arreglos con objetos del entorno.',
          'Uso diversas estrategias de cálculo (especialmente cálculo mental) y de estimación para resolver problemas en situaciones aditivas y multiplicativas.',
          'Formulo y resuelvo problemas en situaciones aditivas y multiplicativas en diferentes contextos y con diversos significados de las operaciones.'
        ],
        espacial: [
          'Reconozco y nombro figuras geométricas en el entorno y en representaciones bidimensionales y tridimensionales.',
          'Identifico, describo y construyo figuras y cuerpos geométricos usando diversas representaciones.',
          'Reconozco y aplico traslaciones y giros sobre una figura.',
          'Represento el espacio circundante para establecer relaciones espaciales (dirección, distancia, posición entre otras).',
          'Uso sistemas de referencia para describir la posición de objetos en el espacio.',
          'Describo y represento posiciones y movimientos de objetos y personas en el espacio, usando sistemas de referencia como puntos cardinales y otros.'
        ],
        metrico: [
          'Comparo y ordeno objetos según atributos medibles.',
          'Reconozco en los objetos propiedades o atributos que se pueden medir (longitud, área, volumen, capacidad, peso y masa) y los comparo.',
          'Realizo y describo procesos de medición con patrones arbitrarios y algunos estandarizados, de acuerdo con el contexto.',
          'Diferencio entre el uso de unidades de medida no estandarizadas y las estandarizadas (convencionales).',
          'Estimo y mido la longitud, área, volumen, capacidad, peso y masa de objetos y los represento.',
          'Reconozco el uso del dinero en situaciones cotidianas de compra y venta.'
        ],
        aleatorio: [
          'Represento datos relativos al entorno usando objetos concretos, pictogramas y diagramas de barras.',
          'Interpreto cualitativamente datos referidos a situaciones del entorno escolar.',
          'Llevo registro de datos sobre características de objetos, personas o eventos de interés utilizando formatos.',
          'Reconozco la importancia de los datos para dar respuesta a preguntas.',
          'Identifico, en situaciones cotidianas, la influencia del azar y reconozco la posibilidad de ocurrencia de eventos.'
        ],
        variacional: [
          'Reconozco y describo regularidades y patrones en distintos contextos (numérico, geométrico, musical, entre otros).',
          'Describo cualitativamente situaciones de cambio y variación utilizando el lenguaje natural, dibujos y gráficas.',
          'Predico patrones de variación en una secuencia numérica, geométrica o gráfica.',
          'Identifica y sigue reglas para completar patrones de números, figuras y otros elementos.'
        ]
      }
    },

    // =========================================================
    // GRADOS 4° a 5°
    // =========================================================
    '4-5': {
      estandarGeneral: 'Me aproximo al conocimiento como científico(a) natural y social. Manejo conocimientos propios de las matemáticas. Desarrollo compromisos personales y sociales.',
      estandares: {
        numerico: [
          'Reconozco nuevos conjuntos numéricos (números enteros, racionales) para resolver problemas en diferentes contextos.',
          'Identifico y uso los números enteros, fracciones y decimales en contextos cotidianos y comparo sus representaciones.',
          'Formulo y resuelvo problemas cuya solución requiere de las relaciones y operaciones entre fracciones y/o decimales.',
          'Reconozco las propiedades de los números (divisibilidad, múltiplos, factores primos) y las uso en la solución de problemas.',
          'Reconozco y uso la notación potencial para representar productos de factores iguales.',
          'Utilizo estrategias de cálculo para estimar y calcular resultados de operaciones con números enteros, fracciones y decimales.',
          'Formulo y resuelvo problemas en situaciones de proporcionalidad directa e inversa.',
          'Establezco relaciones entre el número de partes de un todo y sus representaciones fraccionarias y decimales.'
        ],
        espacial: [
          'Reconozco y aplico nociones de horizontalidad, verticalidad, paralelismo y perpendicularidad en distintos contextos.',
          'Identifico y describo figuras y cuerpos geométricos a partir de sus componentes (vértices, aristas, caras, lados) y propiedades.',
          'Construyo y descompongo figuras y sólidos con base en sus características.',
          'Reconozco y aplico las nociones de paralelismo y perpendicularidad entre rectas y entre planos en la construcción de figuras.',
          'Comparo y clasifico figuras bidimensionales y tridimensionales de acuerdo con sus componentes y propiedades.',
          'Predigo y comparo los resultados de aplicar transformaciones rígidas (traslaciones, reflexiones, rotaciones) sobre figuras.',
          'Uso coordenadas cartesianas para especificar localizaciones y describir relaciones espaciales.'
        ],
        metrico: [
          'Realizo conversiones entre unidades de medida del sistema métrico e inglés para longitud, masa, capacidad y tiempo.',
          'Utilizo ángulos y sus medidas para describir, comparar y construir figuras y representaciones de objetos.',
          'Resuelvo y formulo problemas que involucren factores escalares (razones de ampliación y reducción) en contextos de medición.',
          'Calculo y establezco relaciones entre las dimensiones lineales, superficiales y de volumen de objetos y figuras.',
          'Reconozco el uso de algunas magnitudes en la vida cotidiana y cálculo perímetros, áreas de figuras planas y volúmenes de sólidos.',
          'Describo y argumento relaciones entre el perímetro y el área de figuras bidimensionales al realizar transformaciones sobre ellas.'
        ],
        aleatorio: [
          'Resuelvo y formulo preguntas que requieran para su solución coleccionar y analizar datos del entorno próximo.',
          'Represento datos usando tablas y gráficas (pictogramas, diagramas de barras, diagramas de líneas, diagramas circulares).',
          'Comparo diferentes representaciones del mismo conjunto de datos; identifico conjuntos de datos que tienen las mismas representaciones.',
          'Interpreto información presentada en tablas y gráficas (diagramas de barras, diagramas circulares, histogramas).',
          'Conjeturo y verifico predicciones acerca de la posibilidad de ocurrencia de eventos.',
          'Describo la manera de obtener información para resolver una pregunta y si esta información refleja la situación que se quiere estudiar.',
          'Reconozco la frecuencia relativa como herramienta para hacer inferencias.'
        ],
        variacional: [
          'Describo y represento situaciones de variación con gráficas y tablas.',
          'Analizo y explico las distintas posibilidades de cambio en situaciones de variación y establezco conjuntos de variación.',
          'Construyo secuencias numéricas y geométricas, utilizando muchas formas de representación.',
          'Reconozco y generalizo propiedades de los números naturales en contextos de variación.',
          'Uso métodos informales para determinar equivalencias entre expresiones que representan una misma situación de variación.',
          'Identifico y establezco relaciones entre distintas representaciones de un patrón de variación (tablas, ecuaciones, gráficas).'
        ]
      }
    },

    // =========================================================
    // GRADOS 6° a 7°
    // =========================================================
    '6-7': {
      estandarGeneral: 'Me aproximo al conocimiento como científico(a) natural y social. Manejo conocimientos propios de las matemáticas. Desarrollo compromisos personales y sociales.',
      estandares: {
        numerico: [
          'Utilizo números racionales, en sus distintas expresiones (fracciones, razones, decimales o porcentajes) para resolver problemas en contextos de medida.',
          'Justifico la extensión de la representación polinomial decimal usual de los números racionales a la representación de los irracionales.',
          'Reconozco y generalizo propiedades de las relaciones entre números racionales y los utilizo en la resolución de situaciones.',
          'Resuelvo y formulo problemas utilizando propiedades básicas de la teoría de números, como factorización y divisibilidad.',
          'Justifico procedimientos aritméticos utilizando las relaciones y propiedades de las operaciones.',
          'Formulo y resuelvo problemas en situaciones aditivas y multiplicativas, en diferentes contextos y dominios numéricos.',
          'Resuelvo y formulo problemas cuya solución requiere potenciación o radicación.',
          'Justifico la pertinencia de un cálculo exacto o aproximado en la solución de un problema y lo realizo con el grado de exactitud requerido.',
          'Justifico la elección de métodos e instrumentos de cálculo en situaciones de solución de problemas.',
          'Reconozco e interpreto argumentos combinatorios como herramienta para interpretar situaciones diversas.',
          'Resuelvo y formulo problemas en contextos de medidas relativas y de variaciones en las medidas.',
          'Utilizo representaciones matriciales para resolver problemas simples.'
        ],
        espacial: [
          'Represento objetos tridimensionales desde diferentes posiciones y vistas (de frente, de perfil, de arriba).',
          'Identifico y describo figuras y cuerpos generados por cortes rectos y oblicuos de objetos tridimensionales.',
          'Clasifico polígonos en relación con sus propiedades: número de lados, relaciones de congruencia y semejanza, entre otras.',
          'Predigo y comparo los resultados de aplicar transformaciones rígidas (traslaciones, reflexiones, rotaciones) y homotecias sobre figuras.',
          'Resuelvo y formulo problemas que involucren relaciones y propiedades de semejanza y congruencia usando representaciones visuales.',
          'Resuelvo y formulo problemas usando propiedades básicas de ángulos, polígonos y círculos (elementos y relaciones).',
          'Identifico características de localización de objetos en sistemas de representación cartesiana y en sistemas de representación geográfica.'
        ],
        metrico: [
          'Utilizo técnicas y herramientas para la construcción de figuras planas y cuerpos con medidas dadas.',
          'Resuelvo y formulo problemas que involucren factores escalares (razones de ampliación y reducción) en diferentes contextos.',
          'Calculo áreas y volúmenes a través de composición y descomposición de figuras y cuerpos.',
          'Identifico relaciones entre distintas unidades utilizadas para medir cantidades de la misma magnitud.',
          'Resuelvo y formulo problemas que requieren técnicas de estimación, con datos provenientes de diversas fuentes (científicas, sociales, económicas).',
          'Reconozco y utilizo la relación entre el perímetro y el área de figuras planas.',
          'Uso sistemas de referencia para localizar objetos y describir trayectorias, a distintas escalas.'
        ],
        aleatorio: [
          'Comparo e interpreto datos provenientes de diversas fuentes (prensa, revistas, televisión, experimentos, consultas, entrevistas).',
          'Reconozco la relación entre un conjunto de datos y su representación estadística y advierto sus posibles errores.',
          'Interpreto, produzco y comparo representaciones gráficas adecuadas para presentar diversos tipos de datos (diagramas de barras, histogramas, polígonos de frecuencias).',
          'Uso medidas de tendencia central (media, mediana, moda) para interpretar y comparar conjuntos de datos.',
          'Uso modelos (diagramas de árbol, tablas) para discutir y predecir la posibilidad de ocurrencia de un evento.',
          'Resuelvo y formulo problemas a partir de un conjunto de datos presentados en tablas, diagramas de barras, diagramas circulares.',
          'Predigo y justifico razonamientos y conclusiones usando información estadística.'
        ],
        variacional: [
          'Describo y represento situaciones de variación relacionando diferentes representaciones (diagramas, expresiones verbales, tablas y gráficas).',
          'Reconozco el conjunto de valores de cada una de las cantidades variables ligadas entre sí en una situación de variación.',
          'Analizo las propiedades de correlación positiva y negativa entre variables, de variación lineal o de proporcionalidad directa e inversa.',
          'Utilizo métodos informales (ensayo y error, complementación, procesos inversos) en la solución de ecuaciones y lo verifico.',
          'Identifico características de las gráficas cartesianas de funciones en situaciones de cambio.',
          'Predigo el comportamiento de una función representada gráfica, tabular o algebraicamente.',
          'Construyo expresiones algebraicas equivalentes a una expresión algebraica dada.'
        ]
      }
    },

    // =========================================================
    // GRADOS 8° a 9°
    // =========================================================
    '8-9': {
      estandarGeneral: 'Me aproximo al conocimiento como científico(a) natural y social. Manejo conocimientos propios de las matemáticas. Desarrollo compromisos personales y sociales.',
      estandares: {
        numerico: [
          'Utilizo números reales en sus diferentes representaciones y en distintos contextos.',
          'Establezco relaciones y diferencias entre diferentes notaciones de números reales para decidir sobre su uso en una situación dada.',
          'Resuelvo problemas y simplifico cálculos usando propiedades y relaciones de los números reales y de las relaciones y operaciones entre ellos.',
          'Formulo y resuelvo problemas en contextos de medidas relativas, de variación y en situaciones que involucran números negativos.',
          'Identifico y uso números irracionales en situaciones geométricas y de medición.',
          'Resuelvo y formulo problemas cuya solución requiere cálculo exacto o aproximado con números reales.',
          'Identifico y aplico propiedades de los números reales (cerradura, conmutatividad, asociatividad, distributividad, elemento neutro, elemento inverso) en situaciones de solución de problemas.'
        ],
        espacial: [
          'Reconozco y contrasto propiedades y relaciones geométricas usadas en demostración de teoremas básicos.',
          'Aplico y justifico criterios de congruencia y semejanza entre triángulos en la resolución y formulación de problemas.',
          'Uso representaciones geométricas para resolver y formular problemas en las matemáticas y en otras disciplinas.',
          'Describo y aplico las propiedades de las transformaciones que preservan la congruencia y la semejanza (traslaciones, rotaciones, reflexiones y homotecias).',
          'Identifico y aplico relaciones entre rectas y ángulos (perpendiculares, paralelas, oblicuas, bisectrices, mediatriz) para argumentar sobre propiedades de figuras.',
          'Justifico la selección de métodos e instrumentos de trazado en la construcción de figuras geométricas.',
          'Reconozco y uso argumentos geométricos para resolver y formular problemas en diferentes contextos.'
        ],
        metrico: [
          'Resuelvo y formulo problemas usando modelos geométricos.',
          'Aplico el teorema de Pitágoras para calcular longitudes en distintas situaciones geométricas.',
          'Reconozco y uso las medidas de tendencia central para interpretar comportamiento de un conjunto de datos en su contexto.',
          'Uso argumentos geométricos para resolver y formular problemas de medición.',
          'Calculo áreas y volúmenes de figuras y cuerpos geométricos solucionando problemas de medición.',
          'Identifico características de las magnitudes periódicas y estimo sus medidas.',
          'Determino la validez de procesos de medición y cálculo para resolver problemas.'
        ],
        aleatorio: [
          'Interpreto analíticamente situaciones de variación y establezco relaciones entre magnitudes representadas en tablas y gráficas.',
          'Reconozco situaciones de dependencia e independencia estadística y las relaciono con el concepto de probabilidad.',
          'Uso la media, la mediana y la desviación estándar para interpretar y comparar conjuntos de datos provenientes de diferentes fuentes.',
          'Interpreto y comparo resultados de estudios con información estadística provenientes de medios de comunicación.',
          'Reconozco la diferencia entre los modelos discretos (experimentos binomiales) y los continuos para datos estadísticos.',
          'Calculo probabilidad de eventos simples usando métodos diversos (listados, diagramas de árbol, técnicas de conteo).',
          'Resuelvo problemas usando conceptos básicos de probabilidad (probabilidad simple, probabilidad complementaria, regla de la adición).',
          'Uso el concepto de muestra estadística representativa y lo aplico en situaciones de investigación.'
        ],
        variacional: [
          'Identifico diferentes métodos para solucionar sistemas de ecuaciones lineales.',
          'Uso procesos inductivos y lenguaje algebraico para formular y poner a prueba conjeturas.',
          'Modelo situaciones de variación con funciones lineales y las uso para resolver problemas.',
          'Identifico y uso relaciones de dependencia entre variables cuando analizo situaciones concretas.',
          'Construyo expresiones algebraicas que modelan situaciones en contextos matemáticos y no matemáticos.',
          'Reconozco la diferencia entre una variable, una incógnita y un parámetro en la formulación de un problema.',
          'Formulo y resuelvo sistemas de ecuaciones lineales (con dos incógnitas) y cuadráticas.',
          'Identifico y represento funciones como modelos de situaciones de variación (función lineal, cuadrática, exponencial).'
        ]
      }
    },

    // =========================================================
    // GRADOS 10° a 11°
    // =========================================================
    '10-11': {
      estandarGeneral: 'Me aproximo al conocimiento como científico(a) natural y social. Manejo conocimientos propios de las matemáticas. Desarrollo compromisos personales y sociales.',
      estandares: {
        numerico: [
          'Establezco relaciones y diferencias entre diferentes notaciones de números reales y complejos para decidir sobre su uso en una situación dada.',
          'Identifico el conjunto de los números complejos, sus propiedades y las operaciones entre ellos.',
          'Propongo conjeturas y verifico sus resultados usando propiedades de los sistemas numéricos.',
          'Reconozco y uso la notación científica y el sistema de aproximación para representar y operar con números reales grandes y pequeños.',
          'Identifico y uso la potenciación, la radicación y el logaritmo en la resolución de problemas.',
          'Conjeturo y verifico propiedades de divisibilidad y factorización de polinomios.',
          'Resuelvo problemas usando las propiedades de los logaritmos y sus relaciones con la exponenciación.'
        ],
        espacial: [
          'Uso representaciones cartesianas para modelar situaciones geométricas de variación.',
          'Aplico propiedades de las figuras planas y cuerpos en la solución de problemas de medición.',
          'Identifico y aplico la geometría analítica para describir y analizar relaciones de las figuras en el plano cartesiano.',
          'Describo curvas y lugares geométricos en el plano cartesiano (circunferencia, parábola, elipse, hipérbola) y los uso para modelar situaciones.',
          'Uso sistemas de coordenadas para representar transformaciones geométricas y analizar sus propiedades.',
          'Generalizo propiedades de figuras geométricas para construir argumentos y demostraciones matemáticas.',
          'Reconozco y uso propiedades de los vectores en el plano y en el espacio para resolver problemas de geometría y física.'
        ],
        metrico: [
          'Aplico relaciones trigonométricas para resolver situaciones de medición directa e indirecta.',
          'Uso las funciones trigonométricas para modelar situaciones periódicas y resolver problemas en diferentes contextos.',
          'Resuelvo problemas en situaciones de medición que requieren aplicar la ley de senos y la ley de cosenos.',
          'Convierto y aplico unidades de medida de diferentes sistemas (métrico, imperial, anglosajón) en situaciones problema.',
          'Identifico condiciones de semejanza en figuras y las uso para resolver problemas de medición indirecta.',
          'Describo e interpreto situaciones de medición que involucran magnitudes vectoriales y escalares.'
        ],
        aleatorio: [
          'Interpreto y utilizo conceptos de media, varianza y desviación estándar para analizar conjuntos de datos.',
          'Uso la distribución normal para hacer inferencias sobre una población a partir de muestras representativas.',
          'Calculo probabilidades usando las propiedades básicas del modelo de probabilidad (laplaciana, frecuentista, axiomática).',
          'Resuelvo situaciones que involucran probabilidad condicional e independencia de eventos.',
          'Uso el concepto de probabilidad y sus modelos para cuantificar la posibilidad de ocurrencia de eventos.',
          'Reconozco y aplico conceptos de muestreo para diseñar y llevar a cabo estudios estadísticos sencillos.',
          'Interpreto resultados estadísticos para hacer inferencias y tomar decisiones en contextos reales.',
          'Uso distribuciones de probabilidad discretas (binomial) y continuas (normal) para modelar situaciones.'
        ],
        variacional: [
          'Modelo situaciones de variación con funciones polinómicas, racionales, exponenciales y logarítmicas.',
          'Analizo las propiedades de las funciones (dominio, rango, crecimiento, decrecimiento, máximos y mínimos) a través de su gráfica.',
          'Identifico las características de las funciones trigonométricas y las uso para modelar situaciones periódicas.',
          'Construyo modelos matemáticos de situaciones del mundo físico, económico y social usando funciones.',
          'Formulo y resuelvo ecuaciones e inecuaciones de forma algebraica y gráfica.',
          'Identifico y aplico el concepto de límite de una función para comprender la noción de continuidad.',
          'Resuelvo problemas de optimización usando modelos matemáticos y conceptos de cálculo diferencial.',
          'Reconozco la derivada como herramienta para analizar variación y la aplico en situaciones de cambio instantáneo.'
        ]
      }
    }
  }
};

// EBC_MATEMATICAS disponible como variable global
/**
 * Estándares Básicos de Competencias (EBC) - Lenguaje
 * Fuente: Ministerio de Educación Nacional (MEN) Colombia
 * Documento: "Estándares Básicos de Competencias en Lenguaje, Matemáticas, Ciencias y Ciudadanas" (2006)
 *
 * Estructura por grupos de grados: 1-3, 4-5, 6-7, 8-9, 10-11
 * Factores: Producción Textual, Comprensión e Interpretación Textual, Literatura,
 *           Medios de Comunicación y Otros Sistemas Simbólicos, Ética de la Comunicación
 *
 * Nota: El factor "Producción Textual" integra producción oral y escrita.
 *       El factor "Medios de Comunicación" incluye medios masivos y otros sistemas simbólicos.
 */

const EBC_LENGUAJE = {
  area: 'lenguaje',
  nombre: 'Lenguaje',
  color: '#19c37d',

  ejes: [
    {
      id: 'produccion',
      nombre: 'Producción Textual',
      color: '#10B981',
      descripcion: 'Producción de textos orales y escritos que responden a diversas necesidades comunicativas'
    },
    {
      id: 'comprension',
      nombre: 'Comprensión e Interpretación Textual',
      color: '#3B82F6',
      descripcion: 'Comprensión e interpretación de textos con actitud crítica y capacidad argumentativa'
    },
    {
      id: 'literatura',
      nombre: 'Literatura',
      color: '#8B5CF6',
      descripcion: 'Literatura como representación de la experiencia humana y como fuente de disfrute estético'
    },
    {
      id: 'medios',
      nombre: 'Medios de Comunicación y Otros Sistemas Simbólicos',
      color: '#F59E0B',
      descripcion: 'Comprensión y uso de los medios de comunicación masiva y otros sistemas de significación'
    },
    {
      id: 'etica',
      nombre: 'Ética de la Comunicación',
      color: '#EF4444',
      descripcion: 'Reconocimiento de los derechos propios y ajenos en el acto comunicativo con respeto y valoración de la diferencia'
    }
  ],

  grupos: {

    // =====================================================================
    // GRADOS 1 - 3
    // =====================================================================
    '1-3': {
      estandarGeneral: 'Produzco textos orales que responden a distintos propósitos comunicativos.',

      estandares: {

        produccion: [
          // Producción oral
          'Produzco textos orales, en situaciones comunicativas que permiten evidenciar el uso significativo de la entonación y la pertinencia articulatoria.',
          'Describo personas, objetos, lugares y eventos de manera clara.',
          'Narro historias, anécdotas y situaciones de mi entorno de manera coherente.',
          'Utilizo el lenguaje para satisfacer necesidades concretas de comunicación.',
          'Expreso de manera apropiada y con buena pronunciación las ideas que quiero compartir.',
          // Producción escrita
          'Produzco textos escritos que responden a diversas necesidades comunicativas.',
          'Determino el tema, el posible lector de mi texto y el propósito comunicativo que me lleva a producirlo.',
          'Elijo el tipo de texto que requiere mi propósito comunicativo.',
          'Reviso y corrijo los textos que produzco para mejorarlos.',
          'Establezco nexos entre las oraciones de mis textos (concordancia de número, género, tiempo y persona).'
        ],

        comprension: [
          'Comprendo textos que tienen diferentes formatos y finalidades.',
          'Leo diferentes clases de textos: manuales, diccionarios, enciclopedias, periódicos, obras literarias, etc.',
          'Relaciono el contenido de los textos que leo con mi experiencia.',
          'Identifico la silueta o el formato de los textos que leo.',
          'Elaboro y respondo preguntas sobre los textos leídos.',
          'Leo en voz alta con entonación y ritmo adecuados.'
        ],

        literatura: [
          'Elaboro hipótesis de lectura acerca de las relaciones entre los elementos constitutivos de un texto literario (personajes, espacios, ambientes, acciones) y entre éste y el contexto.',
          'Leo con cierta fluidez y comprensión diferentes tipos de textos literarios: cuentos, fábulas, leyendas y mitos.',
          'Diferencio entre los textos de carácter informativo y los de carácter literario.',
          'Reconozco en los textos literarios la posibilidad de desarrollar mi capacidad creativa y lúdica.',
          'Disfruto de la literatura como espacio de recreación, fantasía y exploración de sentimientos.'
        ],

        medios: [
          // Medios de comunicación masiva
          'Identifico los medios de comunicación masiva y las situaciones en los cuales es adecuado utilizarlos.',
          'Reconozco la información emitida por los medios de comunicación masivos: televisión, radio, prensa.',
          'Reconozco la diferencia entre la información y el entretenimiento en los medios de comunicación masiva.',
          // Otros sistemas simbólicos
          'Identifico la función social de los sistemas de comunicación no verbales (señales de tránsito, íconos, colores, gestos).',
          'Reconozco que los gestos, los movimientos corporales y los objetos tienen significado en la comunicación.',
          'Comprendo el sentido de mensajes a través de íconos y símbolos presentes en mi entorno.'
        ],

        etica: [
          'Identifico los roles que cumplen las personas que intervienen en la comunicación.',
          'Identifico las intenciones comunicativas de mis interlocutores al hablar, escribir, leer o escuchar.',
          'Reconozco la importancia de escuchar activamente a quien habla.',
          'Valoro y respeto el uso que las personas hacen del lenguaje de acuerdo con su contexto.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 4 - 5
    // =====================================================================
    '4-5': {
      estandarGeneral: 'Produzco textos orales, en situaciones comunicativas que permiten evidenciar el uso significativo de la entonación y la pertinencia articulatoria.',

      estandares: {

        produccion: [
          // Producción oral
          'Produzco textos orales de diferente tipo en situaciones comunicativas reales (narración, descripción, argumentación).',
          'Utilizo estrategias argumentativas con el fin de convencer a mis interlocutores.',
          'Reconozco el papel del gesto y la entonación en la significación de un enunciado oral.',
          'Adecúo la expresión oral a la situación comunicativa y al interlocutor.',
          // Producción escrita
          'Produzco textos escritos que responden a diversas necesidades comunicativas y que siguen un procedimiento estratégico para su elaboración.',
          'Determino el tema, el posible lector y el propósito comunicativo que me lleva a producir el texto.',
          'Delimito el tema de mi texto, siguiendo un plan de escritura.',
          'Produzco la primera versión del texto y la reviso teniendo en cuenta la coherencia y el uso de signos de puntuación.',
          'Reescribo el texto a partir de las propuestas de corrección formuladas por mis compañeros y por mi docente.',
          'Utilizo diversas estrategias de búsqueda, organización y almacenamiento de la información.'
        ],

        comprension: [
          'Comprendo diversos tipos de texto, utilizando algunas estrategias de búsqueda, organización y almacenamiento de la información.',
          'Leo diferentes clases de textos con fluidez y comprensión: explicativos, argumentativos, literarios, informativos.',
          'Relaciono el contenido de los textos con mi experiencia y con otros textos.',
          'Identifico las ideas principales y secundarias en los textos que leo.',
          'Establezco relaciones de causa-efecto, comparación y oposición entre los contenidos del texto.',
          'Formulo preguntas antes, durante y después de leer textos que tratan temas de interés para mí.'
        ],

        literatura: [
          'Leo con fluidez y comprensión diferentes tipos de textos literarios (cuentos, novelas, fábulas, mitos, leyendas).',
          'Reconozco en los textos literarios la posibilidad de desarrollar mi capacidad creativa y lúdica.',
          'Identifico la silueta o formato de los textos literarios que leo.',
          'Reconozco y diferencio elementos constitutivos de las obras literarias: personajes, espacio, tiempo, argumento.',
          'Elaboro y comparo interpretaciones sobre las obras literarias leídas.',
          'Creo textos con intención literaria usando recursos como la rima, la metáfora y la comparación.'
        ],

        medios: [
          // Medios de comunicación masiva
          'Reconozco la información emitida por diferentes medios de comunicación masiva y adopto una posición crítica frente a ella.',
          'Selecciono y clasifico la información emitida por los medios de comunicación masivos.',
          'Establezco diferencias entre las características de los medios de comunicación masiva (televisión, radio, prensa, internet).',
          'Identifico el uso que se hace del lenguaje en los medios de comunicación masiva.',
          // Otros sistemas simbólicos
          'Comprendo la información que circula a través de sistemas de comunicación no verbales.',
          'Identifico los elementos constitutivos de los medios de comunicación gráficos: comics, caricaturas, afiches.',
          'Reconozco y comprendo las características de los sistemas de comunicación no lingüísticos de mi entorno.'
        ],

        etica: [
          'Reconozco la importancia del lenguaje para la construcción de los acuerdos sociales.',
          'Identifico las intenciones comunicativas de los textos que leo y escucho.',
          'Comprendo que la comunicación supone respeto por el interlocutor y conciencia del rol que cumplo como hablante y oyente.',
          'Valorizo el uso de lenguas distintas al castellano, como el inglés y las lenguas de comunidades colombianas.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 6 - 7
    // =====================================================================
    '6-7': {
      estandarGeneral: 'Produzco textos orales, en situaciones comunicativas que permiten evidenciar el uso significativo de la entonación y la pertinencia articulatoria.',

      estandares: {

        produccion: [
          // Producción oral
          'Produzco textos orales de tipo argumentativo para exponer mis ideas y llegar a acuerdos en los que prime el respeto por mi interlocutor.',
          'Organizo y estructuro mis ideas antes de comunicarlas oralmente.',
          'Utilizo el discurso oral para establecer acuerdos y resolver conflictos.',
          'Produzco textos orales con diferentes propósitos: informar, convencer, entretener, expresar sentimientos.',
          // Producción escrita
          'Produzco textos escritos que evidencian el conocimiento que tengo de la estructura de los textos narrativos, argumentativos e informativos.',
          'Delimito el tema y produzco textos escritos con coherencia y cohesión.',
          'Uso la función representativa del lenguaje para producir descripciones, narraciones y explicaciones.',
          'Diseño un plan que articule la superestructura del texto que voy a producir.',
          'Reviso, socializo y corrijo mis escritos, tomando en cuenta las propuestas de mis compañeros.',
          'Utilizo el diccionario y otras fuentes bibliográficas para escoger el léxico más apropiado para mis textos.'
        ],

        comprension: [
          'Comprendo e interpreto diversos tipos de texto, para establecer sus relaciones internas y su clasificación en una tipología.',
          'Elaboro hipótesis de lectura acerca de las relaciones entre los elementos constitutivos de un texto.',
          'Identifico la silueta o formato de los textos que leo y los relaciono con el contexto de comunicación.',
          'Establezco relaciones entre los textos que leo y el contexto sociocultural en el que fueron producidos.',
          'Identifico diferentes tipos de relaciones que puede haber entre proposiciones (causalidad, temporalidad, especialización, complementariedad).',
          'Comparo textos de diferentes autores, épocas y culturas.'
        ],

        literatura: [
          'Leo con sentido crítico diversas manifestaciones literarias de la tradición oral colombiana.',
          'Reconozco los elementos del contexto cultural que determinan una obra literaria.',
          'Diferencio el lenguaje literario del lenguaje de otros textos y exploro sus posibilidades estéticas.',
          'Reconozco la ironía, el humor y otros recursos que utiliza el autor en la elaboración de un texto literario.',
          'Identifico y explico los elementos constitutivos de la narración (personajes, tiempo, espacio, narrador).',
          'Establezco relaciones entre los temas de la literatura y los problemas del ser humano.'
        ],

        medios: [
          // Medios de comunicación masiva
          'Comprendo la información emitida por los medios de comunicación masivos y adopto una posición crítica y responsable frente a ella.',
          'Produzco textos orales y escritos utilizando los medios de comunicación masiva (radio, televisión, prensa, internet).',
          'Comparo el uso del lenguaje en diferentes medios de comunicación masiva.',
          'Establezco diferencias entre las estructuras narrativas del texto literario y las del texto periodístico.',
          // Otros sistemas simbólicos
          'Exploro e interpreto el significado de los signos en la imagen y en otros sistemas de comunicación no verbal.',
          'Comprendo textos que utilizan de manera simultánea imagen y texto escrito (publicidades, historietas).',
          'Reconozco el uso y la función de los medios audiovisuales en la transmisión de información y cultura.'
        ],

        etica: [
          'Reconozco y valoro el lenguaje como medio de manifestación de la cultura y la identidad.',
          'Comprendo que las intenciones de los interlocutores no siempre son transparentes en la comunicación.',
          'Identifico y cuestiono los usos del lenguaje que suponen discriminación por razones de género, etnia, religión y condición social.',
          'Valoro la diversidad lingüística del país y reconozco el español como lengua de unidad nacional.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 8 - 9
    // =====================================================================
    '8-9': {
      estandarGeneral: 'Produzco textos orales de tipo argumentativo para exponer mis ideas y llegar a acuerdos en los que prime el respeto por mi interlocutor y la valoración de los contextos comunicativos.',

      estandares: {

        produccion: [
          // Producción oral
          'Produzco textos orales de tipo argumentativo, expositivo y descriptivo con estructuras claras y pertinentes.',
          'Utilizo estrategias argumentativas que dan cuenta de mi posición crítica frente a un tema.',
          'Reconozco y utilizo recursos del discurso oral (entonación, pausa, postura corporal) para lograr los propósitos comunicativos.',
          'Produzco exposiciones orales con apoyo en fuentes diversas y materiales audiovisuales.',
          // Producción escrita
          'Produzco textos escritos que evidencian el conocimiento que tengo de la estructura de cada texto y de la complejidad de las relaciones entre su forma y su contenido.',
          'Delimito el tema de mis textos y los desarrollo de manera coherente y cohesionada.',
          'Elaboro planes de escritura para organizar mis ideas y las desarrollo oportunamente en el escrito.',
          'Produzco textos con diferentes propósitos y estructuras: argumentativos, expositivos, narrativos, descriptivos.',
          'Reviso y mejoro mis escritos a la luz de criterios formales y de contenido.',
          'Utilizo el lenguaje con coherencia, cohesión y adecuación a la situación comunicativa.'
        ],

        comprension: [
          'Comprendo e interpreto textos con actitud crítica y capacidad argumentativa.',
          'Elaboro hipótesis de interpretación atendiendo a la intención comunicativa y al sentido global del texto.',
          'Identifico y analizo los aspectos textuales, conceptuales y formales de cada tipo de texto.',
          'Reconozco y analizo las estrategias argumentativas utilizadas en un texto.',
          'Establezco relaciones entre los textos que leo y el contexto sociocultural en el que fueron producidos.',
          'Evalúo críticamente los argumentos y posturas expresadas en los textos que leo.',
          'Utilizo estrategias de búsqueda y almacenamiento de información para leer de manera significativa.'
        ],

        literatura: [
          'Leo con sentido crítico textos literarios de diferentes géneros y épocas.',
          'Reconozco y comprendo las características de la literatura como arte del lenguaje.',
          'Identifico las huellas del contexto histórico y cultural en los textos literarios.',
          'Reconozco los recursos retóricos del discurso literario y los relaciono con la producción de sentido.',
          'Establezco relaciones entre los textos literarios y la realidad que representan.',
          'Elaboro ensayos y reseñas literarias sobre las obras que leo.'
        ],

        medios: [
          // Medios de comunicación masiva
          'Comprendo y utilizo de manera crítica los medios de comunicación masiva para consultar, procesar y divulgar información.',
          'Establezco comparaciones entre los diferentes medios de comunicación y sus lenguajes específicos.',
          'Analizo el uso del lenguaje en la publicidad y en otros discursos de los medios masivos.',
          'Reconozco los propósitos de los diferentes géneros periodísticos (noticia, crónica, editorial, caricatura).',
          // Otros sistemas simbólicos
          'Exploro y comprendo la relación entre lenguaje, imagen y sonido en los medios audiovisuales.',
          'Interpreto de manera crítica los mensajes implícitos y explícitos de los medios de comunicación.',
          'Produzco textos orales y escritos adecuados a diferentes situaciones y con apoyo en los medios de comunicación.'
        ],

        etica: [
          'Reflexiono y tomo posición frente a las situaciones que propician o dificultan la comunicación.',
          'Evalúo las intenciones comunicativas de los participantes en actos de comunicación cotidianos.',
          'Reconozco las manifestaciones de poder en el lenguaje y las cuestiono con argumentos.',
          'Identifico y rechazo las formas de discriminación, exclusión e imposición cultural presentes en el lenguaje.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 10 - 11
    // =====================================================================
    '10-11': {
      estandarGeneral: 'Produzco textos argumentativos que evidencian mi conocimiento de la lengua y el control sobre el uso que hago de ella en contextos comunicativos orales y escritos.',

      estandares: {

        produccion: [
          // Producción oral
          'Produzco textos orales argumentativos que evidencian mi conocimiento de la lengua en situaciones formales de comunicación.',
          'Diseño y expongo planes de acción y proyectos a partir de posiciones argumentadas sobre temas de interés.',
          'Participo en espacios de discusión académica con posturas argumentadas y pertinentes al tema.',
          'Utilizo estrategias discursivas pertinentes y adecuadas al propósito de producción oral.',
          // Producción escrita
          'Produzco textos escritos coherentes y cohesionados de distinta complejidad (argumentativos, expositivos, literarios).',
          'Delimito el tema de mis textos y los desarrollo con coherencia, cohesión y adecuación.',
          'Produzco ensayos de carácter argumentativo en los que planteo tesis y las desarrollo con argumentos de diversa índole.',
          'Incorporo procedimientos formales en el proceso de escritura: planeación, elaboración de borradores y revisión.',
          'Utilizo el lenguaje con precisión, propiedad y corrección atendiendo a las normas ortográficas y gramaticales.',
          'Valoro la escritura como herramienta de comunicación, organización del pensamiento y registro de la experiencia.'
        ],

        comprension: [
          'Comprendo e interpreto textos con actitud crítica y capacidad argumentativa, reconociendo los múltiples sentidos que puede tener un texto.',
          'Analizo los aspectos textuales, conceptuales y formales de textos de diferentes géneros, propósitos y contextos.',
          'Evalúo estrategias explícitas o implícitas de los autores para lograr sus propósitos comunicativos.',
          'Elaboro hipótesis de lectura atendiendo a los paratextos, el contexto de producción y la intención comunicativa.',
          'Reconozco posiciones e intenciones de los actores involucrados en los textos que leo.',
          'Produzco reseñas críticas de los textos que leo.',
          'Utilizo diversas estrategias para leer textos especializados propios de los ámbitos académico y científico.'
        ],

        literatura: [
          'Leo con sentido crítico obras literarias de autores colombianos, latinoamericanos y universales.',
          'Identifico las características de los principales movimientos literarios (Romanticismo, Realismo, Modernismo, Vanguardia) y los relaciono con sus contextos históricos y culturales.',
          'Interpreto el simbolismo, la ironía y otros recursos literarios en función de la producción de sentido.',
          'Establezco relaciones entre los textos literarios y las realidades que representan, considerando sus contextos históricos y sociales.',
          'Produzco textos con intención literaria haciendo uso de los recursos del lenguaje estético.',
          'Reconozco y comparo las concepciones del mundo presentes en textos literarios de diferentes épocas y culturas.'
        ],

        medios: [
          // Medios de comunicación masiva
          'Comprendo y produzco con sentido crítico textos propios de los medios de comunicación masiva para establecer posturas frente a ellos.',
          'Establezco relaciones entre los contenidos de los medios de comunicación masiva y el contexto político, económico y social.',
          'Analizo los mecanismos de construcción y transmisión de la información en los distintos medios masivos.',
          'Identifico el rol de los medios de comunicación en la producción y difusión de la cultura.',
          // Otros sistemas simbólicos
          'Produzco textos empleando el lenguaje verbal y no verbal para lograr efectos en el interlocutor.',
          'Comprendo e interpreto el significado de textos que combinan distintos sistemas de signos (lingüísticos, visuales, sonoros).',
          'Establezco relaciones entre los distintos sistemas simbólicos y explico su función social y cultural.'
        ],

        etica: [
          'Respeto y asumo posturas fundamentadas frente a la diversidad cultural que se manifiesta en el lenguaje.',
          'Reconozco la función del lenguaje en la construcción y transformación de las relaciones de poder.',
          'Analizo los mecanismos de persuasión y manipulación presentes en discursos públicos y los cuestiono con argumentos.',
          'Asumo una posición crítica frente al uso que los medios de comunicación hacen del lenguaje y de las representaciones sociales.'
        ]
      }
    }

  } // fin grupos

}; // fin EBC_LENGUAJE

// Exportar para uso como módulo (si se usa con bundler)
if (typeof module !== 'undefined' && module.exports) {
  module.exports = EBC_LENGUAJE;
}
/**
 * Estándares Básicos de Competencias (EBC) - Ciencias Naturales
 * Fuente: Ministerio de Educación Nacional (MEN) Colombia
 * Documento: "Estándares Básicos de Competencias en Ciencias Naturales y Ciencias Sociales" (2004)
 *
 * Estructura por grupos de grados: 1-3, 4-5, 6-7, 8-9, 10-11
 * Ejes temáticos: Entorno Vivo, Entorno Físico, CTS, Me Aproximo al Conocimiento
 */

const EBC_NATURALES = {
  area: 'ciencias-naturales',
  nombre: 'Ciencias Naturales',
  color: '#f59e0b',

  ejes: [
    {
      id: 'entorno-vivo',
      nombre: 'Entorno Vivo',
      color: '#10B981',
      descripcion: 'Estudio de los seres vivos, sus características, relaciones y procesos vitales'
    },
    {
      id: 'entorno-fisico',
      nombre: 'Entorno Físico',
      color: '#3B82F6',
      descripcion: 'Estudio de la materia, la energía, las fuerzas y los fenómenos del universo'
    },
    {
      id: 'cts',
      nombre: 'Ciencia, Tecnología y Sociedad',
      color: '#8B5CF6',
      descripcion: 'Relaciones entre el conocimiento científico, los desarrollos tecnológicos y el contexto social y ambiental'
    },
    {
      id: 'aprox-cientifica',
      nombre: 'Me Aproximo al Conocimiento como Científico Natural',
      color: '#F59E0B',
      descripcion: 'Habilidades y actitudes propias del quehacer científico: observar, preguntar, formular hipótesis, experimentar y comunicar'
    }
  ],

  grupos: {

    // =====================================================================
    // GRADOS 1 - 3
    // =====================================================================
    '1-3': {
      estandarGeneral: 'Me identifico como un ser vivo que comparte algunas características con otros seres vivos y que se relaciona con ellos en un entorno en el que todos nos desarrollamos.',

      estandares: {

        'entorno-vivo': [
          'Describo características de seres vivos y objetos inertes, establezco semejanzas y diferencias entre ellos y los clasifico.',
          'Describo y verifico el efecto de la luz, el sonido, el calor y la humedad sobre algunos seres vivos.',
          'Reconozco en el entorno fenómenos físicos que me afectan y registro mis observaciones.',
          'Identifico condiciones de cambio y de equilibrio en los seres vivos y en los objetos de mi entorno.',
          'Propongo respuestas a mis preguntas y las comparo con las de otras personas.',
          'Reconozco y describo organismos del entorno como animales, plantas, hongos y microorganismos.',
          'Identifico y describo características de los seres vivos (células, tejidos, órganos, sistemas) en organismos del entorno.'
        ],

        'entorno-fisico': [
          'Describo y clasifico objetos según características que percibo con los sentidos (forma, textura, color, olor, sabor).',
          'Propongo respuestas a preguntas sobre mi entorno físico y registro mis observaciones en forma organizada y las comunico.',
          'Identifico y describo características del suelo, el agua y el aire de mi entorno.',
          'Reconozco y describo cambios en los seres vivos y en los objetos de mi entorno.',
          'Identifico y describo el ciclo del agua en el entorno.',
          'Reconozco instrumentos para medir variables del entorno físico (regla, balanza, termómetro) y los uso correctamente.'
        ],

        'cts': [
          'Identifico y describo la flora, la fauna, el agua y el suelo de mi entorno y el impacto que sobre ellos tienen las actividades humanas.',
          'Indago sobre el uso que mi comunidad hace de los recursos naturales.',
          'Reconozco y describo situaciones en las que los seres humanos modifican el entorno.',
          'Participo en actividades grupales para proponer soluciones a problemas del entorno cercano.',
          'Reconozco la importancia del agua, el suelo y el aire para el sostenimiento de la vida.',
          'Identifico objetos tecnológicos de mi entorno cotidiano y los relaciono con las ciencias naturales.'
        ],

        'aprox-cientifica': [
          'Observo mi entorno y formulo preguntas sobre él.',
          'Registro mis observaciones y resultados en forma organizada y los comunico.',
          'Propongo respuestas a mis preguntas y las relaciono con las formuladas por científicos y científicas.',
          'Identifico condiciones que influyen en los resultados de una experiencia y que pueden permanecer constantes o cambiar (variables).',
          'Propongo y verifico necesidades de luz, agua, suelo y aire de plantas y animales.',
          'Comunico el proceso de indagación y los resultados, utilizando lenguaje oral y escrito.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 4 - 5
    // =====================================================================
    '4-5': {
      estandarGeneral: 'Me identifico como un ser vivo que comparte algunas características con otros seres vivos y que se relaciona con ellos en un entorno en el que todos nos desarrollamos.',

      estandares: {

        'entorno-vivo': [
          'Clasifico organismos en grupos taxonómicos de acuerdo con sus características.',
          'Identifico y describo la flora, la fauna, el agua y el suelo de mi entorno.',
          'Describo el ciclo de vida de organismos de mi entorno.',
          'Explico las funciones de los sistemas de órganos de los seres vivos y sus interacciones.',
          'Identifico adaptaciones de los seres vivos en diferentes ecosistemas.',
          'Describo cadenas alimentarias en ecosistemas y explico el flujo de energía en ellas.',
          'Identifico factores de riesgo que afectan la salud de mi comunidad y propongo alternativas de solución.'
        ],

        'entorno-fisico': [
          'Identifico y describo características de los tres estados de la materia y los cambios entre ellos.',
          'Establezco relaciones entre las propiedades de los materiales y su utilización.',
          'Describo y comparo movimientos rectilíneos y curvilíneos de objetos cotidianos.',
          'Identifico y describo fuerzas de mi entorno cotidiano.',
          'Describo propiedades de la luz e identifico fenómenos ópticos básicos (reflexión, refracción).',
          'Identifico la electricidad y el magnetismo como fenómenos físicos y los relaciono con aplicaciones tecnológicas.',
          'Establezco relaciones entre el movimiento de la Tierra y los ciclos día-noche y año.'
        ],

        'cts': [
          'Identifico y uso aportes de algunos científicos colombianos en el desarrollo de la ciencia y la tecnología.',
          'Describo el efecto del sol sobre los seres vivos y relaciono la energía solar con otros tipos de energía.',
          'Identifico y explico situaciones de contaminación del entorno.',
          'Establezco relaciones entre el desarrollo tecnológico y el impacto sobre el entorno natural.',
          'Identifico artefactos tecnológicos de mi entorno y describo el principio físico en que se basan.',
          'Reconozco que los modelos de la ciencia cambian con el tiempo y que varios pueden coexistir.'
        ],

        'aprox-cientifica': [
          'Formulo preguntas sobre objetos, organismos y fenómenos de mi entorno y exploro posibles respuestas.',
          'Propongo y verifico hipótesis sobre características y comportamientos de organismos y objetos.',
          'Realizo mediciones con instrumentos y equipos adecuados a las características y magnitudes de los objetos y fenómenos.',
          'Registro mis observaciones y resultados en forma organizada (en tablas) y las comunico.',
          'Identifico y analizo variables que influyen en los resultados de una experiencia.',
          'Saco conclusiones de mis experiencias y las comunico.',
          'Relaciono mis conclusiones con las presentadas por científicos en textos científicos y en otros medios.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 6 - 7
    // =====================================================================
    '6-7': {
      estandarGeneral: 'Me aproximo al conocimiento como científico natural: me formulo preguntas, planteo y verifico hipótesis, argumento y comunico conclusiones.',

      estandares: {

        'entorno-vivo': [
          'Explico la estructura de la célula y las funciones básicas de sus componentes.',
          'Comparo mecanismos de obtención de energía en seres vivos (respiración aerobia y anaerobia, fotosíntesis).',
          'Explico las funciones de los sistemas de órganos en plantas y animales y las interacciones entre ellos.',
          'Describo y ejemplifico los tipos de reproducción en los seres vivos y establezco sus ventajas y desventajas.',
          'Identifico y describo las adaptaciones de los organismos a los ecosistemas.',
          'Explico las condiciones de nutrición y de salud que favorecen el desarrollo de mi comunidad.',
          'Explico y comparo los procesos de nutrición en seres autótrofos y heterótrofos.',
          'Identifico y describo la fauna y la flora representativa de los principales biomas de Colombia.'
        ],

        'entorno-fisico': [
          'Explico la estructura de la materia en términos de átomos y moléculas.',
          'Describo y explico propiedades físicas y químicas de la materia y sus cambios.',
          'Identifico y describo las fuerzas de atracción entre los cuerpos (gravitacional, eléctrica, magnética).',
          'Explico el movimiento de los cuerpos con base en las leyes de Newton.',
          'Identifico y describo formas de transferencia de calor y su efecto sobre la materia.',
          'Explico la formación de suelos y las características que les permiten sustentar la vida.',
          'Identifico y describo mezclas y sustancias puras y explico procesos de separación de mezclas.',
          'Relaciono la estructura del sistema solar con la dinámica de los planetas y otros cuerpos celestes.'
        ],

        'cts': [
          'Establezco relaciones entre los conocimientos científicos y tecnológicos que se han desarrollado a lo largo de la historia y las características del contexto social en el que se produjeron.',
          'Identifico y justifico la importancia de las ciencias naturales en la solución de problemas de mi entorno.',
          'Descripto el impacto de algunas actividades humanas sobre el suelo, el agua, el aire y los ecosistemas.',
          'Propongo y sustento alternativas para cuidar mi entorno y evitar peligros que lo amenazan.',
          'Reconozco la importancia de la biodiversidad colombiana y expreso razones para preservarla.',
          'Indago sobre adelantos tecnológicos para el manejo de residuos y la reducción de la contaminación.'
        ],

        'aprox-cientifica': [
          'Formulo preguntas específicas sobre una observación, sobre una experiencia o sobre las explicaciones de otros.',
          'Formulo hipótesis con base en el conocimiento cotidiano, teorías y modelos científicos.',
          'Identifico y controlo variables en diseños experimentales.',
          'Registro mis observaciones y resultados utilizando esquemas, gráficas y tablas.',
          'Busco información en diversas fuentes, la selecciono, la organizo e interpreto.',
          'Evalúo la calidad de la información recopilada y doy crédito a las fuentes.',
          'Propongo y sustento respuestas a mis preguntas y las comparo con las de científicos y con las de mis compañeros.',
          'Saco conclusiones de mis experiencias y las comunico con distintos formatos (orales, escritos, gráficos).'
        ]
      }
    },

    // =====================================================================
    // GRADOS 8 - 9
    // =====================================================================
    '8-9': {
      estandarGeneral: 'Desarrollo compromisos personales y sociales a partir del análisis de situaciones del entorno natural que me permiten comprender los procesos físicos, químicos y biológicos que ocurren en la naturaleza.',

      estandares: {

        'entorno-vivo': [
          'Explico la variabilidad en las poblaciones y la diversidad biológica como consecuencia de estrategias de reproducción, cambios genéticos y selección natural.',
          'Describo aplicaciones de la biotecnología en la cotidianidad.',
          'Explico el flujo de materia y energía en los ecosistemas y las consecuencias de las interacciones de los seres vivos con el entorno.',
          'Explico las funciones de las proteínas, los ácidos nucleicos, los lípidos y los carbohidratos en el organismo.',
          'Explico la transmisión del impulso nervioso y los efectos de drogas y sustancias psicoactivas en el sistema nervioso.',
          'Describo y explico los ciclos biológicos de los organismos y los eventos de desarrollo.',
          'Relaciono la dieta de las personas con su estado de salud, sus hábitos y el entorno.'
        ],

        'entorno-fisico': [
          'Realizo cálculos cuantitativos de situaciones cotidianas que involucran cambios físicos y/o químicos de la materia.',
          'Identifico y explico los cambios químicos en situaciones cotidianas y describo la reacción química que los explica.',
          'Identifico y describo situaciones donde se presentan los tres estados de la materia y sus cambios.',
          'Relaciono masa, peso, aceleración y fuerza en situaciones de movimiento de cuerpos.',
          'Explico el principio de conservación de la energía en sistemas mecánicos, eléctricos y térmicos.',
          'Explico la estructura atómica de la materia y la tabla periódica como herramienta de organización de los elementos.',
          'Identifico y describo los diferentes tipos de energía (mecánica, eléctrica, térmica, química, radiante, nuclear).',
          'Explico la formación del universo, las características del sistema solar y la dinámica de los cuerpos celestes.'
        ],

        'cts': [
          'Relaciono los conocimientos científicos y tecnológicos que se han desarrollado a lo largo de la historia con las características del contexto social, político, económico y cultural en el que se produjeron.',
          'Explico la importancia del desarrollo de criterios propios frente a los dilemas éticos que plantea la ciencia y la tecnología.',
          'Identifico y explico avances tecnológicos para la producción de alimentos, medicamentos y para el cuidado de la salud.',
          'Establezco relaciones entre el origen de los combustibles fósiles, su uso cotidiano y las consecuencias ambientales.',
          'Propongo alternativas para conservar la fauna y flora de mi región.',
          'Identifico y evalúo el impacto de las actividades humanas sobre el clima y la biodiversidad global.'
        ],

        'aprox-cientifica': [
          'Formulo hipótesis y las verifico mediante la selección y aplicación de una metodología adecuada.',
          'Diseño y realizo experimentos y verifico el efecto de modificar diversas variables.',
          'Registro y sistematizo la información proveniente de observaciones y consultas de diferentes fuentes, y comparto los resultados con el grupo de estudio.',
          'Evalúo la calidad de los argumentos propios y ajenos.',
          'Identifico y manejo con cuidado herramientas, instrumentos y sustancias de laboratorio.',
          'Propongo respuestas a mis preguntas y las comparo con las de científicos y con las de mis compañeros.',
          'Establezco diferencias entre descripción, explicación y evidencia.',
          'Analizo críticamente las implicaciones de los hallazgos científicos.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 10 - 11
    // =====================================================================
    '10-11': {
      estandarGeneral: 'Relaciono los conocimientos científicos y tecnológicos con aplicaciones en la vida cotidiana y con el contexto social, político y económico, y asumo compromisos para cuidar el entorno.',

      estandares: {

        'entorno-vivo': [
          'Explico los mecanismos de herencia en términos de los postulados de Mendel y de la estructura del ADN.',
          'Describo y explico los mecanismos de evolución de las especies (selección natural, mutación, deriva génica).',
          'Explico la función de las enzimas como catalizadores de reacciones bioquímicas.',
          'Describo y explico técnicas de ingeniería genética y sus aplicaciones en la producción de alimentos, fármacos y terapias.',
          'Explico los mecanismos de regulación del organismo (homeostasis) y las respuestas al estrés ambiental.',
          'Relaciono la variedad de organismos presentes en la Tierra con los procesos evolutivos.',
          'Argumento ética y científicamente en torno a aplicaciones de la biotecnología (clonación, transgénicos, terapia génica).'
        ],

        'entorno-fisico': [
          'Explico los modelos atómicos que sustentan el desarrollo de la química y la física moderna.',
          'Explico el enlace químico y las propiedades de los compuestos orgánicos e inorgánicos.',
          'Verifico la conservación de la masa en reacciones químicas y establezco relaciones estequiométricas.',
          'Explico las leyes del movimiento de Newton y las aplico en situaciones cotidianas.',
          'Relaciono el trabajo y la energía con las máquinas simples y los sistemas mecánicos.',
          'Explico los principios de la termodinámica y sus aplicaciones en máquinas térmicas.',
          'Describo el comportamiento eléctrico y magnético de la materia y explico principios de electromagnetismo.',
          'Explico la naturaleza ondulatoria de la luz y su comportamiento al interactuar con distintos materiales.',
          'Reconozco aplicaciones de la física moderna (relatividad, física cuántica) en la tecnología actual.'
        ],

        'cts': [
          'Analizo críticamente implicaciones éticas, sociales, económicas y ambientales de desarrollos tecnológicos.',
          'Evalúo el impacto del uso de recursos naturales en el desarrollo económico de Colombia y el mundo.',
          'Justifico la importancia de la ciencia y la tecnología para el desarrollo de la sociedad.',
          'Establezco relaciones entre el modelo energético global y el cambio climático.',
          'Propongo alternativas de producción y consumo sostenibles.',
          'Evalúo críticamente dilemas éticos derivados de la investigación científica (experimentación con seres vivos, uso de datos personales).',
          'Reconozco la contribución de científicos colombianos e iberoamericanos al desarrollo de la ciencia universal.'
        ],

        'aprox-cientifica': [
          'Formulo preguntas de investigación a partir de la observación de fenómenos y consulta de literatura científica.',
          'Diseño y realizo investigaciones para poner a prueba mis explicaciones.',
          'Relaciono mis conclusiones con las presentadas por científicos en textos científicos.',
          'Evalúo la solidez de mis conclusiones y las de otros a partir de criterios lógicos y metodológicos.',
          'Comunico oralmente y por escrito el proceso de investigación y sus resultados, haciendo uso de tablas, gráficas y ecuaciones.',
          'Reconozco que los modelos científicos son aproximaciones que se revisan y que pueden coexistir otros modelos.',
          'Reconozco la importancia del pensamiento crítico y la honestidad intelectual en la construcción del conocimiento científico.'
        ]
      }
    }

  } // fin grupos

}; // fin EBC_NATURALES

// Exportar para uso como módulo (si se usa con bundler)
if (typeof module !== 'undefined' && module.exports) {
  module.exports = EBC_NATURALES;
}
/**
 * Estándares Básicos de Competencias (EBC) - Ciencias Sociales
 * Fuente: Ministerio de Educación Nacional (MEN) Colombia
 * Documento: "Estándares Básicos de Competencias en Ciencias Naturales y Ciencias Sociales" (2004)
 * Complementado con: "Estándares Básicos de Competencias Ciudadanas" (2004)
 *
 * Estructura por grupos de grados: 1-3, 4-5, 6-7, 8-9, 10-11
 * Ejes: Relaciones con la Historia y las Culturas, Relaciones Espaciales y Ambientales, Relaciones Ético-Políticas
 *
 * Nota: Las Competencias Ciudadanas están integradas transversalmente en el eje Ético-Político
 * siguiendo el enfoque del MEN que articula ambos documentos.
 */

const EBC_SOCIALES = {
  area: 'ciencias-sociales',
  nombre: 'Ciencias Sociales',
  color: '#a78bfa',

  ejes: [
    {
      id: 'historico-cultural',
      nombre: 'Relaciones con la Historia y las Culturas',
      color: '#8B5CF6',
      descripcion: 'Comprensión de procesos históricos, identidades culturales y diversidad de las civilizaciones a lo largo del tiempo'
    },
    {
      id: 'espacial-ambiental',
      nombre: 'Relaciones Espaciales y Ambientales',
      color: '#10B981',
      descripcion: 'Lectura crítica del espacio geográfico, relaciones sociedad-naturaleza y problemas ambientales'
    },
    {
      id: 'etico-politico',
      nombre: 'Relaciones Ético-Políticas',
      color: '#EF4444',
      descripcion: 'Convivencia, derechos humanos, democracia, ciudadanía y construcción de lo público, con integración de Competencias Ciudadanas'
    }
  ],

  grupos: {

    // =====================================================================
    // GRADOS 1 - 3
    // =====================================================================
    '1-3': {
      estandarGeneral: 'Me identifico como un ser social e histórico que hace parte de una familia y una comunidad, en las que me desarrollo y aprendo a relacionarme con los demás y con la naturaleza.',

      estandares: {

        'historico-cultural': [
          'Identifico y describo características de mi familia, de las familias de mis compañeros y de las familias de otras culturas.',
          'Comparo aspectos de la vida cotidiana de niños y niñas de otras épocas y culturas con los de la actualidad.',
          'Identifico y describo costumbres y tradiciones de mi comunidad y de otras comunidades y culturas.',
          'Reconozco y describo festividades y conmemoraciones de mi región y explico su significado histórico y cultural.',
          'Reconozco la existencia de diversas culturas en Colombia y en el mundo, y las respeto.'
        ],

        'espacial-ambiental': [
          'Reconozco y describo el espacio en el que vivo y me ubico en él usando puntos de referencia.',
          'Identifico y describo características del entorno físico: relieve, clima, agua y suelos de la región donde vivo.',
          'Identifico recursos naturales de la región y las formas en que las personas los utilizan.',
          'Reconozco y describo las necesidades básicas de las personas de mi familia y mi comunidad.',
          'Identifico y describo situaciones de contaminación ambiental en mi comunidad y sus causas.'
        ],

        'etico-politico': [
          'Reconozco que pertenezco a diferentes grupos (familia, colegio, comunidad) y que en cada uno de ellos tengo derechos y deberes.',
          'Participo en actividades escolares y de mi comunidad con actitud colaborativa y respeto.',
          'Identifico y respeto las diferencias étnicas, culturales y de género en mi familia, mi comunidad y mi país.',
          'Reconozco y respeto las normas que regulan la convivencia en mi familia, en mi salón y en la escuela.',
          'Identifico situaciones de injusticia y maltrato en mi entorno y propongo acciones para superarlas.',
          'Reconozco la importancia de tomar decisiones democráticas, escuchar las opiniones de los demás y llegar a acuerdos.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 4 - 5
    // =====================================================================
    '4-5': {
      estandarGeneral: 'Reconozco que soy un sujeto con derechos y deberes, que pertenezco a una familia y una comunidad que comparten una historia y un territorio, y que hacen parte de Colombia.',

      estandares: {

        'historico-cultural': [
          'Reconozco características de las principales culturas y civilizaciones prehispánicas de América y establezco relaciones entre sus legados y el presente.',
          'Describo el proceso de conquista y colonización de América y sus consecuencias para los pueblos originarios.',
          'Identifico las características de la sociedad colonial y las razones que llevaron a la independencia.',
          'Describo el proceso de formación de la nación colombiana y reconozco aportes de los distintos grupos étnicos.',
          'Identifico y describo costumbres, tradiciones y fiestas de las diferentes regiones de Colombia.',
          'Reconozco la diversidad étnica y cultural de Colombia y la riqueza que representa para el país.'
        ],

        'espacial-ambiental': [
          'Identifico y describo las características geográficas de las regiones naturales de Colombia.',
          'Utilizo mapas, planos y otros instrumentos para representar y ubicar regiones, países y continentes.',
          'Descripto los modos de vida de las principales regiones de Colombia y los relaciono con el clima, el relieve y los recursos naturales.',
          'Reconozco el impacto de las actividades humanas sobre el entorno natural de Colombia.',
          'Identifico y describo problemas ambientales de Colombia y propongo alternativas de solución.',
          'Describo la organización política y administrativa de Colombia: municipios, departamentos y nación.'
        ],

        'etico-politico': [
          'Reconozco los derechos de los niños y las niñas en Colombia y en el mundo y las instituciones que los protegen.',
          'Identifico y describo la organización político-administrativa de mi municipio y mi departamento.',
          'Describo situaciones de discriminación y propongo formas de combatirla desde el respeto a la diferencia.',
          'Reconozco la diversidad de culturas, etnias y religiones presentes en Colombia y el mundo.',
          'Identifico la Constitución Política de Colombia como el principal acuerdo de la nación y reconozco sus principios fundamentales.',
          'Reconozco la importancia de la participación ciudadana y describo mecanismos para ejercerla.',
          'Identifico y describo situaciones de conflicto en la vida cotidiana y propongo formas pacíficas de resolverlos.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 6 - 7
    // =====================================================================
    '6-7': {
      estandarGeneral: 'Reconozco que los seres humanos somos sujetos de derechos y que en la historia hemos construido diferentes formas de organización social, política y cultural, que siguen transformándose.',

      estandares: {

        'historico-cultural': [
          'Reconozco características de las civilizaciones de la Antigüedad y las relaciono con el desarrollo de la cultura occidental.',
          'Explico el surgimiento y la expansión del Islam y su influencia en Europa, África y Asia.',
          'Describo y explico las características de la Edad Media: feudalismo, Iglesia, ciudades medievales.',
          'Explico el proceso de conquista y colonización de América y las consecuencias para los pueblos originarios.',
          'Identifico y describo las principales características de las culturas indígenas americanas: aztecas, mayas, incas.',
          'Comparo el proceso de formación del Estado-nación en distintas regiones del mundo.',
          'Reconozco y valoro la contribución de las culturas africanas a la historia y la cultura latinoamericana.'
        ],

        'espacial-ambiental': [
          'Utilizo e interpreto mapas, gráficas y otras representaciones cartográficas para ubicar y analizar fenómenos geográficos.',
          'Identifico y describo los principales tipos de relieve, climas y biomas del mundo.',
          'Describo las relaciones entre los ecosistemas y los modos de vida de las poblaciones que los habitan.',
          'Reconozco y explico el origen de los principales problemas ambientales globales (deforestación, desertificación, cambio climático).',
          'Analizo la distribución de la población en el mundo y las causas de las migraciones.',
          'Identifico y describo las principales regiones geoeconómicas del mundo y sus recursos estratégicos.'
        ],

        'etico-politico': [
          'Explico el surgimiento de los derechos humanos, su evolución histórica y las instituciones internacionales que los protegen.',
          'Identifico y describo los principios de la democracia y los comparo con otras formas de organización política.',
          'Reconozco y describo la organización del Estado colombiano según la Constitución de 1991.',
          'Analizo situaciones de discriminación y vulneración de derechos y propongo acciones de defensa.',
          'Identifico y describo los mecanismos de participación ciudadana establecidos en la Constitución.',
          'Explico la importancia de la solidaridad, la justicia y el bien común en la convivencia democrática.',
          'Reconozco la diversidad sexual y de género como parte de la dignidad humana y rechazo toda forma de discriminación.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 8 - 9
    // =====================================================================
    '8-9': {
      estandarGeneral: 'Reconozco la dinámica de los procesos históricos, políticos, económicos y culturales de Colombia y el mundo, y asumo una posición crítica frente a ellos.',

      estandares: {

        'historico-cultural': [
          'Explico las causas y consecuencias de las revoluciones burguesas (Revolución Francesa, Independencia Norteamericana) y su influencia en la construcción del Estado moderno.',
          'Describo el proceso de formación de los estados nacionales latinoamericanos y los relaciono con el contexto mundial del siglo XIX.',
          'Explico el surgimiento y las consecuencias del imperialismo y la colonización en Asia, África y América Latina.',
          'Analizo causas y consecuencias de las guerras mundiales del siglo XX y su impacto en el orden global.',
          'Explico el surgimiento de los movimientos sociales del siglo XX (feminismo, movimiento obrero, derechos civiles) y su impacto.',
          'Describo los principales hitos del proceso de construcción de la nación colombiana en los siglos XIX y XX.',
          'Analizo el conflicto armado colombiano: sus actores, causas históricas y consecuencias sociales.'
        ],

        'espacial-ambiental': [
          'Analizo la distribución desigual de los recursos naturales en el mundo y su relación con la geopolítica.',
          'Explico el fenómeno de la urbanización en el mundo y en Colombia y sus consecuencias ambientales y sociales.',
          'Identifico y describo los problemas ambientales globales (cambio climático, pérdida de biodiversidad) y propongo soluciones.',
          'Relaciono el modelo de desarrollo económico predominante con el deterioro ambiental.',
          'Analizo los procesos de integración y fragmentación territorial en distintas regiones del mundo.',
          'Reconozco los tratados internacionales sobre medio ambiente y evalúo el cumplimiento de Colombia.'
        ],

        'etico-politico': [
          'Analizo las causas y consecuencias de conflictos sociales y políticos en Colombia y el mundo, y propongo alternativas de solución.',
          'Explico los mecanismos constitucionales de protección de los derechos fundamentales (tutela, habeas corpus, acción popular).',
          'Identifico y analizo formas de corrupción en los sistemas políticos y sus consecuencias para la democracia.',
          'Reconozco la importancia de la justicia transicional y la memoria histórica para la construcción de paz en Colombia.',
          'Evalúo críticamente las decisiones de las instituciones del Estado colombiano y su impacto en la sociedad.',
          'Analizo la relación entre desigualdad económica, exclusión social y violación de derechos humanos.',
          'Reconozco la importancia de la cultura de paz, la reconciliación y la no violencia como fundamentos de la convivencia.'
        ]
      }
    },

    // =====================================================================
    // GRADOS 10 - 11
    // =====================================================================
    '10-11': {
      estandarGeneral: 'Comprendo y asumo una posición crítica frente a los procesos históricos, políticos, económicos y culturales de Colombia y el mundo, y actúo como ciudadano responsable comprometido con la construcción de un mundo más justo.',

      estandares: {

        'historico-cultural': [
          'Analizo el surgimiento del capitalismo, la industrialización y sus impactos en las relaciones sociales y culturales a escala global.',
          'Explico las causas y consecuencias de la Guerra Fría y el proceso de descolonización del siglo XX.',
          'Analizo los procesos de globalización y sus efectos en las identidades culturales, las economías y los sistemas políticos.',
          'Evalúo críticamente el papel de los medios de comunicación en la construcción de imaginarios culturales e identidades.',
          'Analizo el desarrollo político y económico de Colombia en el siglo XX: la Violencia, el Frente Nacional, el narcotráfico y el conflicto armado.',
          'Evalúo el impacto del Proceso de Paz en Colombia y las perspectivas para la construcción de una sociedad más justa.',
          'Reconozco contribuciones de intelectuales, artistas y movimientos sociales latinoamericanos al pensamiento universal.'
        ],

        'espacial-ambiental': [
          'Analizo las dinámicas de la economía global: intercambios, dependencias, bloques económicos y crisis.',
          'Evalúo el impacto del modelo de desarrollo extractivista sobre los territorios y comunidades de Colombia.',
          'Propongo y argumento alternativas de desarrollo sostenible y economía circular para Colombia y el mundo.',
          'Analizo la crisis climática global: causas, consecuencias, acuerdos internacionales y responsabilidades diferenciadas.',
          'Reconozco la importancia de la soberanía alimentaria y la seguridad hídrica como asuntos de justicia social.',
          'Evalúo las políticas públicas de ordenamiento territorial en Colombia y sus impactos en las comunidades.'
        ],

        'etico-politico': [
          'Analizo críticamente el funcionamiento del Estado colombiano, sus instituciones y los mecanismos de control democrático.',
          'Evalúo las políticas públicas en Colombia desde criterios de justicia, equidad e inclusión.',
          'Reconozco y defiendo los derechos de las minorías étnicas, raciales, de género y orientación sexual en Colombia y el mundo.',
          'Argumento ética y políticamente frente a dilemas contemporáneos (desigualdad, migración, violencia de género, bienestar animal).',
          'Reconozco el papel de los movimientos sociales en la transformación histórica y en la ampliación de derechos.',
          'Propongo y lidero acciones colectivas orientadas al bien común, la convivencia pacífica y la justicia social.',
          'Evalúo el papel de Colombia en el sistema internacional y su responsabilidad frente a desafíos globales (cambio climático, migraciones, derechos humanos).',
          'Reconozco la importancia de la ética del cuidado, la empatía y la solidaridad como fundamentos de la ciudadanía activa.'
        ]
      }
    }

  }, // fin grupos

  // =======================================================================
  // MATRIZ DE REFERENCIA - Prueba Saber (Ciencias Sociales y Ciudadanas)
  // Fuente: ICFES - Lineamientos Saber 9° y 11°
  // =======================================================================
  matrizReferencia: [
    {
      competencia: 'Pensamiento social',
      afirmacion: 'Comprende modelos conceptuales, sus características y contextos de aplicación.',
      evidencias: [
        'Identifica y usa conceptos sociales básicos (económicos, políticos, culturales y geográficos).',
        'Conoce el modelo de Estado social de derecho y su aplicación en Colombia.',
        'Conoce la organización del Estado: conoce las funciones y alcances de las ramas del poder y de los organismos de control.',
        'Conoce los mecanismos que los ciudadanos tienen a su disposición para participar activamente en la democracia y para garantizar el respeto de sus derechos.'
      ]
    },
    {
      competencia: 'Pensamiento social',
      afirmacion: 'Comprende dimensiones espaciales y temporales de eventos, problemáticas y prácticas sociales.',
      evidencias: [
        'Contextualiza temporal y espacialmente eventos relevantes y procesos sociales, económicos, políticos y culturales.',
        'Reconoce las dimensiones temporales y espaciales de eventos, problemáticas y prácticas sociales.',
        'Reconoce que los fenómenos sociales pueden observarse desde diversos puntos de vista.'
      ]
    },
    {
      competencia: 'Interpretación y análisis de perspectivas',
      afirmacion: 'Evalúa las fuentes y argumentos del conocimiento social.',
      evidencias: [
        'Reconoce y compara diferentes perspectivas sobre un mismo problema social.',
        'Relaciona las dimensiones de un problema social con sus posibles causas y consecuencias.',
        'Evalúa la confiabilidad y pertinencia de una fuente de información de acuerdo a la situación.'
      ]
    },
    {
      competencia: 'Interpretación y análisis de perspectivas',
      afirmacion: 'Reconoce y compara perspectivas de diferentes actores y grupos sociales.',
      evidencias: [
        'Identifica sesgos y limitaciones de fuentes y argumentos.',
        'Analiza la vigencia de los derechos fundamentales, los mecanismos de protección y las instituciones relacionadas.',
        'Reconoce y compara diferentes perspectivas frente a una situación social.'
      ]
    },
    {
      competencia: 'Pensamiento reflexivo y sistémico',
      afirmacion: 'Comprende los usos sociales de las ciencias sociales.',
      evidencias: [
        'Analiza y evalúa la pertinencia y solidez de enunciados o discursos.',
        'Establece relaciones entre la información y los datos recopilados.',
        'Evalúa las causas y consecuencias de un hecho o proceso social, político, económico o cultural.'
      ]
    },
    {
      competencia: 'Pensamiento reflexivo y sistémico',
      afirmacion: 'Identifica y analiza problemáticas sociales como resultado de dinámicas históricas, geográficas, políticas, económicas y culturales.',
      evidencias: [
        'Reconoce las causas y consecuencias de un fenómeno y establece su relación con otros fenómenos.',
        'Identifica los intereses y expectativas de diferentes grupos sociales frente a un problema.',
        'Analiza factores que generan desigualdad económica, social, política y cultural.'
      ]
    }
  ],

  // =======================================================================
  // COMPETENCIAS CIUDADANAS (integradas en el eje Ético-Político)
  // Fuente: MEN - Estándares Básicos de Competencias Ciudadanas (2004)
  // =======================================================================
  competenciasCiudadanas: {
    descripcion: 'Las Competencias Ciudadanas están integradas transversalmente en el eje Ético-Político y se desarrollan en tres grandes grupos.',
    grupos: [
      {
        id: 'convivencia-paz',
        nombre: 'Convivencia y paz',
        descripcion: 'Competencias relacionadas con la convivencia pacífica, la resolución de conflictos y la construcción de acuerdos.'
      },
      {
        id: 'participacion-democracia',
        nombre: 'Participación y responsabilidad democrática',
        descripcion: 'Competencias relacionadas con la participación en decisiones colectivas, el ejercicio de la ciudadanía y la comprensión del sistema democrático.'
      },
      {
        id: 'pluralidad-identidad',
        nombre: 'Pluralidad, identidad y valoración de las diferencias',
        descripcion: 'Competencias relacionadas con el reconocimiento y valoración de la diversidad étnica, cultural, de género y de pensamiento.'
      }
    ],
    tiposCompetencia: [
      {
        id: 'cognitivas',
        nombre: 'Cognitivas',
        descripcion: 'Capacidades para realizar procesos mentales que favorecen el ejercicio de la ciudadanía: toma de perspectiva, interpretación de intenciones, generación de opciones, consideración de consecuencias.'
      },
      {
        id: 'emocionales',
        nombre: 'Emocionales',
        descripcion: 'Capacidades para identificar y responder constructivamente ante las emociones propias y ajenas: empatía, identificación de emociones, manejo de la ira.'
      },
      {
        id: 'comunicativas',
        nombre: 'Comunicativas',
        descripcion: 'Capacidades para establecer un diálogo constructivo con los demás: escucha activa, asertividad, argumentación.'
      },
      {
        id: 'integradoras',
        nombre: 'Integradoras',
        descripcion: 'Capacidades que articulan las anteriores en la acción ciudadana: mediación de conflictos, participación en proyectos colectivos.'
      }
    ]
  }

}; // fin EBC_SOCIALES

// Exportar para uso como módulo (si se usa con bundler)
if (typeof module !== 'undefined' && module.exports) {
  module.exports = EBC_SOCIALES;
}
/**
 * Derechos Básicos de Aprendizaje (DBA) - MEN Colombia
 * Fuente: Ministerio de Educación Nacional, versiones 2016
 * Áreas: Matemáticas, Lenguaje, Ciencias Naturales, Ciencias Sociales
 * Grados: 1 a 11
 *
 * Nota: Los DBA son enunciados que señalan hitos de aprendizaje
 * esperados al finalizar cada grado escolar.
 */

const DBA = {

  // ================================================================
  // MATEMÁTICAS
  // Fuente: MEN, DBA Matemáticas V.2 (2016)
  // ================================================================
  matematicas: {
    '1': [
      'Cuenta colecciones de objetos en situaciones cotidianas y representa cantidades con números hasta el 99.',
      'Reconoce y usa la suma y la resta como operaciones que responden a situaciones de juntar/separar cantidades, y las representa con símbolos matemáticos.',
      'Establece comparaciones (mayor que, menor que, igual que) entre cantidades usando material concreto y representaciones gráficas.',
      'Describe y reproduce patrones con figuras y con números para predecir los elementos siguientes.',
      'Identifica y describe atributos de figuras planas (círculo, cuadrado, triángulo, rectángulo) y cuerpos sólidos del entorno.',
      'Compara y ordena objetos usando magnitudes como longitud, peso y capacidad, utilizando unidades no convencionales.',
      'Lee y registra datos cualitativos en pictogramas para responder preguntas sobre ellos.',
    ],
    '2': [
      'Lee, escribe y ordena números naturales hasta el 999, comprendiendo el valor posicional de cada cifra.',
      'Utiliza las operaciones de adición y sustracción para resolver y formular problemas en situaciones cotidianas, verificando sus resultados.',
      'Identifica regularidades y patrones numéricos, y utiliza la multiplicación como suma repetida.',
      'Reconoce y describe figuras planas, cuerpos geométricos y sus propiedades (lados, vértices, ángulos) en objetos del entorno.',
      'Mide longitudes y capacidades utilizando unidades de medida no convencionales y convencionales (metro, centímetro).',
      'Interpreta datos presentados en tablas y gráficas de barras sencillas para responder preguntas.',
      'Describe e identifica trayectorias y posiciones relativas de objetos en el espacio usando términos como izquierda, derecha, arriba, abajo.',
    ],
    '3': [
      'Lee, escribe y ordena números naturales hasta el 99.999, reconociendo el valor posicional de sus cifras.',
      'Resuelve y formula situaciones de adición, sustracción, multiplicación y división, comprendiendo la relación entre estas operaciones.',
      'Identifica y utiliza fracciones comunes (medio, tercio, cuarto) para representar partes de un todo en contextos cotidianos.',
      'Describe y construye secuencias numéricas y geométricas, identificando la regla de formación.',
      'Clasifica y describe figuras planas y cuerpos geométricos según sus propiedades (número de lados, ángulos, caras).',
      'Estima, mide y compara longitudes, masas, capacidades y tiempos usando unidades del Sistema Internacional.',
      'Recopila, organiza e interpreta datos en tablas de frecuencia y gráficas de barras para dar respuesta a preguntas.',
    ],
    '4': [
      'Reconoce el valor posicional de cifras en números de hasta seis dígitos y realiza operaciones básicas con ellos.',
      'Resuelve y formula problemas que involucran las cuatro operaciones básicas en contextos cotidianos, explicando sus procedimientos.',
      'Comprende las fracciones como parte de un todo y como razón, y realiza comparaciones y ordenamientos entre fracciones.',
      'Identifica y usa propiedades de la adición y la multiplicación (conmutativa, asociativa, distributiva) para simplificar cálculos.',
      'Clasifica y describe ángulos, polígonos y cuerpos geométricos según sus propiedades, e identifica simetrías en figuras planas.',
      'Convierte unidades de longitud, masa y capacidad dentro del Sistema Métrico, y resuelve problemas con tiempo y dinero.',
      'Interpreta gráficas de barras y circulares, y calcula el promedio de un conjunto de datos.',
    ],
    '5': [
      'Lee, escribe y opera números naturales, decimales y fracciones, reconociendo sus relaciones y representaciones en la recta numérica.',
      'Resuelve y formula problemas que involucran operaciones con números naturales, fracciones y decimales, justificando los procedimientos utilizados.',
      'Identifica y usa porcentajes en situaciones cotidianas (descuentos, intereses) relacionándolos con fracciones y decimales.',
      'Reconoce y predice patrones numéricos y geométricos, y los representa con expresiones simbólicas sencillas.',
      'Calcula perímetros y áreas de figuras planas y las aplica en la resolución de problemas.',
      'Identifica y describe las características de las figuras tridimensionales (prismas, pirámides, cilindros, conos, esferas).',
      'Recopila, organiza y representa datos estadísticos, calcula moda, mediana y promedio, e interpreta los resultados.',
    ],
    '6': [
      'Comprende la estructura del sistema numérico de los enteros, sus operaciones y propiedades, y los usa en la solución de problemas.',
      'Opera con fracciones y números decimales para resolver problemas en diferentes contextos, justificando los procedimientos.',
      'Identifica y aplica razones, proporciones y porcentajes en situaciones cotidianas como escalas, mezclas y descuentos.',
      'Reconoce situaciones de variación directa e inversa y las representa con tablas, gráficas y expresiones algebraicas sencillas.',
      'Calcula áreas y perímetros de polígonos y las aplica en la resolución de situaciones problema.',
      'Reconoce y describe transformaciones de figuras en el plano (traslaciones, rotaciones, reflexiones).',
      'Recopila y organiza datos, los representa en gráficas estadísticas y los interpreta usando medidas de tendencia central.',
    ],
    '7': [
      'Resuelve y formula problemas que involucran operaciones con números enteros y racionales, comprendiendo sus propiedades.',
      'Comprende y usa proporciones, razones y variación proporcional para resolver situaciones en contextos reales.',
      'Plantea y resuelve ecuaciones de primer grado con una variable para modelar situaciones cotidianas.',
      'Representa, interpreta y usa funciones lineales expresadas en tablas, gráficas y fórmulas.',
      'Calcula el área y el volumen de figuras tridimensionales básicas (prismas, cilindros) y los aplica en problemas contextualizados.',
      'Comprende y aplica conceptos básicos de probabilidad para estimar la posibilidad de eventos simples.',
      'Analiza e interpreta datos estadísticos usando medidas de tendencia central y de dispersión básicas.',
    ],
    '8': [
      'Construye representaciones, argumentos y ejemplos de propiedades de los números racionales y no racionales.',
      'Propone y desarrolla expresiones algebraicas en el conjunto de los números reales y utiliza las propiedades de la igualdad y de orden para determinar el conjunto solución de ecuaciones e inecuaciones.',
      'Comprende y aplica el Teorema de Pitágoras para resolver situaciones problema en contextos geométricos y cotidianos.',
      'Reconoce y describe funciones de proporcionalidad directa e inversa, y las representa en el plano cartesiano.',
      'Calcula el área y el volumen de figuras tridimensionales (pirámides, conos, esferas) y los aplica en situaciones reales.',
      'Comprende la semejanza de figuras y la aplica para resolver problemas de escala, proporcionalidad y trigonometría básica.',
      'Interpreta y analiza datos estadísticos usando tablas de distribución de frecuencias y representa la información en gráficas adecuadas.',
    ],
    '9': [
      'Utiliza expresiones numéricas, algebraicas o gráficas para hacer descripciones de situaciones concretas y tomar decisiones con base en su interpretación.',
      'Resuelve sistemas de ecuaciones lineales y los utiliza para representar situaciones de la vida cotidiana.',
      'Comprende el concepto de función como una relación entre variables y analiza sus propiedades en representaciones tabulares, gráficas y algebraicas.',
      'Aplica razones trigonométricas (seno, coseno, tangente) en triángulos rectángulos para resolver problemas de medición indirecta.',
      'Identifica y describe cónicas (circunferencia, elipse, parábola, hipérbola) como lugares geométricos y en sus ecuaciones.',
      'Comprende y calcula probabilidades de eventos compuestos usando reglas de adición y multiplicación.',
      'Analiza e interpreta datos estadísticos usando medidas de dispersión (varianza y desviación estándar) para tomar decisiones.',
    ],
    '10': [
      'Comprende el concepto de función (polinomial, exponencial, logarítmica, trigonométrica) y analiza sus propiedades para modelar situaciones reales.',
      'Opera con polinomios y factoriza expresiones algebraicas para resolver ecuaciones y simplificar expresiones.',
      'Aplica límites y la idea intuitiva de continuidad para describir el comportamiento de funciones en un punto o en el infinito.',
      'Resuelve ecuaciones trigonométricas e identidades para modelar fenómenos periódicos.',
      'Usa el concepto de derivada como razón de cambio para analizar el comportamiento de funciones (crecimiento, decrecimiento, extremos).',
      'Comprende y aplica la combinatoria y el conteo (permutaciones, combinaciones) en el cálculo de probabilidades.',
      'Diseña, recolecta y analiza datos estadísticos, usando distribuciones de probabilidad para tomar decisiones informadas.',
    ],
    '11': [
      'Comprende el concepto de integral definida como área bajo una curva y lo usa para resolver situaciones de medida y acumulación.',
      'Aplica derivadas e integrales en la modelación y solución de problemas del mundo real (física, economía, biología).',
      'Comprende y aplica sucesiones y series numéricas (aritméticas, geométricas) en situaciones de modelación.',
      'Resuelve problemas de geometría analítica usando ecuaciones de cónicas y sus propiedades.',
      'Comprende y aplica distribuciones de probabilidad (binomial, normal) para modelar y tomar decisiones en situaciones de incertidumbre.',
      'Diseña y ejecuta proyectos de investigación estadística que incluyan recolección, análisis e interpretación de datos con inferencia básica.',
      'Valora el papel de las matemáticas en el desarrollo científico, tecnológico y social, y las usa como herramienta de pensamiento crítico.',
    ],
  },

  // ================================================================
  // LENGUAJE
  // Fuente: MEN, DBA Lenguaje V.2 (2016)
  // ================================================================
  lenguaje: {
    '1': [
      'Reconoce la función comunicativa de la escritura en diferentes tipos de textos de su entorno (carteles, avisos, libros, revistas).',
      'Lee textos literarios breves (cuentos, poemas, rondas) y expresa sus impresiones sobre ellos de manera oral.',
      'Escribe palabras, oraciones y textos cortos con sentido completo, usando las convenciones del sistema de escritura alfabético.',
      'Participa en conversaciones y exposiciones orales, respetando turnos y usando un vocabulario adecuado al contexto.',
      'Identifica personajes, acciones y lugares en textos narrativos escuchados o leídos.',
      'Reconoce letras, sílabas y palabras como unidades del sistema escrito y entiende la direccionalidad de la escritura.',
    ],
    '2': [
      'Lee textos literarios (cuentos, fábulas, poemas) y da cuenta de los elementos básicos que los componen (personajes, lugar, tiempo, acciones).',
      'Produce textos escritos cortos (narración, descripción) que responden a una intención comunicativa, usando signos de puntuación básicos.',
      'Expresa de forma oral sus ideas, sentimientos e impresiones sobre textos leídos o escuchados, con coherencia y fluidez.',
      'Identifica la estructura básica de textos informativos (inicio, desarrollo, cierre) y los diferencia de textos literarios.',
      'Usa el diccionario para buscar el significado de palabras desconocidas y amplía su vocabulario.',
      'Reconoce que los textos tienen un propósito (informar, entretener, persuadir) y lo identifica en textos sencillos.',
    ],
    '3': [
      'Lee con fluidez y comprensión textos de diferentes tipos (narrativos, informativos, descriptivos) y los relaciona con sus experiencias.',
      'Produce textos escritos con coherencia y cohesión, usando conectores, signos de puntuación y mayúsculas de manera apropiada.',
      'Identifica la intención comunicativa y el punto de vista del autor en diferentes tipos de textos.',
      'Participa en exposiciones y debates orales, organizando sus ideas con claridad y escuchando respetuosamente a los demás.',
      'Comprende el significado de palabras en contexto y reconoce el uso de sinónimos, antónimos y familias de palabras.',
      'Disfruta y valora la literatura como fuente de placer, conocimiento e imaginación.',
    ],
    '4': [
      'Comprende textos literarios y no literarios de diferentes estructuras, identificando tema, propósito e información relevante.',
      'Produce textos escritos de diferente tipo (narración, descripción, exposición) con estructura clara, coherencia y corrección ortográfica.',
      'Identifica recursos literarios básicos (metáfora, comparación, personificación) en textos poéticos y narrativos.',
      'Participa en situaciones comunicativas orales formales e informales, adaptando el registro al contexto.',
      'Usa estrategias de comprensión lectora (predicción, inferencia, resumen) para acceder al significado de textos.',
      'Reconoce la función de diferentes tipos de párrafo (introducción, desarrollo, conclusión) en la estructura de un texto.',
    ],
    '5': [
      'Lee textos de diferentes géneros y épocas, identificando su estructura, intención comunicativa y puntos de vista del autor.',
      'Produce textos escritos con propósito definido (argumentativos, expositivos, narrativos), usando conectores adecuados y recursos ortográficos.',
      'Analiza personajes, conflictos y valores en obras literarias, y los relaciona con situaciones de la vida real.',
      'Usa medios de comunicación y fuentes de información para buscar, seleccionar y organizar datos sobre temas de interés.',
      'Reconoce el papel de la comunicación no verbal (gestos, postura, entonación) en la comunicación oral.',
      'Comprende y usa la estructura de textos argumentativos sencillos: tesis, argumentos, conclusión.',
    ],
    '6': [
      'Comprende textos literarios de diferentes géneros (cuento, novela, poesía, teatro) reconociendo sus características y estructura.',
      'Produce textos escritos coherentes (narrativos, descriptivos, expositivos) con estructura adecuada, conectores y manejo ortográfico.',
      'Identifica y analiza recursos literarios (narrador, figuras retóricas, versificación) en textos poéticos y narrativos.',
      'Comprende la estructura de textos no literarios (noticias, artículos, ensayos) e identifica la posición del autor.',
      'Participa en debates y exposiciones con argumentos sustentados, escucha activamente y reformula sus ideas.',
      'Reconoce variedades lingüísticas (dialectos, registros) y reflexiona sobre la diversidad del español.',
    ],
    '7': [
      'Lee obras literarias de diferentes géneros y tradiciones culturales, interpretando su sentido en relación con el contexto de producción.',
      'Produce textos argumentativos y expositivos con tesis clara, argumentos sustentados y conclusión, usando vocabulario formal.',
      'Comprende textos de los medios de comunicación (noticia, reportaje, editorial) e identifica su intención e ideología.',
      'Analiza el uso del lenguaje figurado en textos literarios y lo aplica en producciones escritas y orales propias.',
      'Usa la consulta de fuentes variadas para ampliar y verificar información, citando adecuadamente las fuentes.',
      'Reflexiona sobre la gramática de la lengua (morfología, sintaxis básica) para mejorar sus producciones escritas.',
    ],
    '8': [
      'Lee y analiza obras literarias representativas de diferentes épocas y culturas, identificando sus características y el contexto histórico.',
      'Produce textos escritos con intención argumentativa o expositiva, usando estrategias retóricas y recursos discursivos adecuados.',
      'Comprende el discurso periodístico y publicitario, identificando sus estrategias de persuasión e información.',
      'Analiza la función del narrador, el punto de vista y los recursos estilísticos en textos narrativos complejos.',
      'Participa en situaciones comunicativas que requieren el uso de registros formales e informales según el contexto.',
      'Relaciona obras literarias con su contexto histórico, cultural y social de producción para ampliar su interpretación.',
    ],
    '9': [
      'Lee y analiza obras literarias de diferentes géneros, épocas y corrientes estéticas, estableciendo relaciones intertextuales.',
      'Produce textos escritos argumentativos (ensayo, reseña crítica) con postura propia, argumentos sólidos y manejo de fuentes.',
      'Comprende y analiza textos académicos y científicos, usando estrategias de lectura crítica.',
      'Reconoce y analiza las características del discurso político y publicitario, identificando sus estrategias de persuasión.',
      'Desarrolla proyectos de investigación lingüística o literaria sencillos, usando metodología básica.',
      'Reflexiona sobre el uso del lenguaje como medio de construcción de identidad, cultura y poder.',
    ],
    '10': [
      'Lee obras literarias canónicas y contemporáneas de literatura universal, relacionándolas con su contexto de producción y recepción.',
      'Produce textos argumentativos complejos (ensayo académico) con estructura, argumentación sólida y fuentes citadas.',
      'Analiza el lenguaje de los medios de comunicación y las nuevas tecnologías como prácticas sociales y culturales.',
      'Comprende y produce textos propios de ámbitos académicos y profesionales (informes, reseñas, ponencias breves).',
      'Reflexiona sobre la historia de la lengua española y su diversidad dialectal y sociolingüística.',
      'Desarrolla proyectos de lectura y escritura que conectan la literatura con otras manifestaciones artísticas y culturales.',
    ],
    '11': [
      'Lee y analiza críticamente textos literarios de diferentes tradiciones culturales, construyendo interpretaciones sustentadas.',
      'Produce textos escritos complejos (ensayos, artículos) con argumentación sólida, manejo de fuentes y postura crítica propia.',
      'Comprende y evalúa críticamente textos de los medios y las TIC, reconociendo su papel en la construcción de realidad social.',
      'Desarrolla proyectos de investigación y comunicación que articulan lenguaje, literatura y otras disciplinas.',
      'Reflexiona sobre las posibilidades comunicativas y estéticas del lenguaje para construir identidad y participar en la sociedad.',
      'Valora la lectura y la escritura como herramientas de aprendizaje, participación ciudadana y desarrollo personal.',
    ],
  },

  // ================================================================
  // CIENCIAS NATURALES
  // Fuente: MEN, DBA Ciencias Naturales V.1 (2016)
  // ================================================================
  'ciencias-naturales': {
    '1': [
      'Describe características observables de los seres vivos (plantas y animales) que les permiten sobrevivir en su entorno.',
      'Identifica los estados de la materia (sólido, líquido, gaseoso) en objetos y sustancias cotidianas y reconoce algunos cambios entre ellos.',
      'Describe las propiedades del agua (color, sabor, olor) y su importancia para los seres vivos.',
      'Reconoce los movimientos de la Tierra (rotación y traslación) y los relaciona con los cambios de día/noche y las estaciones.',
      'Diferencia los seres vivos de los objetos inertes a partir de características como crecimiento, reproducción y nutrición.',
      'Usa los sentidos para explorar el entorno y describe características de objetos y fenómenos naturales.',
    ],
    '2': [
      'Explica la función de los órganos de los sentidos en la relación del ser humano con el entorno.',
      'Describe las necesidades básicas de los seres vivos (alimento, agua, luz, aire) y cómo el entorno las satisface.',
      'Identifica mezclas en el entorno cotidiano y describe métodos sencillos para separarlas (filtración, decantación).',
      'Reconoce que la Tierra está conformada por suelo, agua y aire, y describe características básicas de cada componente.',
      'Describe el ciclo del agua en la naturaleza y explica su importancia para los ecosistemas.',
      'Realiza observaciones, registra datos y formula preguntas a partir de fenómenos naturales cotidianos.',
    ],
    '3': [
      'Clasifica los seres vivos en grupos (plantas, animales, hongos, microorganismos) usando criterios observables.',
      'Comprende la función de los sistemas del cuerpo humano (digestivo, respiratorio, circulatorio) y su relación con la salud.',
      'Describe las propiedades de materiales y sustancias (dureza, solubilidad, conductividad) y las relaciona con sus usos.',
      'Identifica y describe cadenas alimentarias sencillas en ecosistemas locales.',
      'Explica el ciclo de vida de plantas con flores y lo relaciona con la reproducción de las especies.',
      'Realiza experimentos sencillos para verificar hipótesis y comunica sus resultados de forma oral y escrita.',
    ],
    '4': [
      'Comprende la célula como unidad básica de los seres vivos y distingue entre células animales y vegetales.',
      'Describe la función de los sistemas del cuerpo humano (nervioso, excretor, locomotor) y los relaciona con el mantenimiento de la salud.',
      'Explica cómo la energía solar es transformada y transferida en los ecosistemas a través de las cadenas tróficas.',
      'Identifica y describe las propiedades del suelo y su importancia para el sostenimiento de la vida.',
      'Comprende el concepto de mezcla homogénea y heterogénea, y técnicas de separación aplicadas en la industria y la vida diaria.',
      'Reconoce que los fenómenos naturales (terremotos, erupciones, inundaciones) son resultado de procesos internos y externos de la Tierra.',
    ],
    '5': [
      'Comprende los procesos de fotosíntesis y respiración celular como base del flujo de energía en los ecosistemas.',
      'Describe la biodiversidad como característica de los ecosistemas y explica factores que la amenazan.',
      'Comprende las leyes básicas de la herencia y explica cómo los rasgos se transmiten de padres a hijos.',
      'Describe las propiedades del movimiento (velocidad, aceleración) y las relaciona con fuerzas cotidianas.',
      'Identifica cambios físicos y químicos de la materia, y los diferencia según sus características observables.',
      'Comprende el concepto de ecosistema, sus componentes (bióticos y abióticos) y las relaciones entre ellos.',
    ],
    '6': [
      'Comprende la organización de los seres vivos desde la célula hasta el ecosistema, identificando los niveles de organización biológica.',
      'Describe los ciclos biogeoquímicos (carbono, nitrógeno, agua) y su importancia para el mantenimiento de los ecosistemas.',
      'Comprende la teoría atómica básica (Dalton, Bohr) y la usa para explicar la estructura de la materia.',
      'Identifica la tabla periódica como herramienta de clasificación de los elementos y describe propiedades de grupos representativos.',
      'Comprende las leyes de Newton y las aplica para explicar el movimiento de objetos en situaciones cotidianas.',
      'Analiza el impacto ambiental de actividades humanas sobre los ecosistemas y propone acciones para la sostenibilidad.',
    ],
    '7': [
      'Comprende la teoría celular y describe la estructura y función de organelos celulares en células procarióticas y eucarióticas.',
      'Comprende el ciclo del carbono y relaciona fotosíntesis y respiración con el equilibrio del ecosistema.',
      'Describe la estructura atómica (protones, neutrones, electrones) y la usa para interpretar la tabla periódica.',
      'Comprende los tipos de enlace químico (iónico, covalente) y los relaciona con las propiedades de las sustancias.',
      'Comprende el concepto de fuerza gravitacional, magnética y eléctrica, y describe sus efectos en la materia.',
      'Comprende las causas y consecuencias del cambio climático y propone acciones individuales y colectivas para mitigarlo.',
    ],
    '8': [
      'Comprende los mecanismos de la herencia genética (leyes de Mendel) y los aplica para predecir características en descendientes.',
      'Describe la estructura del ADN, el proceso de síntesis de proteínas y su papel en la expresión de los rasgos hereditarios.',
      'Comprende los procesos de reacción química (reactivos, productos, tipos de reacción) y los aplica en situaciones cotidianas.',
      'Identifica las propiedades de los ácidos, bases y sales, y explica reacciones de neutralización con ejemplos del entorno.',
      'Comprende el concepto de energía (cinética, potencial, calórica) y las leyes de la termodinámica básica.',
      'Analiza la relación entre salud, ambiente y estilo de vida, e identifica factores de riesgo y protección.',
    ],
    '9': [
      'Comprende la teoría de la evolución (Darwin) y usa la evidencia fósil, anatómica y molecular para sustentarla.',
      'Describe la biotecnología y sus aplicaciones (ingeniería genética, clonación, transgénicos) y analiza sus implicaciones éticas.',
      'Comprende el concepto de soluciones (concentración, solubilidad) y aplica la estequiometría básica en reacciones químicas.',
      'Comprende las leyes del movimiento (cinemática) y las leyes de Newton para describir y predecir el movimiento de cuerpos.',
      'Identifica fuentes de energía renovables y no renovables, y analiza su impacto ambiental y sostenibilidad.',
      'Desarrolla proyectos de investigación científica usando el método científico para resolver problemas del entorno.',
    ],
    '10': [
      'Comprende los mecanismos de regulación del cuerpo humano (sistema endocrino, nervioso) y su importancia para la homeostasis.',
      'Comprende la termodinámica y sus leyes, y las aplica para explicar procesos naturales e industriales.',
      'Describe los procesos de la reacción química (velocidad, equilibrio, energía de activación) en contextos reales.',
      'Comprende las ondas (sonido, luz) y sus propiedades, y aplica estos conocimientos en tecnología y comunicación.',
      'Analiza los avances de la biotecnología y la genómica, y reflexiona sobre sus implicaciones éticas y sociales.',
      'Evalúa el impacto de la ciencia y la tecnología en el desarrollo sostenible y la calidad de vida.',
    ],
    '11': [
      'Comprende la estructura y función del ecosistema y analiza cómo los desequilibrios ecosistémicos afectan la biodiversidad.',
      'Comprende la electroquímica (pilas, electrólisis) y aplica sus principios en el análisis de procesos industriales.',
      'Comprende los principios de la física cuántica y relativista básica y los relaciona con tecnologías de uso cotidiano.',
      'Analiza situaciones de salud pública (epidemias, enfermedades crónicas) usando conceptos biológicos y epidemiológicos.',
      'Desarrolla proyectos de investigación que integran conceptos de diferentes ciencias naturales para resolver problemas complejos.',
      'Valora el papel de la ciencia como actividad humana, cultural e histórica en la construcción del conocimiento.',
    ],
  },

  // ================================================================
  // CIENCIAS SOCIALES
  // Fuente: MEN, DBA Ciencias Sociales V.1 (2016)
  // ================================================================
  'ciencias-sociales': {
    '1': [
      'Reconoce características de su familia, escuela y comunidad como los grupos sociales más cercanos.',
      'Identifica normas de convivencia en el hogar, la escuela y la comunidad, y comprende su importancia para la vida en sociedad.',
      'Describe características del entorno natural y construido de su comunidad, y reconoce cómo el ser humano lo transforma.',
      'Ubica en el tiempo sucesos cotidianos usando nociones temporales (antes, ahora, después, ayer, hoy, mañana).',
      'Reconoce la diversidad de culturas, costumbres y tradiciones en Colombia, y las valora como parte de nuestra identidad.',
      'Identifica los símbolos patrios de Colombia y su significado para la nación.',
    ],
    '2': [
      'Describe características físicas del territorio colombiano (ríos, montañas, costas, llanuras) y las relaciona con las actividades humanas.',
      'Comprende la función de los servicios públicos y las instituciones del Estado en el bienestar de la comunidad.',
      'Reconoce que Colombia tiene una historia que se construye a partir del aporte de diferentes culturas (indígenas, africanas, europeas).',
      'Usa mapas sencillos para ubicar lugares de su entorno y reconoce los puntos cardinales.',
      'Identifica los derechos y deberes de los niños y las niñas, y los relaciona con la Constitución Política de Colombia.',
      'Reconoce que las comunidades tienen necesidades y que el trabajo organizado contribuye a satisfacerlas.',
    ],
    '3': [
      'Comprende cómo las características geográficas de las regiones de Colombia influyen en las actividades económicas y culturales de sus habitantes.',
      'Describe las principales regiones naturales de Colombia y las relaciona con la biodiversidad y las culturas regionales.',
      'Identifica los procesos de poblamiento de América y Colombia (indígenas, colonización europea, esclavitud africana) y sus consecuencias.',
      'Reconoce la organización política de Colombia (municipio, departamento, nación) y las funciones básicas de sus instituciones.',
      'Comprende que la democracia implica derechos y responsabilidades para todos los ciudadanos.',
      'Valora la diversidad étnica y cultural de Colombia como riqueza que debe protegerse.',
    ],
    '4': [
      'Comprende las causas y consecuencias del proceso de Independencia de Colombia y su significado para la identidad nacional.',
      'Describe la organización política y económica de Colombia durante el siglo XIX y sus cambios hasta el XX.',
      'Analiza la división política de Colombia (departamentos, municipios) y sus características geográficas, económicas y culturales.',
      'Comprende el concepto de ciudadanía y los mecanismos de participación democrática en Colombia.',
      'Identifica los problemas ambientales del territorio colombiano y propone acciones para la sostenibilidad.',
      'Reconoce el papel de grupos sociales y movimientos en la construcción de la historia de Colombia.',
    ],
    '5': [
      'Comprende los procesos históricos que configuraron América Latina como región con características culturales, políticas y económicas comunes.',
      'Describe las grandes civilizaciones prehispánicas (Maya, Azteca, Inca) y analiza su legado cultural.',
      'Comprende el concepto de globalización y sus efectos en las economías, culturas y medio ambiente de los países.',
      'Identifica problemas ambientales globales (deforestación, contaminación, cambio climático) y comprende su impacto en el planeta.',
      'Analiza la estructura y funciones de organismos internacionales (ONU, OEA) y su papel en la solución de conflictos mundiales.',
      'Reflexiona sobre los derechos humanos, su historia y los mecanismos internacionales para su protección.',
    ],
    '6': [
      'Comprende las características de las grandes civilizaciones antiguas (Mesopotamia, Egipto, Grecia, Roma) y su legado a la humanidad.',
      'Describe los sistemas económicos básicos (economía de mercado, planificada, mixta) y los compara con situaciones actuales.',
      'Analiza el concepto de espacio geográfico y los factores que influyen en la distribución de la población mundial.',
      'Comprende el proceso de conquista y colonización española en América y sus consecuencias para los pueblos originarios.',
      'Reconoce la diversidad de expresiones culturales en el mundo y reflexiona sobre el respeto a la diferencia.',
      'Comprende conceptos básicos de economía (oferta, demanda, mercado) y los aplica en situaciones cotidianas.',
    ],
    '7': [
      'Comprende las causas, desarrollo y consecuencias de la Edad Media y el surgimiento del mundo moderno.',
      'Analiza el proceso de Reforma Protestante y Contrarreforma como transformaciones religiosas, políticas y culturales de Europa.',
      'Comprende el surgimiento del capitalismo mercantil y su relación con la expansión colonial europea.',
      'Describe la distribución de la población en el territorio colombiano y los factores geográficos que la determinan.',
      'Analiza los sistemas políticos (democracia, monarquía, dictadura) y los relaciona con situaciones históricas y actuales.',
      'Comprende los conflictos armados del mundo actual y el papel de los organismos internacionales en la búsqueda de la paz.',
    ],
    '8': [
      'Comprende las causas y consecuencias de las Revoluciones Americana, Francesa e Industrial, y su impacto en el mundo moderno.',
      'Analiza el colonialismo europeo del siglo XIX en África y Asia y sus efectos en la configuración del mundo actual.',
      'Describe los grandes biomas del planeta y relaciona sus características con las actividades humanas y los problemas ambientales.',
      'Comprende la Constitución Política de Colombia de 1991 como pacto de convivencia y garante de derechos.',
      'Analiza los mecanismos de participación ciudadana en Colombia y evalúa su efectividad en la vida democrática.',
      'Comprende el concepto de conflicto armado y sus consecuencias humanitarias, con énfasis en el caso colombiano.',
    ],
    '9': [
      'Comprende las causas y consecuencias de la Primera y Segunda Guerra Mundial, y el surgimiento del orden bipolar de la Guerra Fría.',
      'Analiza los procesos de descolonización en África y Asia y el surgimiento de los movimientos de liberación nacional.',
      'Comprende el concepto de desarrollo sostenible y analiza los retos ambientales, sociales y económicos del planeta en el siglo XXI.',
      'Analiza las tensiones entre globalización e identidades locales, y sus efectos en la cultura colombiana y latinoamericana.',
      'Comprende los fundamentos del Derecho Internacional Humanitario y los mecanismos de protección de los derechos humanos.',
      'Reflexiona sobre la construcción de paz en Colombia, los acuerdos de paz y los retos de la reconciliación.',
    ],
    '10': [
      'Comprende el surgimiento y desarrollo de América Latina como región y los factores históricos, geográficos y culturales que la configuran.',
      'Analiza los regímenes autoritarios del siglo XX (fascismo, nazismo, estalinismo) y sus consecuencias para la humanidad.',
      'Comprende los fundamentos de la economía política y analiza modelos económicos (neoliberalismo, socialismo) en contextos históricos.',
      'Describe las migraciones internacionales contemporáneas y sus causas económicas, políticas y ambientales.',
      'Analiza el papel de los movimientos sociales en la transformación de las sociedades democráticas.',
      'Comprende los principales problemas políticos y económicos de Colombia en el contexto global del siglo XXI.',
    ],
    '11': [
      'Analiza los procesos de globalización económica y sus efectos en la soberanía de los Estados, la cultura y el medio ambiente.',
      'Comprende los principales conflictos geopolíticos del siglo XXI y el papel de los organismos internacionales en su gestión.',
      'Reflexiona sobre el ejercicio de la ciudadanía activa, los derechos humanos y los mecanismos de participación política.',
      'Analiza los retos del desarrollo sostenible en Colombia y el mundo, y evalúa propuestas de solución.',
      'Comprende los conceptos de justicia transicional y construye argumentos sobre los retos de la paz en Colombia.',
      'Desarrolla proyectos de investigación social que integran conceptos históricos, geográficos, económicos y políticos para comprender el mundo actual.',
    ],
  },
};

// Exportar para uso como módulo ES6 y como variable global
if (typeof module !== 'undefined' && module.exports) {
  module.exports = DBA;
} else if (typeof window !== 'undefined') {
  window.DBA = DBA;
}
/**
 * Planes de aula de Matemáticas - Grados 8° a 11°
 * Estructura: 4 periodos x 10 semanas x 4 horas/semana = 160 horas/año
 * Basado en Estándares Básicos de Competencias (EBC) del MEN - Colombia
 */

const PLANES_MATEMATICAS = {

  // ============================================================
  // GRADO 8
  // ============================================================
  '8': {
    grado: '8°',
    intensidadHoraria: 4,
    totalSemanas: 40,
    totalHorasAnuales: 160,
    objetivo: 'Desarrollar competencias matemáticas en el conjunto de los números reales, expresiones algebraicas, geometría euclidiana y estadística',

    periodos: [
      // ----------------------------------------------------------
      // GRADO 8 - PERIODO 1
      // ----------------------------------------------------------
      {
        periodo: 1,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Utilizo números reales en sus diferentes representaciones y en diversos contextos',
          'Resuelvo problemas y simplifico cálculos usando propiedades y relaciones de los números reales'
        ],

        diagnostico: 'El 56% de los estudiantes no resuelve problemas en situaciones aditivas y multiplicativas en el conjunto de los números reales.',

        competenciaCiudadana: 'Reconozco la importancia de los números en la vida cotidiana y reflexiono sobre decisiones económicas básicas que implican operaciones con reales.',

        competenciasICFES: {
          razonamiento: 'Justifica el uso de operaciones con números reales para resolver situaciones problema del entorno.',
          comunicacion: 'Representa e interpreta información numérica en diferentes formatos (recta numérica, fracción, decimal, porcentaje).',
          resolucionProblemas: 'Aplica propiedades de los números reales para simplificar cálculos y resolver situaciones de la vida cotidiana.'
        },

        dba: 'Construye representaciones, argumentos y ejemplos de propiedades de los números racionales y no racionales.',

        preguntaProblema: '¿Cómo los números reales y las expresiones algebraicas nos permiten modelar y resolver situaciones del mundo real?',

        ejesTematicos: [
          'Números reales',
          'Polinomios',
          'Operaciones con polinomios',
          'Ángulos',
          'Teorema de Pitágoras',
          'Tablas de frecuencias y gráficos en datos agrupados'
        ],

        evidenciasAprendizaje: [
          'Clasifica números reales (racionales e irracionales) con ejemplos propios.',
          'Realiza operaciones con polinomios (suma, resta, multiplicación) de manera correcta.',
          'Aplica el Teorema de Pitágoras en situaciones geométricas concretas.',
          'Construye tablas de frecuencias y gráficos estadísticos para datos agrupados.',
          'Resuelve problemas que integren números reales y geometría básica.'
        ],

        matrizReferencia: {
          componente: 'Numérico-Variacional',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Usa representaciones de los números reales para resolver problemas.',
            'Justifica propiedades de operaciones con reales en contextos concretos.'
          ],
          evidenciasICFES: [
            'Identifica el valor posicional y comparación de números reales en la recta numérica.',
            'Resuelve operaciones combinadas con números reales aplicando jerarquía.'
          ]
        },

        aprendizajesICFES: ['mat-s9-01', 'mat-s9-02'],
        evidenciasICFES: ['mat-s9-01-e1', 'mat-s9-01-e2', 'mat-s9-02-e1'],
        nivelEsperado: 'Mínimo',

        materialesEducativos: [
          'Texto escolar de Matemáticas 8° (editorial Norma o Santillana)',
          'Recta numérica en cartulina',
          'Regla, compás y transportador',
          'Guías de trabajo elaboradas por el docente',
          'Software GeoGebra (versión web gratuita)'
        ],

        estrategiasMetodologicas: [
          'Aprendizaje basado en problemas (ABP) con situaciones cotidianas.',
          'Trabajo colaborativo en grupos pequeños para exploración de propiedades.',
          'Uso de GeoGebra para visualización de la recta numérica y polígonos.',
          'Taller de ejercitación con retroalimentación inmediata.',
          'Prueba diagnóstica inicial para identificar saberes previos.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Reconoce y clasifica los subconjuntos de los números reales.',
            'Enuncia propiedades de las operaciones con polinomios.',
            'Identifica los elementos de un triángulo rectángulo y el Teorema de Pitágoras.'
          ],
          hacer: [
            'Realiza operaciones con números reales (suma, resta, multiplicación, división).',
            'Suma, resta y multiplica polinomios correctamente.',
            'Calcula la hipotenusa o los catetos usando el Teorema de Pitágoras.',
            'Construye e interpreta tablas de frecuencias y gráficos para datos agrupados.'
          ],
          ser: [
            'Muestra disposición positiva frente a los retos matemáticos.',
            'Participa activamente en actividades grupales con respeto por las ideas ajenas.',
            'Entrega oportunamente las tareas y talleres asignados.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Numérico', 'Espacial', 'Métrico']
      },

      // ----------------------------------------------------------
      // GRADO 8 - PERIODO 2
      // ----------------------------------------------------------
      {
        periodo: 2,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Identifico relaciones entre propiedades de las gráficas y propiedades de las ecuaciones algebraicas',
          'Uso procesos inductivos y lenguaje algebraico para formular y poner a prueba conjeturas'
        ],

        diagnostico: 'El 48% de los estudiantes presenta dificultades en la factorización de expresiones algebraicas.',

        competenciaCiudadana: 'Valora el trabajo en equipo para resolver problemas algebraicos y reconoce el error como oportunidad de aprendizaje.',

        competenciasICFES: {
          razonamiento: 'Identifica patrones algebraicos y los generaliza mediante fórmulas de productos notables.',
          comunicacion: 'Traduce situaciones verbales a ecuaciones algebraicas y viceversa.',
          resolucionProblemas: 'Resuelve ecuaciones lineales y problemas de contexto usando factorización y productos notables.'
        },

        dba: 'Propone y desarrolla expresiones algebraicas en el conjunto de los números reales y utiliza las propiedades de la igualdad y de orden.',

        preguntaProblema: '¿Cómo la factorización y las ecuaciones nos ayudan a modelar y resolver situaciones de la vida real?',

        ejesTematicos: [
          'Factorización',
          'Productos notables',
          'Ecuaciones lineales',
          'Triángulos y sus propiedades',
          'Medidas de tendencia central'
        ],

        evidenciasAprendizaje: [
          'Factoriza expresiones algebraicas usando diferentes métodos (factor común, diferencia de cuadrados, trinomio cuadrado perfecto).',
          'Aplica fórmulas de productos notables para desarrollar y factorizar expresiones.',
          'Resuelve ecuaciones lineales con una incógnita en contextos reales.',
          'Calcula e interpreta la media, mediana y moda de un conjunto de datos.',
          'Identifica propiedades de los triángulos (suma de ángulos, desigualdad triangular).'
        ],

        matrizReferencia: {
          componente: 'Numérico-Variacional',
          competencia: 'Comunicación, representación y modelación',
          afirmaciones: [
            'Representa situaciones usando lenguaje algebraico.',
            'Verifica soluciones de ecuaciones lineales sustituyendo en la ecuación original.'
          ],
          evidenciasICFES: [
            'Identifica la expresión factorizada equivalente a una expresión algebraica dada.',
            'Determina el valor de la incógnita en una ecuación lineal.'
          ]
        },

        aprendizajesICFES: ['mat-s9-02', 'mat-s9-03', 'mat-s9-08'],
        evidenciasICFES: ['mat-s9-02-e1', 'mat-s9-02-e2', 'mat-s9-03-e1', 'mat-s9-08-e1'],
        nivelEsperado: 'Mínimo',

        materialesEducativos: [
          'Texto escolar de Matemáticas 8°',
          'Fichas de algebra (piezas para modelar polinomios)',
          'Guías de factorización con ejercicios graduados',
          'Calculadora científica',
          'GeoGebra para graficar ecuaciones lineales'
        ],

        estrategiasMetodologicas: [
          'Modelado concreto con fichas de álgebra antes de pasar a lo simbólico.',
          'Talleres de factorización por niveles de dificultad progresiva.',
          'Resolución de problemas contextualizados con ecuaciones lineales.',
          'Análisis estadístico de datos reales del contexto escolar.',
          'Corrección entre pares para fomentar la retroalimentación formativa.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Reconoce los métodos de factorización y las fórmulas de productos notables.',
            'Enuncia los pasos para resolver una ecuación lineal.',
            'Define las medidas de tendencia central y sus características.'
          ],
          hacer: [
            'Factoriza expresiones algebraicas usando factor común y casos especiales.',
            'Resuelve ecuaciones lineales y verifica la solución.',
            'Calcula media, mediana y moda de conjuntos de datos.',
            'Clasifica triángulos según sus lados y ángulos.'
          ],
          ser: [
            'Persiste frente a la dificultad en la resolución de problemas algebraicos.',
            'Comparte estrategias de solución con respeto y apertura.',
            'Mantiene el cuaderno organizado y al día.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Numérico', 'Variacional', 'Aleatorio']
      },

      // ----------------------------------------------------------
      // GRADO 8 - PERIODO 3
      // ----------------------------------------------------------
      {
        periodo: 3,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Reconozco y contrasto propiedades y relaciones geométricas utilizadas en demostración de teoremas básicos',
          'Aplico y justifico criterios de congruencia y semejanza entre triángulos'
        ],

        diagnostico: 'El 52% de los estudiantes confunde los criterios de congruencia con los de semejanza en triángulos.',

        competenciaCiudadana: 'Aprecia la geometría como herramienta para comprender el entorno arquitectónico y natural, desarrollando sentido estético y crítico.',

        competenciasICFES: {
          razonamiento: 'Justifica por qué dos triángulos son congruentes o semejantes usando los criterios correspondientes.',
          comunicacion: 'Usa lenguaje geométrico preciso (congruencia, semejanza, razón de proporcionalidad) para describir relaciones entre figuras.',
          resolucionProblemas: 'Aplica el Teorema de Tales y criterios de semejanza para calcular medidas en situaciones reales.'
        },

        dba: 'Identifica regularidades y argumenta propiedades de figuras geométricas a partir de teoremas.',

        preguntaProblema: '¿Cómo los conceptos de congruencia y semejanza nos permiten resolver problemas de medición indirecta en el mundo real?',

        ejesTematicos: [
          'Congruencia de triángulos',
          'Semejanza de triángulos',
          'Teorema de Tales',
          'Ecuaciones cuadráticas',
          'Gráficos estadísticos'
        ],

        evidenciasAprendizaje: [
          'Aplica correctamente los criterios LLL, LAL y ALA para establecer congruencia entre triángulos.',
          'Determina razones de semejanza y calcula longitudes desconocidas en triángulos semejantes.',
          'Usa el Teorema de Tales para dividir segmentos proporcionalmente.',
          'Resuelve ecuaciones cuadráticas por factorización.',
          'Interpreta y construye gráficos estadísticos (barras, histogramas, circulares).'
        ],

        matrizReferencia: {
          componente: 'Geométrico-Métrico',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Justifica la congruencia o semejanza de triángulos con argumentos geométricos.',
            'Calcula medidas usando proporcionalidad y el Teorema de Tales.'
          ],
          evidenciasICFES: [
            'Identifica los criterios de congruencia o semejanza que se cumplen en una figura dada.',
            'Determina longitudes usando razones de semejanza entre figuras.'
          ]
        },

        aprendizajesICFES: ['mat-s9-05', 'mat-s9-06', 'mat-s9-08'],
        evidenciasICFES: ['mat-s9-05-e1', 'mat-s9-05-e2', 'mat-s9-06-e1', 'mat-s9-08-e1', 'mat-s9-08-e2'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 8°',
          'Regla, compás, transportador y escuadras',
          'Papel cuadriculado y papel punteado',
          'GeoGebra para construcciones geométricas dinámicas',
          'Videos tutoriales sobre criterios de congruencia y semejanza'
        ],

        estrategiasMetodologicas: [
          'Construcción geométrica con regla y compás para verificar criterios de congruencia.',
          'Aprendizaje situado: medir alturas de objetos reales usando semejanza de triángulos.',
          'Demostración guiada del Teorema de Tales con material concreto.',
          'Resolución de ecuaciones cuadráticas mediante factorización (conexión algebraica).',
          'Análisis e interpretación de datos estadísticos de situaciones locales.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Enuncia los criterios de congruencia y semejanza de triángulos.',
            'Explica el enunciado del Teorema de Tales.',
            'Reconoce la forma estándar de una ecuación cuadrática.'
          ],
          hacer: [
            'Determina si dos triángulos son congruentes o semejantes justificando el criterio usado.',
            'Calcula medidas desconocidas usando razones de semejanza.',
            'Aplica el Teorema de Tales para dividir segmentos en proporción dada.',
            'Resuelve ecuaciones cuadráticas por factorización.'
          ],
          ser: [
            'Argumenta sus respuestas con precisión y seguridad.',
            'Colabora con sus compañeros en las actividades de construcción geométrica.',
            'Reconoce y corrige sus errores con actitud positiva.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Espacial', 'Métrico', 'Variacional']
      },

      // ----------------------------------------------------------
      // GRADO 8 - PERIODO 4
      // ----------------------------------------------------------
      {
        periodo: 4,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso representaciones geométricas para resolver y formular problemas',
          'Interpreto analítica y críticamente información estadística'
        ],

        diagnostico: 'El 45% de los estudiantes no calcula correctamente áreas de figuras compuestas ni interpreta datos estadísticos con sentido crítico.',

        competenciaCiudadana: 'Toma decisiones informadas basadas en el análisis de datos estadísticos, reconociendo la importancia de la evidencia numérica en asuntos ciudadanos.',

        competenciasICFES: {
          razonamiento: 'Descompone figuras compuestas en figuras simples para calcular área y perímetro.',
          comunicacion: 'Interpreta y comunica resultados de análisis probabilísticos y estadísticos usando lenguaje preciso.',
          resolucionProblemas: 'Calcula probabilidades de eventos simples y toma decisiones basadas en datos estadísticos.'
        },

        dba: 'Interpreta información presentada en tablas y gráficas y toma decisiones informadas.',

        preguntaProblema: '¿Cómo podemos usar la geometría y la estadística para tomar mejores decisiones en nuestra vida cotidiana?',

        ejesTematicos: [
          'Polígonos regulares e irregulares',
          'Área y perímetro de figuras compuestas',
          'Probabilidad de eventos simples',
          'Análisis de datos bivariados',
          'Proyecto integrador'
        ],

        evidenciasAprendizaje: [
          'Calcula el área y perímetro de polígonos regulares e irregulares usando fórmulas adecuadas.',
          'Descompone figuras compuestas para calcular su área total.',
          'Calcula la probabilidad de eventos simples en experimentos aleatorios.',
          'Construye e interpreta diagramas de dispersión para datos bivariados.',
          'Desarrolla un proyecto integrador que articule geometría, álgebra y estadística.'
        ],

        matrizReferencia: {
          componente: 'Geométrico-Métrico / Aleatorio',
          competencia: 'Resolución y planteamiento de problemas',
          afirmaciones: [
            'Calcula áreas y perímetros de figuras compuestas en contextos reales.',
            'Determina probabilidades de eventos simples y las interpreta en contexto.'
          ],
          evidenciasICFES: [
            'Selecciona la estrategia adecuada para calcular el área de una figura compuesta.',
            'Calcula la probabilidad de un evento usando la razón favorable/total.'
          ]
        },

        aprendizajesICFES: ['mat-s9-06', 'mat-s9-09', 'mat-s9-10'],
        evidenciasICFES: ['mat-s9-06-e2', 'mat-s9-06-e3', 'mat-s9-09-e1', 'mat-s9-09-e2', 'mat-s9-10-e1'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 8°',
          'Papel cuadriculado para cálculos de área',
          'Dados, monedas y urnas para experimentos probabilísticos',
          'GeoGebra para construcción de polígonos',
          'Hojas de cálculo (LibreOffice Calc o Google Sheets) para análisis de datos'
        ],

        estrategiasMetodologicas: [
          'Proyecto integrador: diseño de un espacio (jardín, cancha, salón) calculando materiales.',
          'Experimentos probabilísticos con materiales manipulativos (dados, monedas).',
          'Análisis de datos reales del contexto escolar o municipal.',
          'Aprendizaje basado en proyectos para el cierre del año escolar.',
          'Autoevaluación y coevaluación del proyecto integrador.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Reconoce las fórmulas de área y perímetro de polígonos regulares.',
            'Define probabilidad clásica y sus propiedades básicas.',
            'Identifica variables en un análisis bivariado.'
          ],
          hacer: [
            'Calcula áreas y perímetros de figuras compuestas en contextos reales.',
            'Determina la probabilidad de eventos simples en experimentos aleatorios.',
            'Construye e interpreta diagramas de dispersión.',
            'Presenta y sustenta el proyecto integrador con rigor matemático.'
          ],
          ser: [
            'Demuestra responsabilidad y compromiso en el desarrollo del proyecto integrador.',
            'Escucha y valora las presentaciones de sus compañeros con respeto.',
            'Reflexiona sobre su propio aprendizaje a lo largo del año.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Espacial', 'Métrico', 'Aleatorio']
      }
    ]
  },

  // ============================================================
  // GRADO 9
  // ============================================================
  '9': {
    grado: '9°',
    intensidadHoraria: 4,
    totalSemanas: 40,
    totalHorasAnuales: 160,
    objetivo: 'Consolidar el pensamiento algebraico mediante funciones, sistemas de ecuaciones y geometría analítica, articulando el álgebra con la geometría y la estadística',

    periodos: [
      // ----------------------------------------------------------
      // GRADO 9 - PERIODO 1
      // ----------------------------------------------------------
      {
        periodo: 1,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Identifico diferentes métodos para solucionar sistemas de ecuaciones lineales',
          'Modelo situaciones de variación con funciones polinómicas'
        ],

        diagnostico: 'El 51% de los estudiantes no interpreta correctamente la gráfica de una función cuadrática ni identifica sus elementos (vértice, eje de simetría, cortes).',

        competenciaCiudadana: 'Usa el pensamiento matemático para analizar fenómenos naturales y sociales que siguen comportamientos cuadráticos (trayectorias, economía básica).',

        competenciasICFES: {
          razonamiento: 'Analiza el comportamiento de la función cuadrática identificando sus parámetros y su relación con la gráfica.',
          comunicacion: 'Representa la función cuadrática en tablas, ecuaciones y gráficas, estableciendo conexiones entre ellas.',
          resolucionProblemas: 'Resuelve situaciones de variación que modelan con función cuadrática, interpretando resultados en contexto.'
        },

        dba: 'Utiliza expresiones numéricas, algebraicas o gráficas para hacer descripciones de situaciones concretas.',

        preguntaProblema: '¿Cómo las funciones cuadráticas modelan fenómenos del mundo real como trayectorias y costos?',

        ejesTematicos: [
          'Exponentes racionales',
          'Leyes de exponentes',
          'Función cuadrática Y=ax²+bx+c',
          'Parámetros y simetría de la parábola',
          'Representación de datos cuantitativos'
        ],

        evidenciasAprendizaje: [
          'Aplica las leyes de exponentes incluyendo exponentes racionales y negativos.',
          'Grafica funciones cuadráticas identificando vértice, eje de simetría y concavidad.',
          'Determina el dominio, recorrido y cortes con los ejes de la función cuadrática.',
          'Interpreta los parámetros a, b y c en la función cuadrática y su efecto en la gráfica.',
          'Representa e interpreta datos cuantitativos usando histogramas y polígonos de frecuencia.'
        ],

        matrizReferencia: {
          componente: 'Numérico-Variacional',
          competencia: 'Comunicación, representación y modelación',
          afirmaciones: [
            'Relaciona los parámetros de la función cuadrática con su representación gráfica.',
            'Usa exponentes racionales para expresar raíces y potencias equivalentes.'
          ],
          evidenciasICFES: [
            'Identifica la gráfica correcta de una función cuadrática dados sus parámetros.',
            'Simplifica expresiones con exponentes racionales usando las leyes de exponentes.'
          ]
        },

        aprendizajesICFES: ['mat-s9-01', 'mat-s9-04'],
        evidenciasICFES: ['mat-s9-01-e2', 'mat-s9-01-e3', 'mat-s9-04-e1', 'mat-s9-04-e2'],
        nivelEsperado: 'Mínimo',

        materialesEducativos: [
          'Texto escolar de Matemáticas 9°',
          'GeoGebra para explorar la función cuadrática de forma dinámica',
          'Guías de trabajo con situaciones de modelación',
          'Calculadora científica',
          'Videos sobre aplicaciones de la función cuadrática (física, economía)'
        ],

        estrategiasMetodologicas: [
          'Exploración con GeoGebra: variación de parámetros a, b, c y efecto en la parábola.',
          'Modelación de situaciones reales (tiro parabólico simplificado, área máxima).',
          'Trabajo colaborativo para construir tablas de valores y graficar funciones.',
          'Taller de exponentes con ejercicios graduados.',
          'Análisis de datos del contexto escolar con representaciones gráficas.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Enuncia las leyes de exponentes y las aplica a expresiones con exponentes racionales.',
            'Define función cuadrática e identifica sus elementos principales.',
            'Describe el efecto de cada parámetro en la gráfica de la parábola.'
          ],
          hacer: [
            'Simplifica expresiones con exponentes racionales.',
            'Construye la tabla de valores y grafica funciones cuadráticas.',
            'Determina vértice, eje de simetría, cortes y concavidad de una parábola.',
            'Interpreta histogramas y polígonos de frecuencia de datos cuantitativos.'
          ],
          ser: [
            'Muestra curiosidad matemática al explorar el comportamiento de las funciones.',
            'Trabaja de forma ordenada y sistemática en la construcción de gráficas.',
            'Participa activamente en las discusiones del grupo.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Numérico', 'Variacional']
      },

      // ----------------------------------------------------------
      // GRADO 9 - PERIODO 2
      // ----------------------------------------------------------
      {
        periodo: 2,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso procesos inductivos y lenguaje algebraico para formular y poner a prueba conjeturas',
          'Analizo en representaciones gráficas cartesianas los comportamientos de cambio de funciones'
        ],

        diagnostico: 'El 49% de los estudiantes no selecciona el método adecuado para resolver sistemas de ecuaciones lineales según el tipo de sistema.',

        competenciaCiudadana: 'Reconoce cómo los sistemas de ecuaciones permiten modelar problemas de distribución de recursos, presupuesto y planificación comunitaria.',

        competenciasICFES: {
          razonamiento: 'Justifica la elección del método de solución de un sistema de ecuaciones según las características del sistema.',
          comunicacion: 'Representa sistemas de ecuaciones gráficamente e interpreta el significado geométrico de la solución.',
          resolucionProblemas: 'Formula y resuelve sistemas de ecuaciones lineales para modelar situaciones con dos variables.'
        },

        dba: 'Resuelve sistemas de ecuaciones lineales y los utiliza para representar situaciones de la vida cotidiana.',

        preguntaProblema: '¿Cómo podemos usar sistemas de ecuaciones para encontrar el equilibrio entre variables en situaciones económicas y sociales?',

        ejesTematicos: [
          'Sistemas de ecuaciones lineales 2x2',
          'Métodos de solución (sustitución, igualación, eliminación, gráfico)',
          'Transformaciones geométricas',
          'Medidas de dispersión'
        ],

        evidenciasAprendizaje: [
          'Resuelve sistemas de ecuaciones 2x2 por los métodos de sustitución, igualación y eliminación.',
          'Interpreta gráficamente la solución de un sistema (punto de intersección).',
          'Clasifica sistemas según su solución (compatible determinado, indeterminado, incompatible).',
          'Aplica transformaciones geométricas (traslación, rotación, reflexión, homotecia) en el plano.',
          'Calcula rango, varianza y desviación estándar de un conjunto de datos.'
        ],

        matrizReferencia: {
          componente: 'Variacional / Geométrico',
          competencia: 'Resolución y planteamiento de problemas',
          afirmaciones: [
            'Selecciona el método más eficiente para resolver un sistema de ecuaciones 2x2.',
            'Interpreta gráficamente el significado de la solución de un sistema de ecuaciones.'
          ],
          evidenciasICFES: [
            'Determina la solución de un sistema de ecuaciones usando el método indicado.',
            'Identifica el tipo de sistema según su representación gráfica o algebraica.'
          ]
        },

        aprendizajesICFES: ['mat-s9-03', 'mat-s9-07', 'mat-s9-08'],
        evidenciasICFES: ['mat-s9-03-e2', 'mat-s9-03-e3', 'mat-s9-07-e1', 'mat-s9-07-e2', 'mat-s9-08-e3'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 9°',
          'GeoGebra para representación gráfica de sistemas de ecuaciones',
          'Papel cuadriculado para construcciones geométricas',
          'Guías de problemas contextualizados con sistemas de ecuaciones',
          'Calculadora científica'
        ],

        estrategiasMetodologicas: [
          'Introducción con el método gráfico para visualizar la solución antes de los métodos algebraicos.',
          'Comparación de métodos: cuándo conviene usar cada uno.',
          'Problemas de modelación: mezclas, edades, precios, trabajo conjunto.',
          'Actividades de transformaciones geométricas con papel cuadriculado y GeoGebra.',
          'Análisis de datos reales: cálculo e interpretación de medidas de dispersión.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Describe los métodos de solución de sistemas de ecuaciones 2x2.',
            'Define las transformaciones geométricas en el plano.',
            'Enuncia las medidas de dispersión y su interpretación.'
          ],
          hacer: [
            'Resuelve sistemas de ecuaciones por sustitución, igualación y eliminación.',
            'Clasifica un sistema según el número y tipo de soluciones.',
            'Aplica transformaciones geométricas a figuras en el plano cartesiano.',
            'Calcula varianza y desviación estándar de conjuntos de datos.'
          ],
          ser: [
            'Persiste ante la dificultad cuando un sistema de ecuaciones resulta complejo.',
            'Verifica sus respuestas por métodos alternativos con espíritu crítico.',
            'Colabora en la solución de problemas contextualizados.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Espacial', 'Métrico']
      },

      // ----------------------------------------------------------
      // GRADO 9 - PERIODO 3
      // ----------------------------------------------------------
      {
        periodo: 3,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Identifico y utilizo diferentes maneras de definir y medir la pendiente',
          'Analizo las propiedades de correlación positiva y negativa'
        ],

        diagnostico: 'El 55% de los estudiantes no interpreta el significado de la pendiente en contextos reales ni distingue funciones exponenciales de lineales.',

        competenciaCiudadana: 'Comprende el crecimiento exponencial aplicado a situaciones sociales como el crecimiento poblacional, el interés compuesto y la propagación de información.',

        competenciasICFES: {
          razonamiento: 'Analiza las propiedades de funciones lineales, exponenciales y logarítmicas, comparando sus tasas de cambio.',
          comunicacion: 'Representa e interpreta funciones en diferentes registros (tablas, gráficas, ecuaciones) y comunica conclusiones sobre correlación.',
          resolucionProblemas: 'Modela situaciones de crecimiento y decrecimiento usando funciones exponenciales y logarítmicas.'
        },

        dba: 'Identifica y analiza relaciones entre propiedades de las gráficas y propiedades de las expresiones algebraicas.',

        preguntaProblema: '¿Cómo las funciones lineales, exponenciales y logarítmicas nos permiten modelar tasas de cambio en fenómenos naturales y sociales?',

        ejesTematicos: [
          'Función lineal y afín',
          'Pendiente e interceptos',
          'Función exponencial',
          'Función logarítmica',
          'Correlación y regresión lineal'
        ],

        evidenciasAprendizaje: [
          'Calcula e interpreta la pendiente de una recta en contextos reales (velocidad, costo por unidad).',
          'Grafica y analiza funciones lineales y afines identificando pendiente e interceptos.',
          'Reconoce la forma y comportamiento de funciones exponenciales (crecimiento y decrecimiento).',
          'Aplica logaritmos para resolver ecuaciones exponenciales simples.',
          'Determina el tipo y grado de correlación entre dos variables usando diagramas de dispersión.'
        ],

        matrizReferencia: {
          componente: 'Variacional / Aleatorio',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Interpreta la pendiente como razón de cambio en situaciones reales.',
            'Distingue comportamientos lineales, exponenciales y logarítmicos a partir de tablas o gráficas.'
          ],
          evidenciasICFES: [
            'Determina la pendiente de una recta a partir de dos puntos o de su ecuación.',
            'Identifica si una situación corresponde a un modelo lineal o exponencial.'
          ]
        },

        aprendizajesICFES: ['mat-s9-04', 'mat-s9-08', 'mat-s9-10'],
        evidenciasICFES: ['mat-s9-04-e1', 'mat-s9-04-e2', 'mat-s9-08-e2', 'mat-s9-08-e3', 'mat-s9-10-e1', 'mat-s9-10-e2'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 9°',
          'GeoGebra para explorar funciones lineales, exponenciales y logarítmicas',
          'Datos reales de internet (crecimiento poblacional, tasas de interés)',
          'Calculadora científica',
          'Hojas de cálculo para análisis de correlación y regresión'
        ],

        estrategiasMetodologicas: [
          'Modelación con datos reales: crecimiento de bacterias, interés bancario, deprecación.',
          'Exploración dinámica con GeoGebra: variación de parámetros en funciones.',
          'Introducción intuitiva del logaritmo como inverso de la exponencial.',
          'Análisis de correlación con datos del entorno (temperatura-consumo, estatura-peso).',
          'Discusión sobre diferencias entre crecimiento lineal y exponencial en contextos reales.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define pendiente y explica su significado geométrico y en contexto.',
            'Describe las características de las funciones exponencial y logarítmica.',
            'Explica qué es correlación y cómo se mide.'
          ],
          hacer: [
            'Calcula la pendiente e interceptos de una función lineal y la grafica.',
            'Construye tablas y grafica funciones exponenciales simples.',
            'Resuelve ecuaciones exponenciales usando logaritmos básicos.',
            'Construye e interpreta diagramas de dispersión y determina el tipo de correlación.'
          ],
          ser: [
            'Relaciona los conceptos matemáticos con fenómenos reales con actitud investigativa.',
            'Argumenta con evidencia (gráficas, datos) sus conclusiones matemáticas.',
            'Demuestra honestidad académica en la recolección y análisis de datos.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Aleatorio', 'Numérico']
      },

      // ----------------------------------------------------------
      // GRADO 9 - PERIODO 4
      // ----------------------------------------------------------
      {
        periodo: 4,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Resuelvo y formulo problemas usando modelos geométricos',
          'Uso conceptos básicos de probabilidad'
        ],

        diagnostico: 'El 47% de los estudiantes no distingue probabilidad condicional de probabilidad simple, ni calcula correctamente áreas y volúmenes de sólidos.',

        competenciaCiudadana: 'Aplica el pensamiento probabilístico para tomar decisiones informadas ante situaciones de incertidumbre en contextos de salud, economía y medio ambiente.',

        competenciasICFES: {
          razonamiento: 'Justifica el cálculo de probabilidades usando reglas de adición y multiplicación, distinguiendo eventos dependientes e independientes.',
          comunicacion: 'Representa situaciones probabilísticas usando diagramas de árbol, tablas de contingencia y notación formal.',
          resolucionProblemas: 'Resuelve problemas de probabilidad condicional y calcula áreas y volúmenes de sólidos en contextos reales.'
        },

        dba: 'Utiliza conceptos de probabilidad para analizar situaciones de incertidumbre.',

        preguntaProblema: '¿Cómo la geometría de los sólidos y la probabilidad nos ayudan a tomar mejores decisiones en situaciones de incertidumbre?',

        ejesTematicos: [
          'Circunferencia y círculo',
          'Áreas y volúmenes de sólidos',
          'Probabilidad condicional',
          'Eventos independientes y dependientes',
          'Proyecto integrador'
        ],

        evidenciasAprendizaje: [
          'Calcula longitud de arco, área de sector y área del círculo en situaciones reales.',
          'Determina áreas laterales, totales y volúmenes de prismas, pirámides, cilindros, conos y esferas.',
          'Calcula probabilidades condicionales usando la definición P(A|B) = P(A∩B)/P(B).',
          'Distingue eventos independientes de dependientes y aplica la regla de multiplicación.',
          'Desarrolla un proyecto integrador que articule geometría tridimensional y probabilidad.'
        ],

        matrizReferencia: {
          componente: 'Geométrico-Métrico / Aleatorio',
          competencia: 'Resolución y planteamiento de problemas',
          afirmaciones: [
            'Calcula áreas y volúmenes de sólidos geométricos en contextos de diseño y construcción.',
            'Determina probabilidades de eventos dependientes e independientes en situaciones reales.'
          ],
          evidenciasICFES: [
            'Selecciona la fórmula correcta para calcular el volumen de un sólido dado.',
            'Determina la probabilidad condicional de un evento dado otro evento relacionado.'
          ]
        },

        aprendizajesICFES: ['mat-s9-06', 'mat-s9-09', 'mat-s9-10'],
        evidenciasICFES: ['mat-s9-06-e2', 'mat-s9-06-e3', 'mat-s9-09-e1', 'mat-s9-09-e2', 'mat-s9-10-e2'],
        nivelEsperado: 'Avanzado',

        materialesEducativos: [
          'Texto escolar de Matemáticas 9°',
          'Modelos tridimensionales de sólidos (armar con cartón o plástico)',
          'GeoGebra 3D para visualizar sólidos',
          'Dados, barajas y urnas para experimentos probabilísticos',
          'Videos sobre aplicaciones de probabilidad (seguros, medicina, climatología)'
        ],

        estrategiasMetodologicas: [
          'Construcción de modelos tridimensionales con material reciclable para calcular área y volumen.',
          'Experimentos probabilísticos: diagramas de árbol con extracción sin reemplazo.',
          'Aprendizaje basado en proyectos: diseño de un empaque optimizando materiales.',
          'Análisis de situaciones reales de probabilidad condicional (pruebas médicas, encuestas).',
          'Autoevaluación y coevaluación del proyecto integrador.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Enuncia las fórmulas de área y volumen de los principales sólidos geométricos.',
            'Define probabilidad condicional y explica la diferencia entre eventos dependientes e independientes.',
            'Describe la regla de multiplicación para probabilidad.'
          ],
          hacer: [
            'Calcula áreas y volúmenes de sólidos en contextos de diseño y construcción.',
            'Determina probabilidades condicionales usando diagramas de árbol y tablas.',
            'Clasifica eventos como independientes o dependientes y aplica la regla correspondiente.',
            'Presenta y sustenta el proyecto integrador con rigor matemático.'
          ],
          ser: [
            'Demuestra responsabilidad y autonomía en el desarrollo del proyecto integrador.',
            'Valora la probabilidad como herramienta de pensamiento crítico en la toma de decisiones.',
            'Respeta los turnos de exposición y valora las presentaciones de sus compañeros.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Espacial', 'Métrico', 'Aleatorio']
      }
    ]
  },

  // ============================================================
  // GRADO 10
  // ============================================================
  '10': {
    grado: '10°',
    intensidadHoraria: 4,
    totalSemanas: 40,
    totalHorasAnuales: 160,
    objetivo: 'Desarrollar el pensamiento trigonométrico y geométrico analítico, articulando las funciones trigonométricas con la geometría del plano y la estadística inferencial',

    periodos: [
      // ----------------------------------------------------------
      // GRADO 10 - PERIODO 1
      // ----------------------------------------------------------
      {
        periodo: 1,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso argumentos geométricos y trigonométricos para resolver problemas de medición indirecta',
          'Generalizo procedimientos de cálculo válidos para encontrar patrones y analizar regularidades'
        ],

        diagnostico: 'El 54% de los estudiantes no establece la relación entre ángulos, funciones trigonométricas y la circunferencia unitaria, limitándose a memorizar fórmulas.',

        competenciaCiudadana: 'Reconoce aplicaciones de la trigonometría en la ingeniería, arquitectura, navegación y geografía, valorando las matemáticas como herramienta para entender el mundo.',

        competenciasICFES: {
          razonamiento: 'Justifica relaciones entre las razones trigonométricas usando el triángulo rectángulo y la circunferencia unitaria.',
          comunicacion: 'Representa ángulos en posición normal y usa la notación de razones y funciones trigonométricas con precisión.',
          resolucionProblemas: 'Aplica razones trigonométricas y la Ley de Senos y Cosenos para resolver triángulos en contextos reales.'
        },

        dba: 'Usa razones trigonométricas y sus propiedades para resolver problemas de medición y modelación.',

        preguntaProblema: '¿Cómo la trigonometría nos permite medir lo que no podemos alcanzar directamente?',

        ejesTematicos: [
          'Ángulos y su medida (grados y radianes)',
          'Razones trigonométricas en el triángulo rectángulo',
          'Circunferencia unitaria y funciones trigonométricas',
          'Ley de Senos y Ley de Cosenos',
          'Estadística descriptiva: medidas de posición'
        ],

        evidenciasAprendizaje: [
          'Convierte ángulos entre grados y radianes correctamente.',
          'Calcula las seis razones trigonométricas de un ángulo en el triángulo rectángulo.',
          'Usa la circunferencia unitaria para determinar valores trigonométricos en los cuatro cuadrantes.',
          'Aplica la Ley de Senos y Cosenos para resolver triángulos oblicuángulos.',
          'Calcula e interpreta cuartiles, percentiles y deciles en conjuntos de datos.'
        ],

        matrizReferencia: {
          componente: 'Métrico / Numérico',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Justifica el valor de una razón trigonométrica usando la definición en el triángulo rectángulo o la circunferencia unitaria.',
            'Selecciona la Ley de Senos o Cosenos según los datos disponibles de un triángulo.'
          ],
          evidenciasICFES: [
            'Calcula una razón trigonométrica dado un ángulo o un lado del triángulo rectángulo.',
            'Determina medidas desconocidas de un triángulo usando la Ley de Senos o Cosenos.'
          ]
        },

        aprendizajesICFES: ['mat-s11-06', 'mat-s11-08'],
        evidenciasICFES: ['mat-s11-06-e1', 'mat-s11-06-e2', 'mat-s11-08-e1', 'mat-s11-08-e2'],
        nivelEsperado: 'Mínimo',

        materialesEducativos: [
          'Texto escolar de Matemáticas 10°',
          'Transportador, regla y calculadora científica con funciones trigonométricas',
          'GeoGebra para la circunferencia unitaria interactiva',
          'Guías de problemas de medición indirecta (topografía, astronomía)',
          'Tabla de razones trigonométricas'
        ],

        estrategiasMetodologicas: [
          'Construcción de la circunferencia unitaria en GeoGebra para visualizar funciones trig.',
          'Actividad práctica: medir alturas de objetos con clinómetro casero y trigonometría.',
          'Resolución de problemas reales de topografía usando Ley de Senos y Cosenos.',
          'Trabajo colaborativo: cada grupo resuelve un caso de medición indirecta diferente.',
          'Análisis estadístico: cálculo de percentiles en datos de evaluaciones ICFES.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define las seis razones trigonométricas y sus relaciones recíprocas.',
            'Enuncia la Ley de Senos y la Ley de Cosenos.',
            'Explica la conversión entre grados y radianes.'
          ],
          hacer: [
            'Calcula razones trigonométricas de ángulos en los cuatro cuadrantes.',
            'Resuelve triángulos rectángulos y oblicuángulos en contextos de medición.',
            'Aplica la Ley de Senos y Cosenos para determinar medidas desconocidas.',
            'Calcula cuartiles y percentiles de conjuntos de datos reales.'
          ],
          ser: [
            'Muestra curiosidad por las aplicaciones reales de la trigonometría.',
            'Trabaja con precisión y rigurosidad en los cálculos trigonométricos.',
            'Comparte estrategias de solución con respeto por las diferencias de pensamiento.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Métrico', 'Espacial', 'Numérico']
      },

      // ----------------------------------------------------------
      // GRADO 10 - PERIODO 2
      // ----------------------------------------------------------
      {
        periodo: 2,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Modelo situaciones de variación periódica con funciones trigonométricas',
          'Identifico y uso relaciones entre propiedades de las gráficas y propiedades de las funciones trigonométricas'
        ],

        diagnostico: 'El 58% de los estudiantes no identifica correctamente el período, amplitud y desplazamiento de funciones trigonométricas transformadas.',

        competenciaCiudadana: 'Reconoce fenómenos periódicos del mundo natural (mareas, sonido, ondas) y valora la importancia del modelado matemático para comprenderlos.',

        competenciasICFES: {
          razonamiento: 'Analiza el efecto de los parámetros A, B, C y D sobre la gráfica de funciones trigonométricas transformadas.',
          comunicacion: 'Representa funciones trigonométricas en su forma general y describe sus propiedades usando terminología precisa.',
          resolucionProblemas: 'Modela fenómenos periódicos reales usando funciones trigonométricas, determinando parámetros a partir de datos.'
        },

        dba: 'Analiza el comportamiento de funciones trigonométricas e identifica sus propiedades para resolver problemas de variación periódica.',

        preguntaProblema: '¿Cómo las funciones trigonométricas nos permiten modelar fenómenos que se repiten cíclicamente en la naturaleza?',

        ejesTematicos: [
          'Funciones seno y coseno: gráfica y propiedades',
          'Transformaciones de funciones trigonométricas (amplitud, período, fase)',
          'Función tangente y funciones recíprocas',
          'Identidades trigonométricas fundamentales',
          'Estadística inferencial: muestreo y estimación'
        ],

        evidenciasAprendizaje: [
          'Grafica las funciones seno y coseno identificando amplitud, período, frecuencia y desplazamiento.',
          'Determina los parámetros de una función trigonométrica a partir de su gráfica.',
          'Verifica identidades trigonométricas usando las relaciones fundamentales (Pitágoras, cociente, recíproca).',
          'Modela una situación periódica real con una función seno o coseno.',
          'Distingue entre muestra y población e identifica tipos de muestreo.'
        ],

        matrizReferencia: {
          componente: 'Variacional',
          competencia: 'Comunicación, representación y modelación',
          afirmaciones: [
            'Relaciona los parámetros de una función trigonométrica con su representación gráfica.',
            'Verifica identidades trigonométricas usando las relaciones fundamentales.'
          ],
          evidenciasICFES: [
            'Determina la amplitud y período de una función trigonométrica dada su ecuación.',
            'Identifica la identidad trigonométrica equivalente a una expresión dada.'
          ]
        },

        aprendizajesICFES: ['mat-s11-01', 'mat-s11-06'],
        evidenciasICFES: ['mat-s11-01-e1', 'mat-s11-01-e2', 'mat-s11-06-e3'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 10°',
          'GeoGebra para graficar y transformar funciones trigonométricas',
          'Simulaciones de ondas de sonido y luz (PhET Interactive)',
          'Calculadora científica',
          'Guías de modelación de fenómenos periódicos'
        ],

        estrategiasMetodologicas: [
          'Exploración dinámica con GeoGebra: deslizadores para variar parámetros A, B, C, D.',
          'Modelación de datos reales de mareas o temperatura usando funciones seno.',
          'Demostración de identidades: trabajo en parejas, cada pareja verifica una identidad diferente.',
          'Análisis de fenómenos de sonido y música usando funciones periódicas.',
          'Introducción al muestreo: simulación de encuestas en el contexto escolar.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define amplitud, período, frecuencia y desplazamiento de una función trigonométrica.',
            'Enuncia las identidades trigonométricas fundamentales (pitagórica, cociente, recíproca).',
            'Describe los tipos de muestreo estadístico y sus características.'
          ],
          hacer: [
            'Grafica funciones seno y coseno transformadas identificando todos sus parámetros.',
            'Determina la ecuación de una función trigonométrica a partir de su gráfica.',
            'Verifica identidades trigonométricas usando operaciones algebraicas.',
            'Diseña un plan de muestreo para una investigación escolar.'
          ],
          ser: [
            'Valora la conexión entre matemáticas y fenómenos naturales con actitud investigativa.',
            'Muestra perseverancia en la verificación de identidades trigonométricas.',
            'Asume con responsabilidad los roles asignados en el trabajo colaborativo.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Métrico', 'Aleatorio']
      },

      // ----------------------------------------------------------
      // GRADO 10 - PERIODO 3
      // ----------------------------------------------------------
      {
        periodo: 3,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso conceptos y propiedades de la geometría analítica para representar figuras en el plano cartesiano',
          'Modelo situaciones usando ecuaciones de figuras geométricas en el plano cartesiano'
        ],

        diagnostico: 'El 50% de los estudiantes tiene dificultades para derivar la ecuación de una cónica a partir de su definición geométrica y para identificar los elementos de cada cónica.',

        competenciaCiudadana: 'Reconoce las cónicas en el mundo real (órbitas planetarias, diseño de antenas, arquitectura) y aprecia la conexión entre geometría y tecnología.',

        competenciasICFES: {
          razonamiento: 'Deduce las ecuaciones de la circunferencia, parábola, elipse e hipérbola a partir de sus definiciones geométricas.',
          comunicacion: 'Representa cónicas en el plano cartesiano e identifica sus elementos con precisión notacional.',
          resolucionProblemas: 'Determina la ecuación de una cónica a partir de datos geométricos y la usa para resolver problemas de diseño.'
        },

        dba: 'Utiliza la geometría analítica para representar y analizar figuras geométricas en el plano cartesiano resolviendo problemas en contexto.',

        preguntaProblema: '¿Cómo la geometría analítica nos permite describir con ecuaciones las trayectorias y formas que observamos en el universo?',

        ejesTematicos: [
          'Lugar geométrico y distancia entre puntos',
          'Circunferencia: ecuación ordinaria y general',
          'Parábola: elementos y ecuaciones',
          'Elipse: elementos y ecuaciones',
          'Hipérbola: elementos y ecuaciones'
        ],

        evidenciasAprendizaje: [
          'Calcula la distancia entre dos puntos y el punto medio de un segmento.',
          'Determina la ecuación de una circunferencia dados el centro y el radio, o tres puntos.',
          'Identifica y calcula los elementos de una parábola (foco, vértice, directriz, lado recto).',
          'Identifica los elementos de una elipse (focos, vértices, ejes, excentricidad) y escribe su ecuación.',
          'Identifica los elementos de una hipérbola y grafica sus asíntotas.'
        ],

        matrizReferencia: {
          componente: 'Geométrico-Métrico',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Justifica la ecuación de una cónica a partir de su definición geométrica.',
            'Identifica los elementos de una cónica a partir de su ecuación o gráfica.'
          ],
          evidenciasICFES: [
            'Determina la ecuación de una circunferencia o parábola dados sus elementos.',
            'Identifica los focos y vértices de una elipse o hipérbola a partir de su ecuación.'
          ]
        },

        aprendizajesICFES: ['mat-s11-05', 'mat-s11-07'],
        evidenciasICFES: ['mat-s11-05-e1', 'mat-s11-05-e2', 'mat-s11-05-e3', 'mat-s11-07-e1'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto escolar de Matemáticas 10°',
          'GeoGebra para construcción dinámica de cónicas',
          'Material concreto: cuerdas para construir elipses con dos focos y cuerda fija',
          'Papel cuadriculado para gráficas de cónicas',
          'Videos sobre aplicaciones astronómicas de las cónicas (NASA, ESA)'
        ],

        estrategiasMetodologicas: [
          'Construcción intuitiva de cónicas con material concreto antes de la ecuación.',
          'GeoGebra: lugar geométrico dinámico para deducir la ecuación de cada cónica.',
          'Análisis de aplicaciones reales: antenas parabólicas, órbitas de planetas.',
          'Trabajo por estaciones: cada estación corresponde a una cónica diferente.',
          'Resolución de problemas de diseño arquitectónico usando cónicas.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define cada cónica como lugar geométrico y enuncia su ecuación estándar.',
            'Identifica los elementos principales de cada cónica (focos, vértices, ejes, directriz).',
            'Explica aplicaciones reales de las cónicas en ciencia y tecnología.'
          ],
          hacer: [
            'Determina la ecuación de una cónica a partir de sus elementos geométricos.',
            'Identifica y calcula los elementos de una cónica dada su ecuación.',
            'Grafica cónicas en el plano cartesiano con precisión.',
            'Resuelve problemas de diseño que involucren cónicas.'
          ],
          ser: [
            'Muestra asombro e interés por la presencia de las matemáticas en el universo.',
            'Trabaja con orden y precisión en las construcciones geométricas.',
            'Contribuye equitativamente en las actividades de trabajo en equipo.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Espacial', 'Métrico', 'Variacional']
      },

      // ----------------------------------------------------------
      // GRADO 10 - PERIODO 4
      // ----------------------------------------------------------
      {
        periodo: 4,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso argumentos estadísticos e inferenciales para analizar datos y tomar decisiones',
          'Resuelvo y formulo problemas que requieren el uso de conceptos avanzados de probabilidad'
        ],

        diagnostico: 'El 46% de los estudiantes confunde distribución normal con otros modelos estadísticos y no interpreta el intervalo de confianza ni los niveles de significancia.',

        competenciaCiudadana: 'Usa el pensamiento estadístico para interpretar críticamente encuestas, estudios y datos presentados en medios de comunicación, desarrollando ciudadanía informada.',

        competenciasICFES: {
          razonamiento: 'Justifica inferencias estadísticas basándose en datos muestrales e intervalos de confianza.',
          comunicacion: 'Representa y comunica distribuciones de datos usando histogramas, diagramas de caja y distribuciones de probabilidad.',
          resolucionProblemas: 'Calcula probabilidades usando distribuciones binomial y normal, y aplica pruebas estadísticas básicas.'
        },

        dba: 'Aplica conceptos de estadística inferencial y probabilidad para tomar decisiones informadas en situaciones de incertidumbre.',

        preguntaProblema: '¿Cómo la estadística inferencial y la probabilidad nos permiten tomar decisiones confiables a partir de muestras limitadas?',

        ejesTematicos: [
          'Distribución normal y tipificación Z',
          'Intervalos de confianza',
          'Combinatoria: permutaciones y combinaciones',
          'Distribución binomial',
          'Proyecto integrador estadístico'
        ],

        evidenciasAprendizaje: [
          'Calcula probabilidades usando la distribución normal estándar (tabla Z).',
          'Construye e interpreta intervalos de confianza para la media poblacional.',
          'Calcula permutaciones y combinaciones para contar arreglos y selecciones.',
          'Aplica la distribución binomial para calcular probabilidades de eventos repetidos.',
          'Diseña, ejecuta e interpreta un proyecto de investigación estadística completo.'
        ],

        matrizReferencia: {
          componente: 'Aleatorio',
          competencia: 'Resolución y planteamiento de problemas',
          afirmaciones: [
            'Calcula probabilidades usando la distribución normal e interpreta los resultados.',
            'Usa combinatoria para contar posibilidades en situaciones de elección y arreglo.'
          ],
          evidenciasICFES: [
            'Determina la probabilidad de un intervalo usando la distribución normal estándar.',
            'Calcula el número de combinaciones o permutaciones en una situación dada.'
          ]
        },

        aprendizajesICFES: ['mat-s11-09', 'mat-s11-10'],
        evidenciasICFES: ['mat-s11-09-e1', 'mat-s11-09-e3', 'mat-s11-10-e1', 'mat-s11-10-e2'],
        nivelEsperado: 'Avanzado',

        materialesEducativos: [
          'Texto escolar de Matemáticas 10°',
          'Tabla de distribución normal estándar (tabla Z)',
          'Calculadora estadística o GeoGebra (módulo de probabilidad)',
          'Hojas de cálculo para análisis estadístico',
          'Bases de datos reales (DANE, ICFES, OMS) para el proyecto integrador'
        ],

        estrategiasMetodologicas: [
          'Aprendizaje basado en proyectos: investigación estadística sobre tema de interés estudiantil.',
          'Análisis de encuestas reales: identificar muestras, márgenes de error e intervalos de confianza.',
          'Juegos de combinatoria para desarrollar intuición antes de las fórmulas.',
          'Simulación de distribución binomial con monedas y dados.',
          'Presentación final del proyecto integrador con análisis estadístico completo.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Describe las características de la distribución normal y su curva de Gauss.',
            'Define intervalo de confianza y nivel de confianza.',
            'Enuncia la diferencia entre permutación y combinación.'
          ],
          hacer: [
            'Calcula probabilidades usando la distribución normal con tabla Z.',
            'Construye intervalos de confianza para la media con muestras grandes.',
            'Calcula permutaciones y combinaciones en situaciones de conteo.',
            'Presenta un proyecto de investigación estadística con análisis completo.'
          ],
          ser: [
            'Interpreta datos estadísticos con espíritu crítico y responsabilidad ciudadana.',
            'Lidera o colabora efectivamente en el proyecto de investigación grupal.',
            'Reflexiona sobre la validez y confiabilidad de sus propias conclusiones estadísticas.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Aleatorio', 'Numérico', 'Variacional']
      }
    ]
  },

  // ============================================================
  // GRADO 11
  // ============================================================
  '11': {
    grado: '11°',
    intensidadHoraria: 4,
    totalSemanas: 40,
    totalHorasAnuales: 160,
    objetivo: 'Introducir el cálculo diferencial e integral básico, consolidar el análisis de funciones y desarrollar el pensamiento matemático avanzado para la educación superior',

    periodos: [
      // ----------------------------------------------------------
      // GRADO 11 - PERIODO 1
      // ----------------------------------------------------------
      {
        periodo: 1,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Analizo las propiedades de diferentes tipos de funciones usando los conceptos de límite y continuidad',
          'Uso conceptos del análisis matemático para modelar y resolver situaciones problema del entorno'
        ],

        diagnostico: 'El 60% de los estudiantes no comprende el concepto intuitivo de límite ni lo distingue del valor de la función en un punto, lo que dificulta el paso al cálculo.',

        competenciaCiudadana: 'Reflexiona sobre el papel del cálculo diferencial en el desarrollo tecnológico e industrial, reconociendo la importancia de la matemática avanzada para el progreso social.',

        competenciasICFES: {
          razonamiento: 'Analiza el comportamiento de una función en la vecindad de un punto usando el concepto de límite.',
          comunicacion: 'Representa límites usando notación formal (lim) e interpreta su significado gráfico y numérico.',
          resolucionProblemas: 'Calcula límites de funciones algebraicas y racionales usando técnicas algebraicas y el Teorema del Emparedado.'
        },

        dba: 'Comprende el concepto de límite como fundamento del cálculo y lo aplica para analizar el comportamiento de funciones.',

        preguntaProblema: '¿Cómo el concepto de límite nos permite entender y describir el comportamiento de una función cuando nos acercamos infinitamente a un punto?',

        ejesTematicos: [
          'Revisión y profundización de funciones: dominio, recorrido, composición, inversas',
          'Concepto intuitivo y formal de límite',
          'Cálculo de límites: técnicas algebraicas',
          'Límites laterales y en el infinito',
          'Continuidad de una función'
        ],

        evidenciasAprendizaje: [
          'Determina dominio, recorrido, función inversa y función compuesta de funciones dadas.',
          'Calcula límites de funciones polinómicas, racionales y con radicales usando sustitución y factorización.',
          'Determina límites laterales e identifica cuándo el límite existe o no existe.',
          'Analiza el comportamiento asintótico de una función (límites en el infinito).',
          'Determina si una función es continua en un punto o en un intervalo.'
        ],

        matrizReferencia: {
          componente: 'Variacional / Numérico',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Justifica la existencia o no existencia de un límite usando límites laterales.',
            'Analiza la continuidad de una función en un punto usando la definición formal.'
          ],
          evidenciasICFES: [
            'Calcula el límite de una función en un punto usando las técnicas algebraicas adecuadas.',
            'Determina si una función es continua en un punto dado, justificando la respuesta.'
          ]
        },

        aprendizajesICFES: ['mat-s11-01', 'mat-s11-02', 'mat-s11-11'],
        evidenciasICFES: ['mat-s11-01-e1', 'mat-s11-02-e1', 'mat-s11-02-e2', 'mat-s11-11-e1'],
        nivelEsperado: 'Mínimo',

        materialesEducativos: [
          'Texto de Cálculo (Stewart, Purcell o Larson, adaptado para media)',
          'GeoGebra para visualizar límites y continuidad gráficamente',
          'Guías de cálculo de límites con niveles graduados de dificultad',
          'Videos de Khan Academy sobre límites (en español)',
          'Calculadora científica'
        ],

        estrategiasMetodologicas: [
          'Introducción intuitiva con tablas numéricas y gráficas antes de la definición formal.',
          'Exploración con GeoGebra: acercarse a un punto desde la izquierda y la derecha.',
          'Resolución progresiva: límites por sustitución, luego factorización, luego racionalización.',
          'Análisis de casos especiales: funciones a trozos, discontinuidades removibles y esenciales.',
          'Conexión con situaciones reales: velocidad instantánea como motivación del cálculo.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define límite de una función en un punto con palabras propias y con notación formal.',
            'Enuncia las condiciones de continuidad de una función en un punto.',
            'Describe la diferencia entre límite lateral izquierdo y derecho.'
          ],
          hacer: [
            'Calcula límites usando sustitución directa, factorización y racionalización.',
            'Determina límites laterales y establece si el límite bilateral existe.',
            'Analiza límites al infinito e identifica asíntotas horizontales.',
            'Determina la continuidad de una función en puntos específicos.'
          ],
          ser: [
            'Muestra apertura ante ideas matemáticas abstractas y persiste ante la dificultad conceptual.',
            'Valora la precisión del lenguaje matemático para comunicar ideas con claridad.',
            'Participa con iniciativa en las discusiones sobre el concepto de límite.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Numérico', 'Métrico']
      },

      // ----------------------------------------------------------
      // GRADO 11 - PERIODO 2
      // ----------------------------------------------------------
      {
        periodo: 2,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso el concepto de derivada como razón de cambio y como pendiente de la recta tangente',
          'Aplico reglas de derivación para analizar el comportamiento de funciones'
        ],

        diagnostico: 'El 57% de los estudiantes calcula derivadas mecánicamente sin comprender su significado geométrico ni aplicarlas al análisis de funciones.',

        competenciaCiudadana: 'Comprende cómo la derivada es usada en economía (costo marginal, ingreso marginal) y en física (velocidad, aceleración) para optimizar recursos y decisiones.',

        competenciasICFES: {
          razonamiento: 'Interpreta la derivada como razón de cambio instantánea y como pendiente de la recta tangente, relacionando conceptos geométricos y analíticos.',
          comunicacion: 'Expresa la derivada usando diferentes notaciones (Leibniz, prima, operador D) e interpreta resultados en contexto.',
          resolucionProblemas: 'Aplica reglas de derivación para analizar el comportamiento de funciones y resolver problemas de optimización básicos.'
        },

        dba: 'Calcula derivadas usando reglas y las interpreta como razón de cambio para analizar el comportamiento de funciones en contextos reales.',

        preguntaProblema: '¿Cómo la derivada nos permite conocer la tasa de cambio instantánea de cualquier proceso y optimizar resultados?',

        ejesTematicos: [
          'Definición de derivada: límite del cociente diferencial',
          'Reglas de derivación (potencia, producto, cociente, cadena)',
          'Derivadas de funciones trascendentes (exponencial, logarítmica, trigonométricas)',
          'Análisis de funciones: crecimiento, decrecimiento, máximos y mínimos',
          'Problemas de optimización'
        ],

        evidenciasAprendizaje: [
          'Calcula la derivada de una función usando la definición (límite del cociente diferencial).',
          'Aplica las reglas de derivación (potencia, producto, cociente, cadena) correctamente.',
          'Deriva funciones exponenciales, logarítmicas y trigonométricas.',
          'Determina intervalos de crecimiento y decrecimiento, máximos y mínimos de una función.',
          'Resuelve problemas de optimización básicos usando la derivada.'
        ],

        matrizReferencia: {
          componente: 'Variacional',
          competencia: 'Resolución y planteamiento de problemas',
          afirmaciones: [
            'Calcula derivadas usando las reglas correspondientes y las interpreta en contexto.',
            'Usa la derivada para determinar el comportamiento de una función (crecimiento, extremos).'
          ],
          evidenciasICFES: [
            'Determina la derivada de una función usando la regla adecuada.',
            'Identifica los intervalos donde una función es creciente o decreciente usando la derivada.'
          ]
        },

        aprendizajesICFES: ['mat-s11-02', 'mat-s11-11', 'mat-s11-12'],
        evidenciasICFES: ['mat-s11-02-e2', 'mat-s11-11-e2', 'mat-s11-11-e3', 'mat-s11-12-e1'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto de Cálculo (Stewart o Purcell, adaptado para media)',
          'GeoGebra para visualizar la recta tangente y el significado geométrico de la derivada',
          'Guías de ejercitación de reglas de derivación',
          'Videos tutoriales sobre derivadas y aplicaciones',
          'Calculadora científica o CAS (GeoGebra Algebra)'
        ],

        estrategiasMetodologicas: [
          'Introducción geométrica: secante que se convierte en tangente al acercar los puntos.',
          'Derivación por definición: calcular límites del cociente para funciones simples.',
          'Práctica progresiva de reglas: potencia → producto → cociente → cadena.',
          'Análisis gráfico: relacionar gráfica de f(x) con la gráfica de f\'(x).',
          'Problemas de optimización contextualizados (máximo beneficio, mínimo costo, máxima área).'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define la derivada usando el límite del cociente diferencial.',
            'Enuncia las reglas de derivación (potencia, producto, cociente, cadena).',
            'Describe el criterio de la primera derivada para determinar máximos y mínimos.'
          ],
          hacer: [
            'Calcula derivadas de funciones polinómicas, racionales y trascendentes.',
            'Aplica la regla de la cadena a funciones compuestas.',
            'Determina extremos relativos y absolutos de funciones usando la derivada.',
            'Resuelve problemas de optimización planteando la función objetivo y sus restricciones.'
          ],
          ser: [
            'Conecta el cálculo diferencial con aplicaciones reales de su interés (física, economía, biología).',
            'Verifica sus resultados por métodos gráficos, mostrando espíritu crítico.',
            'Apoya a sus compañeros en la comprensión de las reglas de derivación.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Numérico', 'Métrico']
      },

      // ----------------------------------------------------------
      // GRADO 11 - PERIODO 3
      // ----------------------------------------------------------
      {
        periodo: 3,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso el concepto de integral como acumulación y como inverso de la derivada',
          'Aplico el Teorema Fundamental del Cálculo para calcular áreas bajo curvas'
        ],

        diagnostico: 'El 62% de los estudiantes no comprende la relación entre derivada e integral y no interpreta la integral definida como área bajo la curva en contextos reales.',

        competenciaCiudadana: 'Reconoce cómo la integral permite calcular trabajo, distancia recorrida, área de regiones irregulares y otros problemas prácticos en ingeniería y ciencias.',

        competenciasICFES: {
          razonamiento: 'Justifica la relación entre derivación e integración usando el Teorema Fundamental del Cálculo.',
          comunicacion: 'Usa la notación de la integral definida e indefinida con precisión e interpreta resultados en contexto.',
          resolucionProblemas: 'Calcula integrales indefinidas y definidas, y usa la integral definida para calcular áreas entre curvas.'
        },

        dba: 'Comprende la integral como operación inversa de la derivada y como herramienta para calcular acumulaciones en situaciones reales.',

        preguntaProblema: '¿Cómo la integral nos permite calcular acumulaciones (distancias, áreas, volúmenes) que no podemos medir directamente?',

        ejesTematicos: [
          'Antiderivada e integral indefinida',
          'Reglas básicas de integración (potencia, exponencial, trigonométricas)',
          'Integral definida y Teorema Fundamental del Cálculo',
          'Cálculo de áreas entre curvas',
          'Aplicaciones de la integral (distancia, trabajo, área)'
        ],

        evidenciasAprendizaje: [
          'Calcula antiderivadas usando las reglas básicas de integración.',
          'Aplica el Teorema Fundamental del Cálculo para evaluar integrales definidas.',
          'Calcula el área bajo una curva entre dos límites dados.',
          'Determina el área entre dos curvas identificando la región de integración.',
          'Aplica la integral a problemas de distancia recorrida y acumulación.'
        ],

        matrizReferencia: {
          componente: 'Variacional / Métrico',
          competencia: 'Razonamiento y argumentación',
          afirmaciones: [
            'Justifica la relación inversa entre derivada e integral usando el Teorema Fundamental del Cálculo.',
            'Calcula el área de una región plana usando integrales definidas.'
          ],
          evidenciasICFES: [
            'Determina la antiderivada de una función usando las reglas de integración.',
            'Calcula el área bajo una curva usando la integral definida.'
          ]
        },

        aprendizajesICFES: ['mat-s11-04', 'mat-s11-11', 'mat-s11-12'],
        evidenciasICFES: ['mat-s11-04-e1', 'mat-s11-11-e2', 'mat-s11-11-e3', 'mat-s11-12-e2'],
        nivelEsperado: 'Satisfactorio',

        materialesEducativos: [
          'Texto de Cálculo (Stewart o Purcell, adaptado para media)',
          'GeoGebra para visualizar sumas de Riemann y convergencia a la integral',
          'Guías de integración con técnicas básicas',
          'Videos tutoriales sobre el Teorema Fundamental del Cálculo',
          'Papel cuadriculado para estimar áreas por cuadriculas (motivación intuitiva)'
        ],

        estrategiasMetodologicas: [
          'Introducción intuitiva: estimación de áreas por sumas de rectángulos (sumas de Riemann).',
          'Visualización con GeoGebra: cómo las sumas de Riemann se acercan a la integral.',
          'Demostración informal del Teorema Fundamental: derivada de la integral es la función.',
          'Práctica de integración: reglas básicas, constante de integración.',
          'Problemas de aplicación: área de regiones irregulares, distancia desde velocidad.'
        ],

        criteriosEvaluacion: {
          saber: [
            'Define integral indefinida y enuncia las reglas básicas de integración.',
            'Enuncia el Teorema Fundamental del Cálculo y su significado.',
            'Explica el concepto de área como integral definida.'
          ],
          hacer: [
            'Calcula integrales indefinidas usando reglas de potencia, exponencial y trigonométricas.',
            'Evalúa integrales definidas usando el Teorema Fundamental del Cálculo.',
            'Calcula áreas bajo curvas y entre dos curvas.',
            'Resuelve problemas de aplicación: distancia a partir de velocidad, trabajo.'
          ],
          ser: [
            'Muestra admiración por la elegancia del Teorema Fundamental del Cálculo.',
            'Trabaja con rigor y precisión en los cálculos de integrales.',
            'Reflexiona sobre cómo el cálculo integral resuelve problemas imposibles con geometría elemental.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Variacional', 'Métrico', 'Numérico']
      },

      // ----------------------------------------------------------
      // GRADO 11 - PERIODO 4
      // ----------------------------------------------------------
      {
        periodo: 4,
        semanas: 10,
        horasSemana: 4,
        horasTotales: 40,

        estandares: [
          'Uso conceptos y procedimientos matemáticos avanzados para modelar y resolver situaciones complejas',
          'Interpreto y uso matemáticas en contextos de otras disciplinas y de la vida real'
        ],

        diagnostico: 'El 44% de los estudiantes no integra los conocimientos matemáticos adquiridos a lo largo del bachillerato para resolver problemas interdisciplinares ni para las pruebas Saber 11.',

        competenciaCiudadana: 'Reflexiona sobre su proceso de aprendizaje matemático, proyecta su vida académica y profesional, y reconoce la matemática como herramienta para la ciudadanía activa.',

        competenciasICFES: {
          razonamiento: 'Articula conceptos de álgebra, geometría, cálculo y estadística para razonar en situaciones matemáticas complejas propias de las pruebas Saber 11.',
          comunicacion: 'Comunica argumentos matemáticos con precisión y coherencia, justificando procedimientos y resultados ante diferentes audiencias.',
          resolucionProblemas: 'Resuelve situaciones problema que integran múltiples campos de las matemáticas, con énfasis en el formato y habilidades evaluadas por el ICFES.'
        },

        dba: 'Integra conocimientos matemáticos de toda la educación básica y media para resolver problemas complejos y prepararse para la vida universitaria.',

        preguntaProblema: '¿Cómo los conocimientos matemáticos acumulados durante el bachillerato me preparan para los desafíos académicos, laborales y ciudadanos?',

        ejesTematicos: [
          'Repaso integral: álgebra, funciones y cálculo',
          'Preparación pruebas Saber 11: componente matemático',
          'Probabilidad avanzada: combinatoria y distribuciones',
          'Modelación matemática interdisciplinar',
          'Proyecto de vida y matemáticas: aplicaciones en carreras'
        ],

        evidenciasAprendizaje: [
          'Resuelve simulacros de pruebas Saber 11 en el componente matemático con nivel mínimo B.',
          'Identifica y aplica estrategias específicas para cada tipo de pregunta del ICFES.',
          'Desarrolla un proyecto de modelación matemática aplicada a un campo de interés personal.',
          'Calcula probabilidades usando principio de conteo, permutaciones y combinaciones en problemas complejos.',
          'Sustenta su proyecto final integrando al menos tres campos de las matemáticas.'
        ],

        matrizReferencia: {
          componente: 'Multidimensional (todos los componentes)',
          competencia: 'Resolución y planteamiento de problemas / Razonamiento y argumentación',
          afirmaciones: [
            'Integra conocimientos de álgebra, geometría, estadística y cálculo para resolver situaciones complejas.',
            'Selecciona y aplica la estrategia matemática más eficiente para resolver problemas del formato ICFES.'
          ],
          evidenciasICFES: [
            'Resuelve problemas que integran múltiples conceptos matemáticos en un solo contexto.',
            'Justifica y comunica el procedimiento de solución de manera clara y precisa.'
          ]
        },

        aprendizajesICFES: ['mat-s11-03', 'mat-s11-04', 'mat-s11-09', 'mat-s11-12'],
        evidenciasICFES: ['mat-s11-03-e1', 'mat-s11-04-e2', 'mat-s11-09-e2', 'mat-s11-09-e3', 'mat-s11-12-e2'],
        nivelEsperado: 'Avanzado',

        materialesEducativos: [
          'Cuadernillo de simulacros ICFES (pruebas anteriores Saber 11)',
          'Aplicación ICFES oficial o simuladores en línea',
          'GeoGebra para revisión de temas de geometría y cálculo',
          'Texto de referencia de matemáticas media (todos los temas)',
          'Recursos en línea: Khan Academy, Desmos, YouTube (canales de matemáticas en español)'
        ],

        estrategiasMetodologicas: [
          'Simulacros semanales de preguntas tipo ICFES con análisis de errores.',
          'Aprendizaje basado en proyectos: modelación matemática en una carrera de interés.',
          'Trabajo en estaciones: cada estación refuerza un campo matemático diferente.',
          'Análisis de errores frecuentes en pruebas anteriores y estrategias de resolución.',
          'Presentación y defensa del proyecto integrador ante jurados (pares y docente).'
        ],

        criteriosEvaluacion: {
          saber: [
            'Reconoce y describe los principales conceptos matemáticos de toda la educación media.',
            'Identifica el tipo de razonamiento requerido en diferentes tipos de preguntas ICFES.',
            'Enuncia aplicaciones de las matemáticas en al menos tres áreas del conocimiento.'
          ],
          hacer: [
            'Resuelve simulacros Saber 11 con desempeño en nivel B o superior.',
            'Calcula probabilidades en situaciones complejas usando combinatoria.',
            'Desarrolla y presenta un proyecto de modelación matemática aplicada.',
            'Integra conceptos de álgebra, geometría, estadística y cálculo en la resolución de problemas.'
          ],
          ser: [
            'Reflexiona sobre su propio aprendizaje matemático con madurez y honestidad.',
            'Proyecta con motivación y realismo su vida académica y profesional.',
            'Valora la matemática como herramienta indispensable para la ciudadanía y el desarrollo personal.'
          ],
          porcentajes: { saber: 30, hacer: 50, ser: 20 }
        },

        tiposPensamiento: ['Numérico', 'Variacional', 'Espacial', 'Métrico', 'Aleatorio']
      }
    ]
  }

};

// Exportar para uso en módulos (CommonJS y ESM)
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { PLANES_MATEMATICAS };
}
/**
 * Progresión Vertical de Estándares por Pensamientos/Ejes Curriculares
 * Fuente: MEN Colombia — Estándares Básicos de Competencias (2006)
 *         y Lineamientos Curriculares por área.
 *
 * Organización: por área → eje/pensamiento → grupos de grados
 * Propósito: mostrar al docente cómo aumenta la complejidad de un mismo
 * eje a lo largo de la escolaridad (articulación vertical).
 *
 * Selección: 2-3 estándares MÁS representativos por eje y grupo de grados.
 */

const PROGRESION_VERTICAL = {

  // ================================================================
  // MATEMÁTICAS — 5 pensamientos del MEN
  // ================================================================
  matematicas: {

    /**
     * Pensamiento Numérico y Sistemas Numéricos
     * Progresión: conteo → operaciones → fracciones → enteros/racionales → reales → cálculo
     */
    numerico: {
      '1-3': [
        'Reconozco el significado del número en diferentes contextos (medición, conteo, código, orden).',
        'Describo situaciones que requieren el uso de medidas relativas y absolutas, y utilizo la suma y la resta para resolver problemas cotidianos.',
        'Uso representaciones concretas, pictóricas y simbólicas para comprender el valor posicional en el sistema decimal.',
      ],
      '4-5': [
        'Justifico el valor de posición en el sistema de numeración decimal y lo uso para hacer estimaciones y calcular operaciones.',
        'Utilizo las cuatro operaciones con números naturales, fracciones y decimales para resolver situaciones problema.',
        'Identifico y uso porcentajes, razones y proporciones para resolver situaciones de la vida cotidiana.',
      ],
      '6-7': [
        'Resuelvo y formulo problemas utilizando propiedades básicas de los números enteros y los números racionales.',
        'Comprendo el concepto de fracción como razón, como parte de un todo y como resultado de una división, y opero con ellas.',
        'Justifico procedimientos aritméticos usando las propiedades de las operaciones (conmutativa, asociativa, distributiva).',
      ],
      '8-9': [
        'Utilizo los números reales en sus diferentes representaciones (decimal, fraccionaria, potencia, radical) y en diversos contextos.',
        'Comprendo y aplico las propiedades de los números irracionales y distingo entre racionales e irracionales en la recta numérica.',
        'Resuelvo ecuaciones e inecuaciones en los reales y argumento sobre el conjunto solución.',
      ],
      '10-11': [
        'Analizo representaciones decimales de los números reales para diferenciar entre racionales e irracionales, y los uso en cálculo.',
        'Comprendo el concepto de límite y continuidad como herramientas para analizar el comportamiento de funciones numéricas.',
        'Uso sucesiones y series numéricas (aritméticas, geométricas) para modelar situaciones del mundo real.',
      ],
    },

    /**
     * Pensamiento Espacial y Sistemas Geométricos
     * Progresión: percepción → clasificación → propiedades → transformaciones → geometría analítica
     */
    espacial: {
      '1-3': [
        'Reconozco y describo figuras y cuerpos geométricos a partir de sus características observables (lados, vértices, caras).',
        'Ubico objetos en el espacio y los describo usando referencias como izquierda/derecha, arriba/abajo, cerca/lejos.',
        'Identifico y reproduzco simetrías, patrones y regularidades en figuras planas del entorno.',
      ],
      '4-5': [
        'Clasifico y comparo figuras planas y cuerpos geométricos según sus propiedades (ángulos, paralelismo, perpendicularidad).',
        'Represento y describo la posición de objetos en el plano cartesiano usando coordenadas.',
        'Identifico ejes de simetría en figuras planas y construyo figuras simétricas respecto a un eje.',
      ],
      '6-7': [
        'Predigo y comparo los resultados de aplicar transformaciones rígidas (traslación, rotación, reflexión) a figuras en el plano.',
        'Aplico el Teorema de Tales y la proporcionalidad para resolver problemas de semejanza entre figuras.',
        'Uso sistemas de coordenadas cartesianas para representar y analizar figuras geométricas y sus transformaciones.',
      ],
      '8-9': [
        'Aplico el Teorema de Pitágoras y las razones trigonométricas básicas (seno, coseno, tangente) para resolver situaciones problema.',
        'Identifico y describo cónicas (circunferencia, parábola, elipse, hipérbola) a partir de sus ecuaciones y propiedades.',
        'Comprendo la semejanza de polígonos y la uso para resolver problemas de escala y proporcionalidad en contextos reales.',
      ],
      '10-11': [
        'Uso representaciones geométricas de vectores para modelar y resolver situaciones del mundo físico.',
        'Comprendo y aplico conceptos de geometría analítica (distancias, ángulos, lugares geométricos) en el plano y el espacio.',
        'Articulo álgebra y geometría para analizar transformaciones y figuras usando matrices y coordenadas.',
      ],
    },

    /**
     * Pensamiento Métrico y Sistemas de Medidas
     * Progresión: medición directa → unidades convencionales → conversiones → magnitudes derivadas → modelación
     */
    metrico: {
      '1-3': [
        'Comparo y ordeno objetos respecto a atributos medibles (longitud, masa, capacidad) usando unidades no convencionales.',
        'Reconozco el uso de patrones e instrumentos de medida en actividades cotidianas y en diferentes oficios.',
        'Mido longitudes usando unidades convencionales (cm, m) y realizo estimaciones de medidas.',
      ],
      '4-5': [
        'Utilizo unidades del Sistema Internacional para medir longitud, masa, capacidad y tiempo, y convierto entre ellas.',
        'Calculo perímetros y áreas de figuras planas regulares e irregulares y aplico estos conceptos en situaciones reales.',
        'Resuelvo problemas que requieren estimar, medir, registrar y operar con medidas de magnitudes diversas.',
      ],
      '6-7': [
        'Calculo el volumen de cuerpos geométricos básicos (prismas, cilindros) y los uso en la resolución de problemas.',
        'Comprendo la diferencia entre área y volumen, y entre magnitudes directas e indirectas (velocidad, densidad).',
        'Identifico y aplico relaciones entre longitud, área y volumen cuando se amplifican o reducen figuras.',
      ],
      '8-9': [
        'Calculo áreas de figuras planas y áreas y volúmenes de cuerpos geométricos (pirámides, esferas, conos) y resuelvo problemas.',
        'Utilizo el concepto de magnitud escalar y vectorial para representar y resolver situaciones físicas sencillas.',
        'Comprendo los errores de medición y aplico conceptos de precisión y exactitud en procesos de medición.',
      ],
      '10-11': [
        'Comprendo el concepto de integral definida como herramienta para calcular áreas y acumulaciones en situaciones reales.',
        'Modelo fenómenos físicos que implican tasas de cambio usando derivadas e integrales.',
        'Analizo la relación entre unidades de medida y escalas en contextos científicos, tecnológicos y cotidianos.',
      ],
    },

    /**
     * Pensamiento Aleatorio y Sistemas de Datos
     * Progresión: recolección → representación → medidas centrales → dispersión → probabilidad → inferencia
     */
    aleatorio: {
      '1-3': [
        'Recolecto datos cualitativos y cuantitativos de situaciones del entorno y los organizo en tablas y pictogramas.',
        'Describo datos registrados en tablas y gráficas sencillas y respondo preguntas sobre ellos.',
        'Identifico si un evento es posible, imposible o seguro en situaciones cotidianas.',
      ],
      '4-5': [
        'Represento datos usando tablas de frecuencia y gráficas de barras, circulares y de líneas, y las interpreto.',
        'Calculo e interpreto la moda, la mediana y el promedio de conjuntos de datos en situaciones reales.',
        'Comprendo el concepto básico de probabilidad (frecuencia relativa) y lo uso para predecir resultados.',
      ],
      '6-7': [
        'Interpreto y critico información estadística de medios de comunicación, identificando el tipo de gráfica y sus características.',
        'Comprendo y uso las medidas de dispersión básicas (rango, desviación media) para describir la variabilidad de un conjunto.',
        'Calculo la probabilidad de eventos simples y compuestos usando el espacio muestral.',
      ],
      '8-9': [
        'Organizo datos en distribuciones de frecuencia y los represento en histogramas, polígonos y ojivas.',
        'Calculo e interpreto la varianza y la desviación estándar como medidas de dispersión en situaciones reales.',
        'Comprendo y aplico las reglas de adición y multiplicación de probabilidades en eventos independientes y dependientes.',
      ],
      '10-11': [
        'Comprendo los conceptos de variable aleatoria y distribución de probabilidad (binomial, normal) y los aplico en situaciones.',
        'Diseño y ejecuto un proceso estadístico completo: pregunta, recolección, análisis, interpretación e inferencia.',
        'Evalúo críticamente argumentos basados en datos estadísticos, identificando sesgos y manipulaciones.',
      ],
    },

    /**
     * Pensamiento Variacional y Sistemas Algebraicos y Analíticos
     * Progresión: patrones → proporcionalidad → expresiones → ecuaciones → funciones → cálculo
     */
    variacional: {
      '1-3': [
        'Identifico y describo regularidades y patrones en secuencias numéricas y geométricas para predecir términos siguientes.',
        'Uso convenciones para representar situaciones de variación en tablas y gráficas sencillas.',
        'Comprendo la igualdad como relación y la uso para resolver situaciones de balance y equivalencia.',
      ],
      '4-5': [
        'Identifico y uso la variación proporcional directa en situaciones reales (recetas, escalas, velocidad constante).',
        'Represento situaciones de variación en tablas, gráficas y expresiones verbales, identificando la regla de cambio.',
        'Introduzco el uso de letras como representación de cantidades desconocidas en ecuaciones sencillas.',
      ],
      '6-7': [
        'Represento y opero con expresiones algebraicas (suma, resta, multiplicación de polinomios simples).',
        'Planteo y resuelvo ecuaciones de primer grado con una variable para modelar situaciones cotidianas.',
        'Identifico y represento funciones lineales en tablas, gráficas y fórmulas, interpretando pendiente e intercepto.',
      ],
      '8-9': [
        'Resuelvo sistemas de ecuaciones lineales (sustitución, igualación, eliminación) y los aplico a problemas reales.',
        'Comprendo el concepto de función y analizo funciones cuadráticas, exponenciales y logarítmicas en sus representaciones.',
        'Factorizo expresiones polinómicas y uso la factorización para resolver ecuaciones de segundo grado.',
      ],
      '10-11': [
        'Comprendo y aplico el concepto de función (incluyendo trigonométricas, exponenciales, logarítmicas) para modelar fenómenos.',
        'Comprendo la derivada como razón de cambio y la uso para analizar el comportamiento de funciones (máximos, mínimos, concavidad).',
        'Comprendo el concepto de integral como operación inversa de la derivada y como área bajo una curva, y los aplico.',
      ],
    },
  },

  // ================================================================
  // LENGUAJE — 5 ejes comunicativos del MEN
  // ================================================================
  lenguaje: {

    /**
     * Producción Textual
     * Progresión: escritura emergente → textos simples → coherencia/cohesión → argumentación → escritura académica
     */
    produccion: {
      '1-3': [
        'Produzco textos orales y escritos que responden a distintas necesidades comunicativas y siguen un procedimiento básico.',
        'Escribo oraciones y textos cortos con sentido completo, usando mayúsculas, punto final y separación entre palabras.',
        'Narro con orden (inicio, nudo, desenlace) historias o experiencias propias usando vocabulario adecuado a la audiencia.',
      ],
      '4-5': [
        'Produzco textos escritos con intención narrativa, descriptiva y expositiva, usando conectores y estructurando párrafos.',
        'Reviso y corrijo mis textos teniendo en cuenta aspectos de coherencia, cohesión y corrección ortográfica.',
        'Uso diversas fuentes de información para nutrir mis textos y cito la fuente de manera básica.',
      ],
      '6-7': [
        'Produzco textos expositivos y argumentativos con tesis, argumentos y conclusión, usando vocabulario formal.',
        'Uso adecuadamente recursos ortográficos y signos de puntuación en producciones escritas de diferentes tipos.',
        'Ajusto mi escritura según el destinatario, el propósito y el contexto comunicativo (registro formal e informal).',
      ],
      '8-9': [
        'Produzco ensayos argumentativos y reseñas críticas con postura propia, argumentos sustentados y manejo de fuentes.',
        'Uso recursos retóricos y discursivos (ejemplos, citas, reformulaciones) para hacer más efectivos mis textos.',
        'Planifico, redacto y reviso textos académicos aplicando estrategias de escritura en proceso.',
      ],
      '10-11': [
        'Produzco textos académicos y formales (ensayos, artículos, ponencias) con argumentación rigurosa y estilo propio.',
        'Cito y referencio fuentes usando normas académicas básicas (APA, MLA), integrando las ideas de otros en mi escritura.',
        'Desarrollo proyectos de escritura que articulan investigación, análisis crítico y comunicación para audiencias reales.',
      ],
    },

    /**
     * Comprensión e Interpretación Textual
     * Progresión: literal → inferencial → crítica → intertextual → evaluación crítica de medios
     */
    comprension: {
      '1-3': [
        'Comprendo textos que leo, escucho y veo, y doy cuenta de su contenido a través de respuestas literales.',
        'Identifico la idea principal y los detalles de apoyo en textos informativos breves.',
        'Infiero el significado de palabras y expresiones desconocidas a partir del contexto del texto.',
      ],
      '4-5': [
        'Leo con fluidez y comprensión textos de diferentes tipos, identificando propósito, estructura e información explícita.',
        'Hago inferencias y predicciones sobre textos que leo, apoyándome en la información del texto y mis conocimientos previos.',
        'Reconozco los diferentes tipos de texto (narrativo, informativo, argumentativo) y sus características estructurales.',
      ],
      '6-7': [
        'Comprendo textos con intención argumentativa e identifico las tesis, los argumentos y las estrategias persuasivas del autor.',
        'Establezco relaciones entre diferentes partes de un texto y entre textos de distintos formatos (verbal, icónico, gráfico).',
        'Leo textos periodísticos y académicos identificando la posición del autor, los datos y las valoraciones.',
      ],
      '8-9': [
        'Analizo críticamente textos de diversas procedencias, evaluando la validez de los argumentos y la pertinencia de las fuentes.',
        'Establezco relaciones intertextuales entre obras literarias y entre textos de distintas disciplinas.',
        'Comprendo textos académicos complejos usando estrategias de lectura activa (anotación, síntesis, cuestionamiento).',
      ],
      '10-11': [
        'Evalúo críticamente textos mediáticos, publicitarios y políticos, identificando estrategias de manipulación e ideología.',
        'Comprendo y analizo textos científicos, filosóficos y de opinión, valorando la solidez de los argumentos.',
        'Construyo interpretaciones sustentadas de textos complejos, integrando perspectivas históricas, culturales y personales.',
      ],
    },

    /**
     * Literatura
     * Progresión: disfrute → identificación de elementos → análisis → contexto histórico → canon/intertextualidad
     */
    literatura: {
      '1-3': [
        'Disfruto de obras literarias (cuentos, poemas, fábulas, rondas) y expreso mis impresiones sobre ellas.',
        'Identifico elementos básicos de los textos narrativos (personajes, lugar, tiempo, problema, solución).',
        'Reconozco recursos sonoros del lenguaje poético (rima, ritmo, aliteración) y los disfruto en canciones y poemas.',
      ],
      '4-5': [
        'Leo obras literarias de diferentes géneros (cuento, novela, poesía, teatro) reconociendo sus características.',
        'Identifico recursos literarios básicos (comparación, metáfora, personificación) en textos poéticos y narrativos.',
        'Analizo el comportamiento de personajes y los relaciono con valores y situaciones de la vida real.',
      ],
      '6-7': [
        'Comprendo obras literarias de diferentes culturas y épocas, reconociendo su contexto histórico y social.',
        'Analizo la función del narrador, el punto de vista y los recursos estilísticos en textos narrativos.',
        'Identifico y analizo la estructura y los recursos formales de textos poéticos (métrica, figuras retóricas, imágenes).',
      ],
      '8-9': [
        'Interpreto obras literarias representativas de las principales corrientes estéticas (Romanticismo, Realismo, Vanguardia).',
        'Relaciono las obras literarias con sus contextos históricos, culturales y biográficos de producción.',
        'Establezco relaciones entre obras de diferentes géneros, autores y épocas, construyendo lecturas intertextuales.',
      ],
      '10-11': [
        'Leo y analizo obras canónicas de la literatura universal y latinoamericana, construyendo interpretaciones críticas.',
        'Relaciono obras literarias con otras manifestaciones artísticas (cine, pintura, música) y filosóficas de la época.',
        'Desarrollo proyectos de lectura y escritura creativa que dialogan con tradiciones literarias y las transforman.',
      ],
    },

    /**
     * Medios de Comunicación y Otros Sistemas Simbólicos
     * Progresión: reconocimiento → lectura crítica → producción → análisis de discurso → evaluación ideológica
     */
    medios: {
      '1-3': [
        'Reconozco diferentes medios de comunicación (radio, televisión, periódico, internet) y los uso con orientación.',
        'Diferencio el lenguaje verbal del no verbal (imágenes, gestos, íconos) en mensajes cotidianos.',
        'Leo imágenes, mapas y gráficas sencillas para extraer información y relacionarla con textos escritos.',
      ],
      '4-5': [
        'Uso medios de comunicación y fuentes digitales para buscar información sobre temas de estudio.',
        'Identifico el propósito comunicativo de anuncios, noticias y propagandas, distinguiendo información de opinión.',
        'Produzco mensajes multimodales (texto + imagen) para comunicar ideas en distintos contextos.',
      ],
      '6-7': [
        'Comprendo la estructura y función de los géneros periodísticos (noticia, crónica, editorial, reportaje).',
        'Analizo el lenguaje publicitario identificando estrategias de persuasión visual y verbal.',
        'Uso las TIC para comunicar, investigar y colaborar, con criterios de selección y uso ético de la información.',
      ],
      '8-9': [
        'Analizo críticamente textos mediáticos (prensa, televisión, redes sociales) identificando sesgos e intenciones.',
        'Comprendo el papel de los medios en la construcción de imaginarios sociales, culturales e identitarios.',
        'Produzco textos multimodales para distintas audiencias y plataformas, adaptando el lenguaje al medio.',
      ],
      '10-11': [
        'Evalúo el rol de los medios de comunicación y las redes sociales como actores políticos en la sociedad contemporánea.',
        'Analizo las transformaciones del lenguaje en la era digital y sus efectos en las prácticas comunicativas.',
        'Desarrollo proyectos de comunicación que articulan lenguaje, medios y ciudadanía para la participación social.',
      ],
    },

    /**
     * Ética de la Comunicación
     * Progresión: normas de convivencia → respeto por la diferencia → debate → argumentación ética → ciudadanía comunicativa
     */
    etica: {
      '1-3': [
        'Respeto los turnos de habla y escucho con atención las ideas de otros en conversaciones grupales.',
        'Identifico que existen diferentes formas de comunicar y que todas merecen respeto.',
        'Reconozco que las palabras pueden herir o ayudar, y elijo un lenguaje que promueva la convivencia.',
      ],
      '4-5': [
        'Participo en debates y exposiciones escuchando activamente, reformulando ideas y siendo respetuoso con los diferentes puntos de vista.',
        'Reconozco la importancia de citar las fuentes cuando uso ideas de otros y valoro la honestidad intelectual.',
        'Reflexiono sobre el uso responsable de los medios digitales y las consecuencias del lenguaje en redes sociales.',
      ],
      '6-7': [
        'Comprendo que el lenguaje puede ser usado para excluir, discriminar o manipular, y reflexiono críticamente ante ello.',
        'Participo en situaciones comunicativas con argumentos sustentados, asumiendo responsabilidad por lo que digo.',
        'Valoro la diversidad lingüística (dialectos, lenguas indígenas) como expresión de la riqueza cultural de Colombia.',
      ],
      '8-9': [
        'Reflexiono sobre el lenguaje como construcción social e histórica que refleja relaciones de poder.',
        'Evalúo el uso ético de la información en internet (verificación de fuentes, respeto a la privacidad, propiedad intelectual).',
        'Participo en proyectos comunicativos que promueven el respeto, la inclusión y la convivencia democrática.',
      ],
      '10-11': [
        'Comprendo la comunicación como práctica ciudadana y reflexiono sobre mis responsabilidades como emisor y receptor.',
        'Analizo situaciones de desinformación (fake news, propaganda) y desarrolla habilidades de pensamiento crítico ante ellas.',
        'Valoro la libertad de expresión como derecho y la ejerce con responsabilidad ética y social.',
      ],
    },
  },

  // ================================================================
  // CIENCIAS NATURALES — 4 entornos del MEN
  // ================================================================
  'ciencias-naturales': {

    /**
     * Entorno Vivo
     * Progresión: seres vivos → célula → genética → evolución → biotecnología
     */
    'entorno-vivo': {
      '1-3': [
        'Reconozco que los seres vivos tienen características que les permiten crecer, reproducirse, nutrirse y relacionarse.',
        'Clasifico seres vivos y objetos inertes, y comprendo las necesidades básicas de plantas y animales en su entorno.',
        'Describo ciclos de vida de seres vivos del entorno y los relaciono con procesos de reproducción y cambio.',
      ],
      '4-5': [
        'Comprendo la célula como unidad básica de los seres vivos y distingo sus partes principales.',
        'Describo cadenas alimentarias y redes tróficas en ecosistemas locales, identificando productores, consumidores y descomponedores.',
        'Comprendo los procesos de fotosíntesis y respiración celular y los relaciono con el flujo de energía en los ecosistemas.',
      ],
      '6-7': [
        'Comprendo los niveles de organización de los seres vivos (célula, tejido, órgano, sistema, organismo) y sus funciones.',
        'Describo los ciclos biogeoquímicos (carbono, nitrógeno, agua) y su papel en el mantenimiento de los ecosistemas.',
        'Comprendo los mecanismos básicos de herencia (leyes de Mendel) y los uso para predecir rasgos en descendientes.',
      ],
      '8-9': [
        'Comprendo la estructura del ADN, la síntesis de proteínas y el papel de los genes en la expresión de características.',
        'Analizo la teoría de la evolución (Darwin) y uso evidencias moleculares, anatómicas y fósiles para sustentarla.',
        'Describo las aplicaciones de la biotecnología (transgénicos, terapia génica) y reflexiono sobre sus implicaciones éticas.',
      ],
      '10-11': [
        'Comprendo los mecanismos de regulación del cuerpo humano (homeostasis) y los relaciono con la salud.',
        'Analizo los ecosistemas como sistemas complejos en equilibrio dinámico, y los efectos de las perturbaciones humanas.',
        'Valoro la biodiversidad como recurso esencial para la humanidad y evalúo estrategias para su conservación.',
      ],
    },

    /**
     * Entorno Físico
     * Progresión: propiedades → materia → reacciones → energía → física moderna
     */
    'entorno-fisico': {
      '1-3': [
        'Describo propiedades observables de los materiales (color, forma, textura, estado) y los clasifico según sus características.',
        'Identifico los estados de la materia y algunos cambios entre ellos (fusión, evaporación) en fenómenos cotidianos.',
        'Comprendo que la energía solar permite la vida en la Tierra y la identifico en fenómenos como la luz y el calor.',
      ],
      '4-5': [
        'Identifico mezclas homogéneas y heterogéneas en el entorno y explico métodos de separación (filtración, destilación).',
        'Comprendo el concepto de fuerza y sus efectos (movimiento, deformación) en objetos cotidianos.',
        'Distingo cambios físicos de cambios químicos de la materia por sus características observables.',
      ],
      '6-7': [
        'Comprendo la estructura atómica y molecular de la materia, y uso la tabla periódica para clasificar los elementos.',
        'Comprendo y aplico las leyes del movimiento de Newton para describir y predecir el comportamiento de los cuerpos.',
        'Identifico y clasifico los tipos de reacción química (síntesis, descomposición, sustitución) en situaciones reales.',
      ],
      '8-9': [
        'Comprendo los conceptos de energía cinética, potencial y calórica, y aplico las leyes de la termodinámica básica.',
        'Describo el concepto de solución (concentración, solubilidad) y aplico estequiometría básica en reacciones químicas.',
        'Comprendo las propiedades de ácidos, bases y sales, y explico neutralizaciones con ejemplos del entorno.',
      ],
      '10-11': [
        'Comprendo los principios de la termodinámica y los aplico al análisis de procesos energéticos e industriales.',
        'Comprendo los conceptos básicos de la física cuántica y relativista, y los relaciono con tecnologías contemporáneas.',
        'Analizo el uso de fuentes de energía renovables y no renovables, evaluando su impacto ambiental y sostenibilidad.',
      ],
    },

    /**
     * Ciencia, Tecnología y Sociedad (CTS)
     * Progresión: uso de instrumentos → relación ciencia-vida → aplicaciones → ética → sostenibilidad
     */
    cts: {
      '1-3': [
        'Uso instrumentos sencillos (lupa, regla, termómetro) para observar y medir fenómenos naturales con apoyo docente.',
        'Reconozco que los seres humanos usan la ciencia y la tecnología para satisfacer necesidades cotidianas.',
        'Identifico inventos y herramientas tecnológicas de uso cotidiano y describo su función.',
      ],
      '4-5': [
        'Comprendo que la ciencia y la tecnología han transformado la vida humana, tanto con beneficios como con riesgos.',
        'Analizo el impacto ambiental de actividades tecnológicas e industriales en el entorno local.',
        'Comprendo el papel de la ciencia en la prevención y tratamiento de enfermedades comunes.',
      ],
      '6-7': [
        'Analizo las relaciones entre desarrollo científico, tecnológico, economía y sociedad en el mundo contemporáneo.',
        'Comprendo que el conocimiento científico es provisional y construido socialmente, y reflexiono sobre la ética en ciencia.',
        'Evalúo alternativas tecnológicas para problemas ambientales locales y globales.',
      ],
      '8-9': [
        'Analizo las implicaciones éticas y sociales de avances biotecnológicos (genómica, clonación, transgénicos).',
        'Comprendo el papel de la investigación científica en la solución de problemas de salud pública.',
        'Evalúo críticamente argumentos sobre riesgos y beneficios de tecnologías emergentes con base en evidencia científica.',
      ],
      '10-11': [
        'Comprendo los principios del desarrollo sostenible y evalúo su aplicación en decisiones políticas y económicas.',
        'Analizo el papel de la ciencia y la tecnología en el agravamiento y en la solución de problemas ambientales globales.',
        'Desarrolla una postura informada y crítica frente a debates científico-tecnológicos de actualidad (vacunas, OGM, energía nuclear).',
      ],
    },

    /**
     * Aproximación al Conocimiento Científico
     * Progresión: observación → hipótesis → experimento → análisis → investigación
     */
    'aprox-cientifica': {
      '1-3': [
        'Observo el entorno con curiosidad, formulo preguntas y registro mis observaciones usando dibujos y palabras.',
        'Realizo experimentos sencillos con orientación del docente y comunico mis hallazgos de forma oral.',
        'Identifico semejanzas y diferencias entre objetos y fenómenos, y los clasifico usando criterios propios.',
      ],
      '4-5': [
        'Formulo hipótesis sencillas sobre fenómenos naturales y diseño procedimientos básicos para verificarlas.',
        'Registro datos de experimentos en tablas y gráficas, y los analizo para extraer conclusiones.',
        'Comprendo que los resultados experimentales pueden ser distintos a lo esperado y reflexiono sobre las causas.',
      ],
      '6-7': [
        'Diseño y ejecuto experimentos controlados, identificando variables independientes, dependientes y de control.',
        'Analizo datos experimentales, calculo promedios y reconozco fuentes de error en las mediciones.',
        'Comunico los resultados de investigaciones usando tablas, gráficas, esquemas y lenguaje científico básico.',
      ],
      '8-9': [
        'Diseño proyectos de investigación aplicando el método científico: pregunta, hipótesis, experimentación, análisis y conclusión.',
        'Uso fuentes científicas confiables (artículos, libros especializados, bases de datos) para sustentar investigaciones.',
        'Evalúo críticamente los resultados de investigaciones propias y ajenas, identificando fortalezas y limitaciones.',
      ],
      '10-11': [
        'Desarrollo investigaciones científicas que articulan pregunta relevante, diseño riguroso, análisis de datos e interpretación.',
        'Comprendo la estructura de los textos científicos (artículo, reporte, ensayo) y los produzco con rigor metodológico.',
        'Valoro la ciencia como actividad humana, histórica y cultural, reflexionando sobre sus alcances y limitaciones éticas.',
      ],
    },
  },

  // ================================================================
  // CIENCIAS SOCIALES — 4 ejes del MEN
  // ================================================================
  'ciencias-sociales': {

    /**
     * Relaciones con la Historia y las Culturas
     * Progresión: historia personal → historia local → historia nacional → historia universal → globalización
     */
    'historico-cultural': {
      '1-3': [
        'Reconozco que tengo una historia personal y familiar, y la relaciono con la historia de mi comunidad.',
        'Identifico cambios y permanencias en la comunidad (antes y ahora) y los relaciono con hechos históricos sencillos.',
        'Reconozco la diversidad étnica y cultural de Colombia (indígenas, afrocolombianos, raizales, mestizos) y la valoro.',
      ],
      '4-5': [
        'Comprendo los procesos de poblamiento de América y Colombia (indígenas, conquista, colonización, esclavitud africana).',
        'Analizo las causas y consecuencias de la Independencia de Colombia y su significado para la nación.',
        'Comprendo que la historia de Colombia está marcada por la diversidad cultural y los aportes de diferentes grupos.',
      ],
      '6-7': [
        'Comprendo las características de las grandes civilizaciones antiguas (Egipto, Grecia, Roma) y su legado cultural.',
        'Analizo los procesos de la Edad Media, el Renacimiento y la expansión europea y su impacto en América.',
        'Comprendo el surgimiento del capitalismo mercantil y su relación con la colonización de América y África.',
      ],
      '8-9': [
        'Analizo las Revoluciones Francesa, Americana e Industrial como transformaciones que configuraron el mundo moderno.',
        'Comprendo el colonialismo del siglo XIX, los procesos de descolonización y el surgimiento de los Estados nación.',
        'Analizo las causas, desarrollo y consecuencias de las Guerras Mundiales y la Guerra Fría.',
      ],
      '10-11': [
        'Comprendo los procesos históricos que configuraron América Latina como región con características comunes.',
        'Analizo los regímenes totalitarios del siglo XX (fascismo, nazismo, estalinismo) y sus consecuencias para la humanidad.',
        'Reflexiono sobre los procesos de globalización, la construcción de identidades culturales y los conflictos del siglo XXI.',
      ],
    },

    /**
     * Relaciones Espaciales y Ambientales
     * Progresión: espacio próximo → territorio local → regiones → geografía nacional → geografía mundial
     */
    'espacial-ambiental': {
      '1-3': [
        'Describo las características del entorno natural cercano (flora, fauna, relieve, agua) y lo relaciono con la vida cotidiana.',
        'Uso mapas y planos sencillos para ubicar lugares y me oriento usando puntos cardinales.',
        'Identifico recursos naturales del entorno y comprendo la importancia de cuidarlos.',
      ],
      '4-5': [
        'Describo las regiones naturales de Colombia, sus características geográficas y sus recursos naturales.',
        'Analizo cómo las características geográficas influyen en las actividades económicas y culturales de las comunidades.',
        'Identifico problemas ambientales del territorio colombiano y propone acciones para la sostenibilidad.',
      ],
      '6-7': [
        'Comprendo la distribución de la población en el mundo y los factores (clima, relieve, economía) que la determinan.',
        'Analizo los grandes biomas terrestres y acuáticos, su biodiversidad y los problemas que los amenazan.',
        'Comprendo el concepto de espacio geográfico como construcción social, histórica y cultural.',
      ],
      '8-9': [
        'Analizo los problemas ambientales globales (cambio climático, deforestación, contaminación) y sus causas humanas.',
        'Comprendo el concepto de desarrollo sostenible y evalúo propuestas de solución a los retos ambientales del planeta.',
        'Describo las migraciones humanas (causas, rutas, efectos) y las relaciono con los conflictos geopolíticos contemporáneos.',
      ],
      '10-11': [
        'Analizo los efectos de la globalización en la transformación de los territorios, las culturas y los ecosistemas.',
        'Comprendo los retos ambientales del siglo XXI (crisis hídrica, pérdida de biodiversidad) en escala local y global.',
        'Evalúa políticas públicas ambientales y territoriales en Colombia desde una perspectiva crítica y propositiva.',
      ],
    },

    /**
     * Relaciones Ético-Políticas
     * Progresión: normas → derechos → democracia → Constitución → ciudadanía crítica
     */
    'etico-politico': {
      '1-3': [
        'Reconozco normas de convivencia en el hogar, la escuela y la comunidad, y comprendo por qué son importantes.',
        'Identifico mis derechos y deberes como niño/niña, y los relaciono con los derechos del niño y la Constitución.',
        'Participo activamente en la toma de decisiones colectivas del aula y la escuela usando mecanismos democráticos.',
      ],
      '4-5': [
        'Comprendo la organización del Estado colombiano (ejecutivo, legislativo, judicial) y las funciones de sus instituciones.',
        'Reflexiono sobre los mecanismos de participación ciudadana (voto, consulta popular, acción de tutela) y su importancia.',
        'Comprendo los conceptos de justicia, equidad e igualdad, y los relaciono con situaciones de la vida cotidiana.',
      ],
      '6-7': [
        'Comprendo la Constitución Política de Colombia de 1991 como pacto de convivencia y garante de derechos fundamentales.',
        'Analizo los sistemas políticos (democracia, monarquía, dictadura) y los comparo con situaciones históricas y actuales.',
        'Reflexiono sobre los derechos humanos, su historia y los mecanismos nacionales e internacionales para su protección.',
      ],
      '8-9': [
        'Analizo los mecanismos de participación ciudadana en Colombia y evalúo su efectividad en la vida democrática.',
        'Comprendo el Derecho Internacional Humanitario y los mecanismos de protección de los derechos en contextos de conflicto.',
        'Reflexiono críticamente sobre el conflicto armado colombiano, sus actores, causas e impacto en las comunidades.',
      ],
      '10-11': [
        'Analizo el papel de los movimientos sociales en la transformación de las sociedades y en la ampliación de derechos.',
        'Comprendo los conceptos de justicia transicional, verdad, reparación y no repetición, y los aplico al caso colombiano.',
        'Ejerzo una ciudadanía activa, crítica y responsable, comprometida con los derechos humanos y la construcción de paz.',
      ],
    },
  },
};

// Exportar para uso como módulo ES6 y como variable global
if (typeof module !== 'undefined' && module.exports) {
  module.exports = PROGRESION_VERTICAL;
} else if (typeof window !== 'undefined') {
  window.PROGRESION_VERTICAL = PROGRESION_VERTICAL;
}
/**
 * Marco de Referencia ICFES Saber - Matemáticas
 * Instituto Colombiano para la Evaluación de la Educación (ICFES)
 *
 * Fuente oficial: Matrices de Referencia y Especificaciones de Prueba
 * Saber 3°, 5°, 9° y Saber 11° - ICFES Colombia
 * Disponible en: https://www.icfes.gov.co/evaluaciones/pruebas-saber/marcos-de-referencia
 *
 * Estructura:
 * - 3 competencias transversales a todas las pruebas
 * - 3 componentes temáticos (Numérico-Variacional, Geométrico-Métrico, Aleatorio)
 * - 4 pruebas: Saber 3°, Saber 5°, Saber 9°, Saber 11°
 * - Cada prueba incluye aprendizajes con evidencias y niveles de desempeño
 */

const ICFES_MATEMATICAS = {
  area: 'matematicas',
  nombre: 'Matemáticas',

  // Las 3 competencias evaluadas por ICFES en matemáticas
  competencias: [
    {
      id: 'razonamiento',
      nombre: 'Razonamiento y argumentación',
      descripcion: 'Capacidad para examinar, reflexionar y evaluar afirmaciones, inferencias y métodos matemáticos. Incluye identificar patrones, generalizar, conjeturar, justificar o refutar conclusiones y construir cadenas argumentativas.',
    },
    {
      id: 'comunicacion',
      nombre: 'Comunicación, representación y modelación',
      descripcion: 'Capacidad para expresar ideas matemáticas de forma oral, escrita, gráfica o simbólica; traducir información entre diferentes representaciones (tablas, gráficas, expresiones algebraicas) y construir modelos de situaciones reales.',
    },
    {
      id: 'resolucion',
      nombre: 'Resolución y planteamiento de problemas',
      descripcion: 'Capacidad para identificar, formular y resolver problemas matemáticos en diferentes contextos; seleccionar y aplicar estrategias pertinentes, verificar resultados y extender soluciones a nuevas situaciones.',
    },
  ],

  // Los 3 componentes evaluados
  componentes: [
    {
      id: 'numerico-variacional',
      nombre: 'Numérico-Variacional',
      descripcion: 'Abarca el pensamiento numérico (sistemas numéricos, operaciones, propiedades), el pensamiento variacional (patrones, relaciones de cambio, expresiones algebraicas, funciones y ecuaciones) y los sistemas algebraicos y analíticos.',
    },
    {
      id: 'geometrico-metrico',
      nombre: 'Geométrico-Métrico',
      descripcion: 'Abarca el pensamiento espacial (formas, propiedades, relaciones entre figuras planas y tridimensionales, transformaciones), el pensamiento métrico (magnitudes, unidades, estimación y cálculo de medidas) y los sistemas geométricos.',
    },
    {
      id: 'aleatorio',
      nombre: 'Aleatorio',
      descripcion: 'Abarca el pensamiento aleatorio y los sistemas de datos: recolección, organización, representación e interpretación de datos; medidas estadísticas (tendencia central, dispersión); probabilidad de eventos simples y compuestos.',
    },
  ],

  // Pruebas por nivel
  pruebas: {

    // =========================================================
    // SABER 3°
    // =========================================================
    'saber-3': {
      nombre: 'Saber 3°',
      grados: ['3'],

      aprendizajes: [
        {
          id: 'mat-s3-01',
          enunciado: 'Reconoce significados del número en diferentes contextos (medición, conteo, comparación, codificación y localización).',
          competencia: 'comunicacion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s3-01-e1', enunciado: 'Identifica el valor posicional de las cifras en números naturales de dos y tres dígitos.' },
            { id: 'mat-s3-01-e2', enunciado: 'Compara y ordena números naturales usando los símbolos mayor que, menor que e igual.' },
            { id: 'mat-s3-01-e3', enunciado: 'Reconoce el número como código en situaciones cotidianas (número de casa, teléfono, código postal).' },
          ],
        },
        {
          id: 'mat-s3-02',
          enunciado: 'Resuelve y formula problemas en situaciones de adición y sustracción con números naturales.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s3-02-e1', enunciado: 'Identifica la operación adecuada (suma o resta) según el tipo de situación presentada.' },
            { id: 'mat-s3-02-e2', enunciado: 'Calcula sumas y restas de números de dos y tres cifras verificando el resultado.' },
            { id: 'mat-s3-02-e3', enunciado: 'Propone una situación cotidiana que se resuelva con adición o sustracción.' },
          ],
        },
        {
          id: 'mat-s3-03',
          enunciado: 'Usa diversas estrategias de cálculo y estimación para resolver problemas en situaciones multiplicativas.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s3-03-e1', enunciado: 'Interpreta la multiplicación como adición repetida en situaciones concretas.' },
            { id: 'mat-s3-03-e2', enunciado: 'Resuelve problemas sencillos que requieren la multiplicación como operación principal.' },
          ],
        },
        {
          id: 'mat-s3-04',
          enunciado: 'Reconoce y describe regularidades y patrones en secuencias numéricas y geométricas.',
          competencia: 'razonamiento',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s3-04-e1', enunciado: 'Identifica la regla de formación de una secuencia numérica o de figuras.' },
            { id: 'mat-s3-04-e2', enunciado: 'Predice los siguientes elementos de una secuencia aplicando la regla identificada.' },
          ],
        },
        {
          id: 'mat-s3-05',
          enunciado: 'Reconoce y nombra figuras geométricas planas y cuerpos sólidos a partir de sus características.',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s3-05-e1', enunciado: 'Identifica y nombra figuras planas (círculo, triángulo, cuadrado, rectángulo) en el entorno.' },
            { id: 'mat-s3-05-e2', enunciado: 'Clasifica figuras geométricas según el número de lados y vértices.' },
            { id: 'mat-s3-05-e3', enunciado: 'Distingue figuras planas de cuerpos sólidos por sus propiedades.' },
          ],
        },
        {
          id: 'mat-s3-06',
          enunciado: 'Compara y ordena objetos según atributos medibles (longitud, masa, capacidad) usando unidades convencionales y no convencionales.',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s3-06-e1', enunciado: 'Estima y mide longitudes usando el centímetro y el metro.' },
            { id: 'mat-s3-06-e2', enunciado: 'Compara dos objetos según su longitud, masa o capacidad y los ordena.' },
          ],
        },
        {
          id: 'mat-s3-07',
          enunciado: 'Representa datos del entorno usando pictogramas y diagramas de barras, e interpreta la información presentada.',
          competencia: 'comunicacion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s3-07-e1', enunciado: 'Lee pictogramas y diagramas de barras respondiendo preguntas sobre los datos.' },
            { id: 'mat-s3-07-e2', enunciado: 'Registra datos cualitativos en tablas y los representa con pictogramas sencillos.' },
          ],
        },
        {
          id: 'mat-s3-08',
          enunciado: 'Identifica, en situaciones cotidianas, la posibilidad de ocurrencia de eventos (posible, imposible, seguro).',
          competencia: 'razonamiento',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s3-08-e1', enunciado: 'Clasifica eventos como posibles, imposibles o seguros en situaciones de la vida diaria.' },
            { id: 'mat-s3-08-e2', enunciado: 'Argumenta por qué un evento es más probable que otro en una situación concreta.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 226],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No reconoce el valor posicional de números de dos cifras ni identifica figuras geométricas básicas a partir de sus propiedades.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [226, 295],
          color: '#F59E0B',
          descripcion: 'El estudiante reconoce el valor posicional de números naturales de hasta tres cifras, resuelve sumas y restas sencillas, identifica figuras geométricas básicas por su nombre y lee datos en pictogramas simples.',
          aprendizajesEsperados: ['mat-s3-01', 'mat-s3-05', 'mat-s3-07'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [295, 380],
          color: '#10B981',
          descripcion: 'El estudiante resuelve problemas que requieren adición, sustracción y multiplicación en contextos cotidianos, identifica regularidades en secuencias, mide longitudes usando unidades convencionales e interpreta diagramas de barras.',
          aprendizajesEsperados: ['mat-s3-01', 'mat-s3-02', 'mat-s3-03', 'mat-s3-05', 'mat-s3-06', 'mat-s3-07'],
        },
        {
          nombre: 'Avanzado',
          rango: [380, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante formula y resuelve problemas en distintos contextos, predice elementos en secuencias numéricas y geométricas, compara magnitudes usando unidades del sistema métrico y argumenta sobre la posibilidad de ocurrencia de eventos.',
          aprendizajesEsperados: ['mat-s3-01', 'mat-s3-02', 'mat-s3-03', 'mat-s3-04', 'mat-s3-05', 'mat-s3-06', 'mat-s3-07', 'mat-s3-08'],
        },
      ],
    },

    // =========================================================
    // SABER 5°
    // =========================================================
    'saber-5': {
      nombre: 'Saber 5°',
      grados: ['5'],

      aprendizajes: [
        {
          id: 'mat-s5-01',
          enunciado: 'Resuelve y formula problemas que involucran operaciones con números naturales, fracciones y decimales en diferentes contextos.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s5-01-e1', enunciado: 'Identifica la operación o secuencia de operaciones necesaria para resolver un problema con fracciones o decimales.' },
            { id: 'mat-s5-01-e2', enunciado: 'Calcula resultados de operaciones mixtas con números naturales, fracciones y decimales.' },
            { id: 'mat-s5-01-e3', enunciado: 'Verifica la razonabilidad del resultado de una operación en un contexto dado.' },
          ],
        },
        {
          id: 'mat-s5-02',
          enunciado: 'Establece relaciones entre fracciones, decimales y porcentajes y los usa en situaciones de proporcionalidad.',
          competencia: 'comunicacion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s5-02-e1', enunciado: 'Convierte fracciones a decimales y porcentajes, y viceversa, en situaciones concretas.' },
            { id: 'mat-s5-02-e2', enunciado: 'Identifica porcentajes en situaciones cotidianas como descuentos y ofertas.' },
          ],
        },
        {
          id: 'mat-s5-03',
          enunciado: 'Reconoce y predice patrones numéricos y geométricos, y los representa con expresiones sencillas.',
          competencia: 'razonamiento',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s5-03-e1', enunciado: 'Identifica la regla de formación de una secuencia y la expresa verbalmente o con una expresión simple.' },
            { id: 'mat-s5-03-e2', enunciado: 'Predice elementos lejanos de una secuencia usando la regla identificada.' },
          ],
        },
        {
          id: 'mat-s5-04',
          enunciado: 'Calcula perímetros y áreas de figuras planas y aplica estos conceptos en la resolución de problemas.',
          competencia: 'resolucion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s5-04-e1', enunciado: 'Calcula el perímetro y el área de figuras planas regulares e irregulares.' },
            { id: 'mat-s5-04-e2', enunciado: 'Resuelve problemas cotidianos que requieren calcular área o perímetro de figuras compuestas.' },
            { id: 'mat-s5-04-e3', enunciado: 'Distingue entre área y perímetro, y reconoce cuál es el atributo relevante según el problema.' },
          ],
        },
        {
          id: 'mat-s5-05',
          enunciado: 'Identifica y describe características de figuras tridimensionales (prismas, pirámides, cilindros, conos y esferas).',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s5-05-e1', enunciado: 'Clasifica cuerpos geométricos según sus caras, aristas y vértices.' },
            { id: 'mat-s5-05-e2', enunciado: 'Relaciona un cuerpo geométrico con su representación plana (desarrollo o vista).' },
          ],
        },
        {
          id: 'mat-s5-06',
          enunciado: 'Realiza conversiones entre unidades de medida del sistema métrico para longitud, masa, capacidad y tiempo.',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s5-06-e1', enunciado: 'Convierte medidas entre unidades del sistema métrico (km, m, cm; kg, g; l, ml).' },
            { id: 'mat-s5-06-e2', enunciado: 'Resuelve problemas que requieren convertir unidades para comparar medidas.' },
          ],
        },
        {
          id: 'mat-s5-07',
          enunciado: 'Recopila, organiza y representa datos en tablas de frecuencia y gráficas estadísticas, e interpreta los resultados.',
          competencia: 'comunicacion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s5-07-e1', enunciado: 'Organiza datos en tablas de frecuencias y los representa en gráficas de barras o circulares.' },
            { id: 'mat-s5-07-e2', enunciado: 'Lee e interpreta información presentada en diferentes tipos de gráficas estadísticas.' },
            { id: 'mat-s5-07-e3', enunciado: 'Calcula la moda, la mediana y el promedio de un conjunto de datos e interpreta su significado.' },
          ],
        },
        {
          id: 'mat-s5-08',
          enunciado: 'Conjetura y verifica predicciones acerca de la posibilidad de ocurrencia de eventos en situaciones aleatorias.',
          competencia: 'razonamiento',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s5-08-e1', enunciado: 'Estima la probabilidad de un evento simple usando la frecuencia relativa.' },
            { id: 'mat-s5-08-e2', enunciado: 'Compara la probabilidad de dos eventos y justifica cuál es más probable.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 233],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No resuelve operaciones básicas con fracciones ni interpreta gráficas estadísticas sencillas.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [233, 295],
          color: '#F59E0B',
          descripcion: 'El estudiante resuelve operaciones con números naturales, identifica figuras tridimensionales por su nombre, lee tablas de frecuencia sencillas y reconoce porcentajes en contextos directos.',
          aprendizajesEsperados: ['mat-s5-01', 'mat-s5-05', 'mat-s5-07'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [295, 376],
          color: '#10B981',
          descripcion: 'El estudiante resuelve problemas con fracciones, decimales y porcentajes, calcula perímetros y áreas de figuras planas, convierte unidades del sistema métrico e interpreta gráficas estadísticas calculando medidas de tendencia central.',
          aprendizajesEsperados: ['mat-s5-01', 'mat-s5-02', 'mat-s5-04', 'mat-s5-05', 'mat-s5-06', 'mat-s5-07'],
        },
        {
          nombre: 'Avanzado',
          rango: [376, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante formula y resuelve problemas complejos con operaciones mixtas, predice patrones y los representa algebraicamente, calcula áreas de figuras compuestas y estima probabilidades usando la frecuencia relativa.',
          aprendizajesEsperados: ['mat-s5-01', 'mat-s5-02', 'mat-s5-03', 'mat-s5-04', 'mat-s5-05', 'mat-s5-06', 'mat-s5-07', 'mat-s5-08'],
        },
      ],
    },

    // =========================================================
    // SABER 9°
    // =========================================================
    'saber-9': {
      nombre: 'Saber 9°',
      grados: ['9'],

      aprendizajes: [
        {
          id: 'mat-s9-01',
          enunciado: 'Utiliza números reales en sus diferentes representaciones y en distintos contextos para resolver problemas.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s9-01-e1', enunciado: 'Clasifica números reales (racionales e irracionales) y los ubica en la recta numérica.' },
            { id: 'mat-s9-01-e2', enunciado: 'Opera con números reales aplicando jerarquía de operaciones y propiedades (conmutativa, asociativa, distributiva).' },
            { id: 'mat-s9-01-e3', enunciado: 'Resuelve problemas que requieren cálculo exacto o aproximado con números reales.' },
          ],
        },
        {
          id: 'mat-s9-02',
          enunciado: 'Construye expresiones algebraicas que modelan situaciones de variación y las usa para resolver problemas.',
          competencia: 'comunicacion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s9-02-e1', enunciado: 'Traduce situaciones verbales a expresiones algebraicas y viceversa.' },
            { id: 'mat-s9-02-e2', enunciado: 'Simplifica expresiones algebraicas usando propiedades de las operaciones.' },
          ],
        },
        {
          id: 'mat-s9-03',
          enunciado: 'Resuelve ecuaciones e inecuaciones lineales y las usa para modelar situaciones cotidianas.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s9-03-e1', enunciado: 'Resuelve ecuaciones lineales de una variable y verifica la solución.' },
            { id: 'mat-s9-03-e2', enunciado: 'Plantea y resuelve un problema cotidiano formulando una ecuación lineal.' },
            { id: 'mat-s9-03-e3', enunciado: 'Resuelve sistemas de ecuaciones lineales con dos incógnitas por distintos métodos.' },
          ],
        },
        {
          id: 'mat-s9-04',
          enunciado: 'Identifica y representa funciones lineales y cuadráticas como modelos de situaciones de variación.',
          competencia: 'comunicacion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s9-04-e1', enunciado: 'Grafica funciones lineales y cuadráticas en el plano cartesiano identificando sus características.' },
            { id: 'mat-s9-04-e2', enunciado: 'Interpreta el significado de los parámetros de una función lineal (pendiente e intercepto) en un contexto.' },
          ],
        },
        {
          id: 'mat-s9-05',
          enunciado: 'Aplica criterios de congruencia y semejanza de triángulos en la resolución de problemas geométricos.',
          competencia: 'razonamiento',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s9-05-e1', enunciado: 'Identifica triángulos congruentes o semejantes a partir de sus medidas y justifica el criterio usado.' },
            { id: 'mat-s9-05-e2', enunciado: 'Calcula medidas desconocidas en figuras semejantes usando razones de proporcionalidad.' },
          ],
        },
        {
          id: 'mat-s9-06',
          enunciado: 'Aplica el Teorema de Pitágoras y relaciones métricas para calcular longitudes en situaciones geométricas.',
          competencia: 'resolucion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s9-06-e1', enunciado: 'Usa el Teorema de Pitágoras para calcular la longitud de un lado desconocido de un triángulo rectángulo.' },
            { id: 'mat-s9-06-e2', enunciado: 'Resuelve situaciones de medición indirecta usando propiedades de triángulos y el Teorema de Pitágoras.' },
            { id: 'mat-s9-06-e3', enunciado: 'Calcula áreas y volúmenes de figuras y cuerpos geométricos en situaciones problema.' },
          ],
        },
        {
          id: 'mat-s9-07',
          enunciado: 'Describe y aplica las propiedades de las transformaciones geométricas (traslaciones, rotaciones, reflexiones y homotecias).',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s9-07-e1', enunciado: 'Identifica y describe el tipo de transformación aplicada a una figura en el plano cartesiano.' },
            { id: 'mat-s9-07-e2', enunciado: 'Determina la imagen de una figura bajo una transformación dada.' },
          ],
        },
        {
          id: 'mat-s9-08',
          enunciado: 'Usa medidas de tendencia central (media, mediana, moda) y dispersión (rango, desviación estándar) para interpretar y comparar conjuntos de datos.',
          competencia: 'comunicacion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s9-08-e1', enunciado: 'Calcula e interpreta la media, mediana y moda de un conjunto de datos en un contexto real.' },
            { id: 'mat-s9-08-e2', enunciado: 'Compara dos conjuntos de datos usando medidas de tendencia central e identifica diferencias.' },
            { id: 'mat-s9-08-e3', enunciado: 'Interpreta el rango y la desviación estándar como indicadores de dispersión.' },
          ],
        },
        {
          id: 'mat-s9-09',
          enunciado: 'Calcula probabilidades de eventos simples y compuestos usando diferentes métodos.',
          competencia: 'resolucion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s9-09-e1', enunciado: 'Calcula la probabilidad de eventos simples usando listados y diagramas de árbol.' },
            { id: 'mat-s9-09-e2', enunciado: 'Determina la probabilidad de eventos complementarios y aplica la regla de la adición.' },
          ],
        },
        {
          id: 'mat-s9-10',
          enunciado: 'Interpreta y compara resultados de estudios estadísticos provenientes de medios de comunicación y diversas fuentes.',
          competencia: 'razonamiento',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s9-10-e1', enunciado: 'Evalúa la pertinencia y confiabilidad de información estadística publicada en medios.' },
            { id: 'mat-s9-10-e2', enunciado: 'Identifica posibles errores o sesgos en la presentación de datos estadísticos.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 233],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No resuelve ecuaciones lineales sencillas ni interpreta gráficas estadísticas básicas.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [233, 295],
          color: '#F59E0B',
          descripcion: 'El estudiante opera con números reales en situaciones directas, resuelve ecuaciones lineales de una variable, identifica figuras congruentes o semejantes y calcula medidas de tendencia central de conjuntos de datos simples.',
          aprendizajesEsperados: ['mat-s9-01', 'mat-s9-03', 'mat-s9-05', 'mat-s9-08'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [295, 380],
          color: '#10B981',
          descripcion: 'El estudiante modela situaciones con expresiones algebraicas, resuelve sistemas de ecuaciones, aplica el Teorema de Pitágoras, interpreta funciones lineales e interpreta estadísticas usando medidas de dispersión.',
          aprendizajesEsperados: ['mat-s9-01', 'mat-s9-02', 'mat-s9-03', 'mat-s9-04', 'mat-s9-05', 'mat-s9-06', 'mat-s9-08', 'mat-s9-09'],
        },
        {
          nombre: 'Avanzado',
          rango: [380, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante resuelve problemas complejos integrando álgebra y geometría, describe transformaciones en el plano, calcula probabilidades de eventos compuestos y evalúa críticamente información estadística de fuentes externas.',
          aprendizajesEsperados: ['mat-s9-01', 'mat-s9-02', 'mat-s9-03', 'mat-s9-04', 'mat-s9-05', 'mat-s9-06', 'mat-s9-07', 'mat-s9-08', 'mat-s9-09', 'mat-s9-10'],
        },
      ],
    },

    // =========================================================
    // SABER 11°
    // =========================================================
    'saber-11': {
      nombre: 'Saber 11°',
      grados: ['11'],

      aprendizajes: [
        {
          id: 'mat-s11-01',
          enunciado: 'Modela situaciones de variación con funciones polinómicas, racionales, exponenciales y logarítmicas.',
          competencia: 'comunicacion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-01-e1', enunciado: 'Identifica el tipo de función que mejor modela una situación de variación a partir de su tabla o gráfica.' },
            { id: 'mat-s11-01-e2', enunciado: 'Construye la expresión algebraica de una función a partir de sus características o puntos conocidos.' },
            { id: 'mat-s11-01-e3', enunciado: 'Interpreta los parámetros de una función exponencial o logarítmica en un contexto real.' },
          ],
        },
        {
          id: 'mat-s11-02',
          enunciado: 'Analiza las propiedades de las funciones (dominio, rango, crecimiento, decrecimiento, máximos y mínimos) a través de su gráfica.',
          competencia: 'razonamiento',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-02-e1', enunciado: 'Determina dominio y rango de una función a partir de su gráfica o expresión algebraica.' },
            { id: 'mat-s11-02-e2', enunciado: 'Identifica intervalos de crecimiento, decrecimiento y puntos extremos en la gráfica de una función.' },
          ],
        },
        {
          id: 'mat-s11-03',
          enunciado: 'Resuelve y formula ecuaciones e inecuaciones de forma algebraica y gráfica, incluyendo sistemas no lineales.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-03-e1', enunciado: 'Resuelve ecuaciones de segundo grado por factorización, completación de cuadrados y fórmula cuadrática.' },
            { id: 'mat-s11-03-e2', enunciado: 'Resuelve inecuaciones lineales y cuadráticas, y representa la solución en la recta numérica.' },
            { id: 'mat-s11-03-e3', enunciado: 'Resuelve sistemas de ecuaciones lineales con dos o tres variables por métodos algebraicos.' },
          ],
        },
        {
          id: 'mat-s11-04',
          enunciado: 'Valida procedimientos y estrategias matemáticas utilizadas para dar solución a problemas.',
          competencia: 'razonamiento',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-04-e1', enunciado: 'Justifica cada paso de un procedimiento algebraico usando propiedades y definiciones.' },
            { id: 'mat-s11-04-e2', enunciado: 'Evalúa la pertinencia de un procedimiento para resolver un problema y propone alternativas.' },
          ],
        },
        {
          id: 'mat-s11-05',
          enunciado: 'Usa la geometría analítica para describir y analizar relaciones entre figuras en el plano cartesiano.',
          competencia: 'comunicacion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s11-05-e1', enunciado: 'Determina la ecuación de la recta a partir de dos puntos, un punto y la pendiente, o la pendiente y el intercepto.' },
            { id: 'mat-s11-05-e2', enunciado: 'Calcula la distancia entre dos puntos y el punto medio de un segmento en el plano cartesiano.' },
            { id: 'mat-s11-05-e3', enunciado: 'Identifica y usa las ecuaciones de la circunferencia y la parábola para resolver problemas.' },
          ],
        },
        {
          id: 'mat-s11-06',
          enunciado: 'Aplica relaciones trigonométricas y las funciones seno, coseno y tangente para resolver situaciones de medición directa e indirecta.',
          competencia: 'resolucion',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s11-06-e1', enunciado: 'Usa las razones trigonométricas (seno, coseno, tangente) para calcular medidas en triángulos rectángulos.' },
            { id: 'mat-s11-06-e2', enunciado: 'Resuelve problemas de medición indirecta usando la ley de senos o la ley de cosenos.' },
            { id: 'mat-s11-06-e3', enunciado: 'Interpreta la gráfica de las funciones trigonométricas e identifica sus propiedades (amplitud, periodo, fase).' },
          ],
        },
        {
          id: 'mat-s11-07',
          enunciado: 'Generaliza propiedades de figuras geométricas para construir argumentos y establecer relaciones en el plano y el espacio.',
          competencia: 'razonamiento',
          componente: 'geometrico-metrico',
          evidencias: [
            { id: 'mat-s11-07-e1', enunciado: 'Construye argumentos geométricos basados en propiedades de figuras y relaciones entre ángulos.' },
            { id: 'mat-s11-07-e2', enunciado: 'Aplica propiedades de figuras planas y sólidos para calcular áreas y volúmenes en situaciones problema.' },
          ],
        },
        {
          id: 'mat-s11-08',
          enunciado: 'Interpreta y utiliza conceptos de media, varianza y desviación estándar para analizar y comparar conjuntos de datos.',
          competencia: 'comunicacion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s11-08-e1', enunciado: 'Calcula e interpreta la varianza y la desviación estándar de un conjunto de datos.' },
            { id: 'mat-s11-08-e2', enunciado: 'Compara dos distribuciones de datos usando medidas de tendencia central y de dispersión.' },
            { id: 'mat-s11-08-e3', enunciado: 'Interpreta la distribución normal y la usa para describir comportamientos de poblaciones.' },
          ],
        },
        {
          id: 'mat-s11-09',
          enunciado: 'Calcula probabilidades usando los modelos laplaciano, frecuentista y axiomático, incluyendo probabilidad condicional.',
          competencia: 'resolucion',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s11-09-e1', enunciado: 'Calcula la probabilidad de eventos simples y compuestos usando la regla de la adición y la multiplicación.' },
            { id: 'mat-s11-09-e2', enunciado: 'Determina la probabilidad condicional de un evento dado otro usando la definición o el Teorema de Bayes.' },
            { id: 'mat-s11-09-e3', enunciado: 'Usa diagramas de árbol y tablas de contingencia para calcular probabilidades en experimentos compuestos.' },
          ],
        },
        {
          id: 'mat-s11-10',
          enunciado: 'Interpreta resultados estadísticos para hacer inferencias y tomar decisiones en contextos reales.',
          competencia: 'razonamiento',
          componente: 'aleatorio',
          evidencias: [
            { id: 'mat-s11-10-e1', enunciado: 'Evalúa si una muestra es representativa de una población y reconoce sesgos en la selección.' },
            { id: 'mat-s11-10-e2', enunciado: 'Interpreta resultados de estudios estadísticos y extrae conclusiones válidas sobre la población.' },
          ],
        },
        {
          id: 'mat-s11-11',
          enunciado: 'Usa el concepto de límite y la noción de derivada para analizar la variación de una función en un contexto.',
          competencia: 'razonamiento',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-11-e1', enunciado: 'Estima el límite de una función en un punto usando tablas de valores o la gráfica.' },
            { id: 'mat-s11-11-e2', enunciado: 'Interpreta la derivada como tasa de cambio instantánea en situaciones de variación.' },
            { id: 'mat-s11-11-e3', enunciado: 'Usa la derivada para identificar intervalos de crecimiento, decrecimiento y extremos de una función.' },
          ],
        },
        {
          id: 'mat-s11-12',
          enunciado: 'Resuelve problemas de optimización en diferentes contextos usando modelos matemáticos y razonamiento algebraico.',
          competencia: 'resolucion',
          componente: 'numerico-variacional',
          evidencias: [
            { id: 'mat-s11-12-e1', enunciado: 'Formula una función objetivo a partir de las condiciones de un problema de optimización.' },
            { id: 'mat-s11-12-e2', enunciado: 'Determina el valor máximo o mínimo de una función en un intervalo y lo interpreta en el contexto del problema.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [0, 35],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No resuelve ecuaciones lineales ni interpreta gráficas de funciones básicas.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [36, 50],
          color: '#F59E0B',
          descripcion: 'El estudiante resuelve problemas rutinarios con operaciones básicas sobre números reales. Identifica información puntual en tablas y gráficos. Resuelve ecuaciones lineales y calcula medidas de tendencia central.',
          aprendizajesEsperados: ['mat-s11-03', 'mat-s11-05', 'mat-s11-08'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [51, 70],
          color: '#10B981',
          descripcion: 'El estudiante resuelve problemas no rutinarios que requieren modelar situaciones con funciones. Aplica relaciones trigonométricas y geometría analítica. Interpreta datos estadísticos con medidas de dispersión y calcula probabilidades condicionales.',
          aprendizajesEsperados: ['mat-s11-01', 'mat-s11-02', 'mat-s11-03', 'mat-s11-05', 'mat-s11-06', 'mat-s11-08', 'mat-s11-09'],
        },
        {
          nombre: 'Avanzado',
          rango: [71, 100],
          color: '#3B82F6',
          descripcion: 'El estudiante resuelve problemas complejos que requieren integrar varios conceptos matemáticos. Argumenta y valida estrategias matemáticas. Generaliza soluciones, usa el concepto de derivada como herramienta de análisis y resuelve problemas de optimización.',
          aprendizajesEsperados: ['mat-s11-01', 'mat-s11-02', 'mat-s11-03', 'mat-s11-04', 'mat-s11-05', 'mat-s11-06', 'mat-s11-07', 'mat-s11-08', 'mat-s11-09', 'mat-s11-10', 'mat-s11-11', 'mat-s11-12'],
        },
      ],
    },
  },
}

if (typeof module !== 'undefined' && module.exports) {
  module.exports = { ICFES_MATEMATICAS }
}
/**
 * Marco de Referencia ICFES Saber - Lectura Crítica / Lenguaje
 * Instituto Colombiano para la Evaluación de la Educación (ICFES)
 *
 * Fuente oficial: Matrices de Referencia y Especificaciones de Prueba
 * Saber 3°, 5°, 9° (Lenguaje) y Saber 11° (Lectura Crítica) - ICFES Colombia
 * Disponible en: https://www.icfes.gov.co/evaluaciones/pruebas-saber/marcos-de-referencia
 *
 * Estructura:
 * - 3 competencias transversales a todas las pruebas
 * - 3 componentes temáticos (Semántico, Sintáctico, Pragmático)
 * - 4 pruebas: Saber 3°, Saber 5°, Saber 9°, Saber 11°
 * - Cada prueba incluye aprendizajes con evidencias y niveles de desempeño
 */

const ICFES_LECTURA_CRITICA = {
  area: 'lenguaje',
  nombre: 'Lectura Crítica',

  // Las 3 competencias evaluadas por ICFES en Lectura Crítica / Lenguaje
  competencias: [
    {
      id: 'identificar',
      nombre: 'Identificar y entender contenidos locales',
      descripcion: 'Capacidad para ubicar información explícita en un texto, identificar el significado de palabras y expresiones, reconocer datos puntuales y comprender los contenidos locales que conforman un texto.',
    },
    {
      id: 'comprender',
      nombre: 'Comprender cómo se articulan las partes de un texto',
      descripcion: 'Capacidad para comprender la estructura global de un texto, las relaciones entre sus partes, la coherencia y cohesión, y darle un sentido global al texto.',
    },
    {
      id: 'reflexionar',
      nombre: 'Reflexionar y evaluar un texto',
      descripcion: 'Capacidad para evaluar el contenido y la forma de un texto, reconocer las intenciones del autor, identificar supuestos e implicaciones, y asumir una posición crítica frente a lo leído.',
    },
  ],

  // Los 3 componentes evaluados
  componentes: [
    {
      id: 'semantico',
      nombre: 'Semántico',
      descripcion: 'Qué dice el texto: significados literales e inferenciales, relaciones de significado entre palabras, proposiciones y párrafos, tema principal y subtemas, referencias y sentidos figurados.',
    },
    {
      id: 'sintactico',
      nombre: 'Sintáctico',
      descripcion: 'Cómo lo dice: estructura del texto, organización de párrafos, uso de conectores y marcadores textuales, relaciones entre oraciones, concordancia gramatical y tipología textual.',
    },
    {
      id: 'pragmatico',
      nombre: 'Pragmático',
      descripcion: 'Para qué lo dice: intención comunicativa del autor, contexto de producción y recepción, propósito del texto, relación autor-lector, tipo de audiencia y efecto buscado en el lector.',
    },
  ],

  // Pruebas por nivel
  pruebas: {

    // =========================================================
    // SABER 3°
    // =========================================================
    'saber-3': {
      nombre: 'Saber 3°',
      grados: ['3'],

      aprendizajes: [
        // --- Semántico ---
        {
          id: 'lc-s3-01',
          enunciado: 'Identifica el significado de palabras y expresiones a partir del contexto en textos narrativos cortos.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s3-01-e1', enunciado: 'Reconoce el significado de una palabra desconocida usando las pistas del texto.' },
            { id: 'lc-s3-01-e2', enunciado: 'Relaciona palabras con sus sinónimos o significados cercanos según el contexto.' },
          ],
        },
        {
          id: 'lc-s3-02',
          enunciado: 'Reconoce la idea principal de un texto narrativo o informativo breve.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s3-02-e1', enunciado: 'Señala de qué trata principalmente el texto leído.' },
            { id: 'lc-s3-02-e2', enunciado: 'Distingue la idea principal de las ideas secundarias en un texto corto.' },
          ],
        },
        {
          id: 'lc-s3-03',
          enunciado: 'Recupera información explícita de textos narrativos e informativos.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s3-03-e1', enunciado: 'Localiza datos específicos (personajes, lugares, hechos) en un texto.' },
            { id: 'lc-s3-03-e2', enunciado: 'Responde preguntas literales sobre el contenido del texto.' },
          ],
        },
        // --- Sintáctico ---
        {
          id: 'lc-s3-04',
          enunciado: 'Reconoce la secuencia de eventos en un texto narrativo.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s3-04-e1', enunciado: 'Ordena cronológicamente los eventos de una narración.' },
            { id: 'lc-s3-04-e2', enunciado: 'Identifica qué pasó primero, después y al final en una historia.' },
          ],
        },
        {
          id: 'lc-s3-05',
          enunciado: 'Identifica la estructura básica de textos sencillos (inicio, nudo, desenlace en narrativos; título, subtítulos en informativos).',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s3-05-e1', enunciado: 'Señala las partes de un cuento (inicio, nudo, desenlace).' },
            { id: 'lc-s3-05-e2', enunciado: 'Reconoce la función de títulos y subtítulos en un texto informativo.' },
          ],
        },
        {
          id: 'lc-s3-06',
          enunciado: 'Reconoce la función de conectores básicos (y, pero, porque, entonces) en un texto.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s3-06-e1', enunciado: 'Identifica qué relación establece un conector entre dos ideas (adición, oposición, causa).' },
            { id: 'lc-s3-06-e2', enunciado: 'Completa oraciones seleccionando el conector adecuado.' },
          ],
        },
        // --- Pragmático ---
        {
          id: 'lc-s3-07',
          enunciado: 'Identifica el propósito comunicativo de textos sencillos (informar, narrar, instruir).',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s3-07-e1', enunciado: 'Distingue si un texto busca contar una historia, dar instrucciones o informar sobre un tema.' },
            { id: 'lc-s3-07-e2', enunciado: 'Relaciona el tipo de texto con su propósito comunicativo.' },
          ],
        },
        {
          id: 'lc-s3-08',
          enunciado: 'Reconoce quién habla en el texto y a quién se dirige.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s3-08-e1', enunciado: 'Identifica al narrador o emisor de un texto.' },
            { id: 'lc-s3-08-e2', enunciado: 'Señala a qué público va dirigido un texto (niños, adultos, todos).' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 226],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No localiza información explícita en textos cortos ni identifica el propósito comunicativo de textos sencillos.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [226, 295],
          color: '#F59E0B',
          descripcion: 'El estudiante recupera información explícita de textos narrativos cortos, identifica el significado de palabras conocidas en contexto y reconoce la secuencia básica de eventos en una narración.',
          aprendizajesEsperados: ['lc-s3-01', 'lc-s3-03', 'lc-s3-04'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [295, 380],
          color: '#10B981',
          descripcion: 'El estudiante reconoce la idea principal de textos breves, identifica la estructura básica de textos narrativos e informativos, y distingue el propósito comunicativo de textos sencillos.',
          aprendizajesEsperados: ['lc-s3-01', 'lc-s3-02', 'lc-s3-03', 'lc-s3-04', 'lc-s3-05', 'lc-s3-07'],
        },
        {
          nombre: 'Avanzado',
          rango: [380, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante infiere significados a partir del contexto, comprende la función de conectores en textos, identifica quién habla y a quién se dirige un texto, y establece relaciones entre el tipo de texto y su propósito comunicativo.',
          aprendizajesEsperados: ['lc-s3-01', 'lc-s3-02', 'lc-s3-03', 'lc-s3-04', 'lc-s3-05', 'lc-s3-06', 'lc-s3-07', 'lc-s3-08'],
        },
      ],
    },

    // =========================================================
    // SABER 5°
    // =========================================================
    'saber-5': {
      nombre: 'Saber 5°',
      grados: ['5'],

      aprendizajes: [
        // --- Semántico ---
        {
          id: 'lc-s5-01',
          enunciado: 'Infiere el significado de palabras y expresiones desconocidas a partir del contexto y de las relaciones semánticas del texto.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s5-01-e1', enunciado: 'Deduce el significado de una palabra por el contexto en el que aparece.' },
            { id: 'lc-s5-01-e2', enunciado: 'Reconoce relaciones de sinonimia y antonimia entre palabras del texto.' },
            { id: 'lc-s5-01-e3', enunciado: 'Interpreta expresiones de sentido figurado en textos narrativos.' },
          ],
        },
        {
          id: 'lc-s5-02',
          enunciado: 'Identifica la idea principal y las ideas secundarias en textos narrativos, informativos y argumentativos.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s5-02-e1', enunciado: 'Resume el contenido global de un texto en una oración.' },
            { id: 'lc-s5-02-e2', enunciado: 'Distingue información relevante de la información complementaria.' },
          ],
        },
        {
          id: 'lc-s5-03',
          enunciado: 'Realiza inferencias a partir de la información explícita e implícita del texto.',
          competencia: 'comprender',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s5-03-e1', enunciado: 'Deduce información no dicha explícitamente usando las pistas del texto.' },
            { id: 'lc-s5-03-e2', enunciado: 'Anticipa el desenlace de una narración a partir de los indicios del texto.' },
          ],
        },
        {
          id: 'lc-s5-04',
          enunciado: 'Establece relaciones de causa-efecto entre eventos o ideas del texto.',
          competencia: 'comprender',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s5-04-e1', enunciado: 'Identifica la causa de un evento o la consecuencia de una acción en el texto.' },
            { id: 'lc-s5-04-e2', enunciado: 'Explica por qué un personaje actúa de determinada manera según el texto.' },
          ],
        },
        // --- Sintáctico ---
        {
          id: 'lc-s5-05',
          enunciado: 'Reconoce la estructura y organización de diferentes tipos de textos (narrativo, expositivo, instructivo, argumentativo).',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s5-05-e1', enunciado: 'Identifica las partes de un texto expositivo (introducción, desarrollo, conclusión).' },
            { id: 'lc-s5-05-e2', enunciado: 'Diferencia la estructura de un texto narrativo de la de un texto argumentativo.' },
          ],
        },
        {
          id: 'lc-s5-06',
          enunciado: 'Identifica la función de conectores y marcadores textuales en la coherencia del texto.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s5-06-e1', enunciado: 'Reconoce conectores de adición, contraste, causa y consecuencia.' },
            { id: 'lc-s5-06-e2', enunciado: 'Evalúa si un conector usado en un texto es adecuado para la relación entre ideas.' },
          ],
        },
        {
          id: 'lc-s5-07',
          enunciado: 'Reconoce elementos de cohesión (pronombres, sustitución léxica, elipsis) que dan unidad al texto.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s5-07-e1', enunciado: 'Identifica a qué se refiere un pronombre o expresión sustitutiva en el texto.' },
            { id: 'lc-s5-07-e2', enunciado: 'Reconoce cómo las sustituciones léxicas evitan la repetición y mantienen la coherencia.' },
          ],
        },
        // --- Pragmático ---
        {
          id: 'lc-s5-08',
          enunciado: 'Reconoce la intención comunicativa del autor en diferentes tipos de texto.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s5-08-e1', enunciado: 'Identifica si el propósito del autor es informar, persuadir, entretener o instruir.' },
            { id: 'lc-s5-08-e2', enunciado: 'Distingue entre hechos y opiniones dentro de un texto.' },
          ],
        },
        {
          id: 'lc-s5-09',
          enunciado: 'Identifica el punto de vista o posición del autor frente al tema tratado.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s5-09-e1', enunciado: 'Señala si el autor está a favor o en contra de una idea.' },
            { id: 'lc-s5-09-e2', enunciado: 'Reconoce las razones o argumentos que usa el autor para defender su posición.' },
          ],
        },
        {
          id: 'lc-s5-10',
          enunciado: 'Relaciona textos con su contexto de producción y con otros textos.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s5-10-e1', enunciado: 'Identifica el contexto social o cultural en que fue escrito un texto.' },
            { id: 'lc-s5-10-e2', enunciado: 'Compara la información o perspectiva de dos textos sobre un mismo tema.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 226],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No identifica la idea principal de textos breves ni reconoce el propósito comunicativo del autor.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [226, 295],
          color: '#F59E0B',
          descripcion: 'El estudiante infiere el significado de palabras por contexto, identifica la idea principal de textos narrativos, establece relaciones de causa-efecto y reconoce la estructura básica de textos expositivos.',
          aprendizajesEsperados: ['lc-s5-01', 'lc-s5-02', 'lc-s5-04', 'lc-s5-05'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [295, 380],
          color: '#10B981',
          descripcion: 'El estudiante realiza inferencias sobre información implícita, identifica conectores y su función en la coherencia textual, y reconoce la intención comunicativa del autor en diferentes tipos de texto.',
          aprendizajesEsperados: ['lc-s5-01', 'lc-s5-02', 'lc-s5-03', 'lc-s5-04', 'lc-s5-05', 'lc-s5-06', 'lc-s5-08'],
        },
        {
          nombre: 'Avanzado',
          rango: [380, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante reconoce mecanismos de cohesión textual, identifica el punto de vista del autor, relaciona textos con su contexto de producción y compara perspectivas de diferentes textos sobre un mismo tema.',
          aprendizajesEsperados: ['lc-s5-01', 'lc-s5-02', 'lc-s5-03', 'lc-s5-04', 'lc-s5-05', 'lc-s5-06', 'lc-s5-07', 'lc-s5-08', 'lc-s5-09', 'lc-s5-10'],
        },
      ],
    },

    // =========================================================
    // SABER 9°
    // =========================================================
    'saber-9': {
      nombre: 'Saber 9°',
      grados: ['6', '7', '8', '9'],

      aprendizajes: [
        // --- Semántico ---
        {
          id: 'lc-s9-01',
          enunciado: 'Interpreta la información explícita e implícita en textos continuos y discontinuos de complejidad media.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s9-01-e1', enunciado: 'Extrae información puntual de textos expositivos, narrativos y argumentativos.' },
            { id: 'lc-s9-01-e2', enunciado: 'Infiere conclusiones a partir de la información presentada en tablas, gráficas o infografías.' },
            { id: 'lc-s9-01-e3', enunciado: 'Distingue entre información literal e inferencial en un texto.' },
          ],
        },
        {
          id: 'lc-s9-02',
          enunciado: 'Establece relaciones de significado entre palabras, proposiciones y párrafos para construir el sentido global del texto.',
          competencia: 'comprender',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s9-02-e1', enunciado: 'Identifica las relaciones semánticas (sinonimia, antonimia, hiperonimia) entre palabras clave del texto.' },
            { id: 'lc-s9-02-e2', enunciado: 'Relaciona información de diferentes párrafos para construir una interpretación global.' },
          ],
        },
        {
          id: 'lc-s9-03',
          enunciado: 'Identifica y analiza figuras retóricas, recursos estilísticos y lenguaje connotativo en textos literarios y no literarios.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s9-03-e1', enunciado: 'Reconoce metáforas, símiles, hipérboles y personificaciones en textos literarios.' },
            { id: 'lc-s9-03-e2', enunciado: 'Interpreta el efecto de los recursos estilísticos en la construcción de sentido del texto.' },
          ],
        },
        // --- Sintáctico ---
        {
          id: 'lc-s9-04',
          enunciado: 'Analiza la estructura organizativa de textos complejos y reconoce cómo las partes contribuyen al sentido global.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s9-04-e1', enunciado: 'Identifica la tesis, los argumentos y la conclusión en un texto argumentativo.' },
            { id: 'lc-s9-04-e2', enunciado: 'Reconoce la función de cada parte del texto en la construcción del significado global.' },
          ],
        },
        {
          id: 'lc-s9-05',
          enunciado: 'Evalúa el uso de conectores lógicos, marcadores discursivos y mecanismos de cohesión en la construcción de textos.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s9-05-e1', enunciado: 'Identifica conectores de causa, consecuencia, condición, contraste y adición en textos argumentativos.' },
            { id: 'lc-s9-05-e2', enunciado: 'Evalúa si la selección de conectores es adecuada para mantener la coherencia del texto.' },
          ],
        },
        {
          id: 'lc-s9-06',
          enunciado: 'Reconoce las características formales de diferentes tipologías textuales y sus variantes.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s9-06-e1', enunciado: 'Diferencia entre textos narrativos, expositivos, argumentativos, descriptivos e instructivos por sus rasgos formales.' },
            { id: 'lc-s9-06-e2', enunciado: 'Identifica variantes dentro de una tipología (crónica, editorial, ensayo, reseña).' },
          ],
        },
        {
          id: 'lc-s9-07',
          enunciado: 'Identifica la función de elementos paratextuales (títulos, subtítulos, epígrafes, notas al pie, imágenes) en la comprensión del texto.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s9-07-e1', enunciado: 'Establece la relación entre el título o subtítulo y el contenido del texto.' },
            { id: 'lc-s9-07-e2', enunciado: 'Reconoce cómo las imágenes, tablas o notas al pie complementan la información del texto.' },
          ],
        },
        // --- Pragmático ---
        {
          id: 'lc-s9-08',
          enunciado: 'Evalúa la intención comunicativa del autor y los recursos persuasivos utilizados.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s9-08-e1', enunciado: 'Identifica las estrategias argumentativas que usa el autor para persuadir al lector.' },
            { id: 'lc-s9-08-e2', enunciado: 'Distingue entre la información objetiva y la valoración subjetiva del autor.' },
            { id: 'lc-s9-08-e3', enunciado: 'Reconoce el tono del texto (irónico, crítico, informativo, persuasivo).' },
          ],
        },
        {
          id: 'lc-s9-09',
          enunciado: 'Asume una posición crítica frente a lo leído y la sustenta con argumentos del texto y de su conocimiento previo.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s9-09-e1', enunciado: 'Formula una opinión sobre el contenido del texto y la sustenta con evidencias textuales.' },
            { id: 'lc-s9-09-e2', enunciado: 'Compara su punto de vista con el del autor identificando coincidencias y divergencias.' },
          ],
        },
        {
          id: 'lc-s9-10',
          enunciado: 'Establece relaciones intertextuales entre diferentes textos y los contextualiza social y culturalmente.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s9-10-e1', enunciado: 'Compara la perspectiva de dos o más textos sobre un mismo tema.' },
            { id: 'lc-s9-10-e2', enunciado: 'Relaciona el contenido de un texto con el contexto histórico, social o cultural en el que fue producido.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [100, 226],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No extrae información puntual de textos de complejidad media ni reconoce la estructura básica de textos argumentativos.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [226, 310],
          color: '#F59E0B',
          descripcion: 'El estudiante extrae información explícita de textos de complejidad media, identifica la estructura básica de textos argumentativos y diferencia tipologías textuales por sus rasgos formales.',
          aprendizajesEsperados: ['lc-s9-01', 'lc-s9-04', 'lc-s9-06'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [310, 406],
          color: '#10B981',
          descripcion: 'El estudiante construye el sentido global del texto relacionando proposiciones, analiza figuras retóricas, evalúa el uso de conectores y reconoce la intención comunicativa del autor y sus recursos persuasivos.',
          aprendizajesEsperados: ['lc-s9-01', 'lc-s9-02', 'lc-s9-03', 'lc-s9-04', 'lc-s9-05', 'lc-s9-06', 'lc-s9-08'],
        },
        {
          nombre: 'Avanzado',
          rango: [406, 500],
          color: '#3B82F6',
          descripcion: 'El estudiante identifica la función de elementos paratextuales, asume una posición crítica sustentada con evidencias textuales, y establece relaciones intertextuales contextualizando los textos social y culturalmente.',
          aprendizajesEsperados: ['lc-s9-01', 'lc-s9-02', 'lc-s9-03', 'lc-s9-04', 'lc-s9-05', 'lc-s9-06', 'lc-s9-07', 'lc-s9-08', 'lc-s9-09', 'lc-s9-10'],
        },
      ],
    },

    // =========================================================
    // SABER 11°
    // =========================================================
    'saber-11': {
      nombre: 'Saber 11°',
      grados: ['10', '11'],

      aprendizajes: [
        // --- Semántico ---
        {
          id: 'lc-s11-01',
          enunciado: 'Identifica y entiende los contenidos locales que conforman un texto: significados de palabras, expresiones y proposiciones, e información explícita e implícita.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s11-01-e1', enunciado: 'Comprende el significado de palabras y expresiones de uso especializado en contextos académicos.' },
            { id: 'lc-s11-01-e2', enunciado: 'Identifica información explícita e implícita en textos de alta complejidad.' },
            { id: 'lc-s11-01-e3', enunciado: 'Distingue entre el sentido literal y el sentido figurado de expresiones en contextos diversos.' },
          ],
        },
        {
          id: 'lc-s11-02',
          enunciado: 'Establece relaciones semánticas entre enunciados, párrafos y secciones para construir el sentido global de textos filosóficos, científicos, periodísticos y literarios.',
          competencia: 'comprender',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s11-02-e1', enunciado: 'Sintetiza el contenido de un texto complejo identificando las ideas principales y sus relaciones.' },
            { id: 'lc-s11-02-e2', enunciado: 'Relaciona proposiciones de diferentes partes del texto para construir una interpretación coherente.' },
          ],
        },
        {
          id: 'lc-s11-03',
          enunciado: 'Interpreta textos que involucran múltiples sistemas simbólicos (textos discontinuos: gráficas, tablas, esquemas, infografías) y los relaciona con textos continuos.',
          competencia: 'identificar',
          componente: 'semantico',
          evidencias: [
            { id: 'lc-s11-03-e1', enunciado: 'Extrae información de gráficas, tablas estadísticas e infografías y la relaciona con el texto escrito.' },
            { id: 'lc-s11-03-e2', enunciado: 'Traduce información presentada en un formato a otro (de tabla a texto, de gráfica a proposición).' },
          ],
        },
        // --- Sintáctico ---
        {
          id: 'lc-s11-04',
          enunciado: 'Comprende cómo se articulan las partes de un texto para darle un sentido global: estructura, coherencia y cohesión.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s11-04-e1', enunciado: 'Identifica la tesis central y los argumentos de apoyo en textos argumentativos complejos.' },
            { id: 'lc-s11-04-e2', enunciado: 'Evalúa la organización de un texto y la progresión temática.' },
            { id: 'lc-s11-04-e3', enunciado: 'Reconoce la función de los párrafos en la estructura global del texto.' },
          ],
        },
        {
          id: 'lc-s11-05',
          enunciado: 'Analiza las estrategias discursivas de textos argumentativos de alta complejidad (ensayo, artículo de opinión, editorial, texto filosófico).',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s11-05-e1', enunciado: 'Identifica falacias argumentativas, generalizaciones indebidas y razonamientos circulares.' },
            { id: 'lc-s11-05-e2', enunciado: 'Reconoce las estrategias retóricas del autor (ejemplificación, analogía, contraargumentación, apelación a la autoridad).' },
          ],
        },
        {
          id: 'lc-s11-06',
          enunciado: 'Reconoce las características del discurso académico y científico y lo diferencia de otros tipos de discurso.',
          competencia: 'comprender',
          componente: 'sintactico',
          evidencias: [
            { id: 'lc-s11-06-e1', enunciado: 'Identifica marcas del discurso académico (citaciones, referencias, lenguaje técnico, registro formal).' },
            { id: 'lc-s11-06-e2', enunciado: 'Diferencia entre afirmaciones verificables empíricamente y valoraciones subjetivas.' },
          ],
        },
        // --- Pragmático ---
        {
          id: 'lc-s11-07',
          enunciado: 'Reflexiona a partir de un texto y evalúa su contenido: valida o cuestiona los planteamientos del autor con argumentos propios o de otras fuentes.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s11-07-e1', enunciado: 'Evalúa la validez de los argumentos del autor usando evidencia del texto y conocimiento externo.' },
            { id: 'lc-s11-07-e2', enunciado: 'Identifica los supuestos e implicaciones de las afirmaciones del autor.' },
            { id: 'lc-s11-07-e3', enunciado: 'Formula contraargumentos razonados frente a las posiciones del texto.' },
          ],
        },
        {
          id: 'lc-s11-08',
          enunciado: 'Evalúa la forma de un texto: reconoce las estrategias del autor y su eficacia comunicativa.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s11-08-e1', enunciado: 'Evalúa si las estrategias argumentativas del autor son efectivas para su propósito.' },
            { id: 'lc-s11-08-e2', enunciado: 'Analiza cómo el tono, el registro y la selección léxica contribuyen al efecto deseado.' },
          ],
        },
        {
          id: 'lc-s11-09',
          enunciado: 'Contextualiza textos en su marco social, histórico, cultural e ideológico y reconoce cómo estos factores condicionan el sentido.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s11-09-e1', enunciado: 'Relaciona el contenido de un texto con el contexto histórico y cultural de su producción.' },
            { id: 'lc-s11-09-e2', enunciado: 'Reconoce los presupuestos ideológicos o culturales que subyacen a un texto.' },
          ],
        },
        {
          id: 'lc-s11-10',
          enunciado: 'Establece relaciones intertextuales entre textos de diferentes épocas, géneros y tradiciones, e identifica influencias y diálogos entre ellos.',
          competencia: 'reflexionar',
          componente: 'pragmatico',
          evidencias: [
            { id: 'lc-s11-10-e1', enunciado: 'Compara perspectivas de diferentes autores sobre un mismo tema o problema.' },
            { id: 'lc-s11-10-e2', enunciado: 'Reconoce cómo un texto alude, cita o transforma ideas de otros textos.' },
          ],
        },
      ],

      niveles: [
        {
          nombre: 'Insuficiente',
          rango: [0, 36],
          color: '#EF4444',
          descripcion: 'El estudiante no supera las preguntas de menor complejidad de la prueba. No identifica información explícita en textos de alta complejidad ni reconoce la estructura básica de textos argumentativos complejos.',
          aprendizajesEsperados: [],
        },
        {
          nombre: 'Mínimo',
          rango: [36, 51],
          color: '#F59E0B',
          descripcion: 'El estudiante identifica información explícita e implícita en textos de alta complejidad, interpreta textos discontinuos (gráficas, tablas) y reconoce la tesis y los argumentos en textos argumentativos.',
          aprendizajesEsperados: ['lc-s11-01', 'lc-s11-03', 'lc-s11-04'],
        },
        {
          nombre: 'Satisfactorio',
          rango: [51, 71],
          color: '#10B981',
          descripcion: 'El estudiante construye el sentido global de textos complejos relacionando sus partes, analiza estrategias discursivas argumentativas, y reflexiona sobre el contenido evaluando la validez de los planteamientos del autor.',
          aprendizajesEsperados: ['lc-s11-01', 'lc-s11-02', 'lc-s11-03', 'lc-s11-04', 'lc-s11-05', 'lc-s11-07'],
        },
        {
          nombre: 'Avanzado',
          rango: [71, 100],
          color: '#3B82F6',
          descripcion: 'El estudiante diferencia el discurso académico de otros tipos de discurso, evalúa la eficacia comunicativa del autor, contextualiza textos en su marco ideológico y cultural, y establece relaciones intertextuales entre textos de diferentes épocas y tradiciones.',
          aprendizajesEsperados: ['lc-s11-01', 'lc-s11-02', 'lc-s11-03', 'lc-s11-04', 'lc-s11-05', 'lc-s11-06', 'lc-s11-07', 'lc-s11-08', 'lc-s11-09', 'lc-s11-10'],
        },
      ],
    },
  },
}

if (typeof module !== 'undefined' && module.exports) {
  module.exports = { ICFES_LECTURA_CRITICA }
}
/**
 * Banco de Preguntas tipo ICFES - Uso Offline
 * Instituto Colombiano para la Evaluación de la Educación (ICFES)
 *
 * Preguntas originales inspiradas en el formato y nivel de dificultad
 * de las pruebas Saber 9° y Saber 11° de Colombia.
 * NO son preguntas copiadas de exámenes oficiales.
 *
 * Áreas cubiertas:
 *   - Matemáticas: Saber 9° (5 preguntas) y Saber 11° (5 preguntas)
 *   - Lectura Crítica: Saber 9° (5 preguntas) y Saber 11° (5 preguntas)
 *
 * Formato de ID: {area-abrev}-p-{prueba}-{numero}
 *   mat  = Matemáticas
 *   lc   = Lectura Crítica
 *   s9   = Saber 9°
 *   s11  = Saber 11°
 */

const PREGUNTAS_ICFES = {

  // ===========================================================
  // MATEMÁTICAS
  // ===========================================================
  matematicas: {

    // ---------------------------------------------------------
    // SABER 9°
    // ---------------------------------------------------------
    'saber-9': [

      // 1. Numérico-variacional + razonamiento
      {
        id: 'mat-p-s9-01',
        enunciado: 'Sea x un número real que satisface la ecuación 3(x − 2) + 5 = 2x + 1. ¿Cuál de las siguientes afirmaciones es VERDADERA respecto a x?',
        opciones: [
          { letra: 'A', texto: 'x es negativo porque al despejar se obtiene x = −2.' },
          { letra: 'B', texto: 'x es un número natural porque al despejar se obtiene x = 2.' },
          { letra: 'C', texto: 'x es un entero positivo porque al despejar se obtiene x = 4.' },
          { letra: 'D', texto: 'x es un número irracional porque la ecuación no tiene solución entera.' },
        ],
        clave: 'B',
        justificacion: 'Desarrollando: 3x − 6 + 5 = 2x + 1, es decir, 3x − 1 = 2x + 1, de donde x = 2. Por lo tanto x = 2, que es un número natural positivo. Las opciones A, C y D presentan valores incorrectos de x o clasificaciones equivocadas del número.',
        competencia: 'razonamiento',
        componente: 'numerico-variacional',
      },

      // 2. Numérico-variacional + resolución
      {
        id: 'mat-p-s9-02',
        enunciado: 'En una tienda de Medellín, Valentina compra 3 cuadernos y 2 lápices por $14.500. Si un lápiz cuesta $500 más que un cuaderno, ¿cuánto cuesta cada cuaderno?',
        opciones: [
          { letra: 'A', texto: '$2.500' },
          { letra: 'B', texto: '$2.700' },
          { letra: 'C', texto: '$3.000' },
          { letra: 'D', texto: '$3.500' },
        ],
        clave: 'B',
        justificacion: 'Sea c el precio de un cuaderno. El lápiz vale c + 500. La ecuación es: 3c + 2(c + 500) = 14.500, lo que da 5c + 1.000 = 14.500, entonces 5c = 13.500 y c = 2.700. Verificación: cuaderno = $2.700, lápiz = $3.200; 3(2.700) + 2(3.200) = 8.100 + 6.400 = 14.500. Las otras opciones ($2.500, $3.000, $3.500) no satisfacen la ecuación al ser sustituidas.',
        competencia: 'resolucion',
        componente: 'numerico-variacional',
      },

      // 3. Geométrico-métrico + comunicación
      {
        id: 'mat-p-s9-03',
        enunciado: 'En el plano cartesiano, los vértices de un triángulo son A(1, 1), B(5, 1) y C(3, 4). ¿Cuál es la longitud de la base AB del triángulo y cuál es su altura?',
        opciones: [
          { letra: 'A', texto: 'Base = 4 unidades; altura = 3 unidades.' },
          { letra: 'B', texto: 'Base = 4 unidades; altura = 4 unidades.' },
          { letra: 'C', texto: 'Base = 5 unidades; altura = 3 unidades.' },
          { letra: 'D', texto: 'Base = 3 unidades; altura = 4 unidades.' },
        ],
        clave: 'A',
        justificacion: 'La base AB va de (1,1) a (5,1): longitud = 5 − 1 = 4 unidades (ambos puntos tienen y = 1, por lo que la distancia es la diferencia en x). La altura es la distancia vertical desde C(3, 4) hasta la recta y = 1: altura = 4 − 1 = 3 unidades. La opción B confunde la altura con la coordenada y de C; las opciones C y D tienen valores incorrectos para la base.',
        competencia: 'comunicacion',
        componente: 'geometrico-metrico',
      },

      // 4. Geométrico-métrico + razonamiento
      {
        id: 'mat-p-s9-04',
        enunciado: 'Un cable va desde la cima de un poste de 6 m hasta un punto en el suelo a 8 m de la base del poste. ¿Cuál es la longitud del cable?',
        opciones: [
          { letra: 'A', texto: '10 m' },
          { letra: 'B', texto: '14 m' },
          { letra: 'C', texto: '√28 m' },
          { letra: 'D', texto: '7 m' },
        ],
        clave: 'A',
        justificacion: 'El poste, el suelo y el cable forman un triángulo rectángulo donde los catetos miden 6 m y 8 m. Aplicando el Teorema de Pitágoras: hipotenusa² = 6² + 8² = 36 + 64 = 100, por tanto la hipotenusa = √100 = 10 m. La opción B suma los catetos en vez de aplicar Pitágoras; la opción C calcula incorrectamente; la opción D no corresponde a ningún cálculo válido.',
        competencia: 'razonamiento',
        componente: 'geometrico-metrico',
      },

      // 5. Aleatorio + resolución
      {
        id: 'mat-p-s9-05',
        enunciado: 'Las notas de un grupo de 7 estudiantes en un examen de ciencias fueron: 3,5 — 4,0 — 2,5 — 4,5 — 3,5 — 5,0 — 4,0. ¿Cuáles son la media y la mediana de estas notas?',
        opciones: [
          { letra: 'A', texto: 'Media = 3,86; mediana = 4,0.' },
          { letra: 'B', texto: 'Media = 4,0; mediana = 3,5.' },
          { letra: 'C', texto: 'Media = 3,86; mediana = 3,5.' },
          { letra: 'D', texto: 'Media = 4,0; mediana = 4,0.' },
        ],
        clave: 'A',
        justificacion: 'La suma de las notas es 3,5 + 4,0 + 2,5 + 4,5 + 3,5 + 5,0 + 4,0 = 27,0. La media es 27,0 ÷ 7 ≈ 3,86. Ordenando los datos: 2,5 — 3,5 — 3,5 — 4,0 — 4,0 — 4,5 — 5,0; el valor central (4.° de 7) es 4,0, por lo que la mediana = 4,0. Las opciones B y D tienen la media incorrecta; la opción C tiene la mediana incorrecta.',
        competencia: 'resolucion',
        componente: 'aleatorio',
      },
    ],

    // ---------------------------------------------------------
    // SABER 11°
    // ---------------------------------------------------------
    'saber-11': [

      // 1. Numérico-variacional + razonamiento (funciones / límites)
      {
        id: 'mat-p-s11-01',
        enunciado: 'La función f(x) = (x² − 9) / (x − 3) no está definida en x = 3. Sin embargo, al analizar los valores de f(x) cuando x se aproxima a 3 desde ambos lados, se concluye que:',
        opciones: [
          { letra: 'A', texto: 'El límite cuando x → 3 no existe, porque la función no está definida en ese punto.' },
          { letra: 'B', texto: 'El límite cuando x → 3 es 0, porque el numerador se anula en x = 3.' },
          { letra: 'C', texto: 'El límite cuando x → 3 es 6, porque se puede simplificar f(x) = x + 3 para x ≠ 3.' },
          { letra: 'D', texto: 'El límite cuando x → 3 es infinito, porque hay una división por cero.' },
        ],
        clave: 'C',
        justificacion: 'El numerador x² − 9 = (x − 3)(x + 3). Para x ≠ 3, la expresión se simplifica a f(x) = x + 3. Cuando x → 3, f(x) → 3 + 3 = 6. El límite existe aunque f no esté definida en x = 3; la no definición en un punto no implica que el límite no exista (opción A). El límite no es 0 (opción B) ni infinito (opción D), pues la indeterminación 0/0 se resuelve al factorizar.',
        competencia: 'razonamiento',
        componente: 'numerico-variacional',
      },

      // 2. Numérico-variacional + resolución (sistemas / optimización)
      {
        id: 'mat-p-s11-02',
        enunciado: 'Una finca productora de café en Huila debe distribuir 120 hectáreas entre dos variedades: Castillo y Colombia. La variedad Castillo genera una utilidad de $2.000.000 por hectárea y la Colombia de $1.500.000. Si se requiere plantar al menos 30 ha de cada variedad, ¿cuántas hectáreas de Castillo se deben plantar para maximizar la utilidad total?',
        opciones: [
          { letra: 'A', texto: '30 hectáreas de Castillo y 90 de Colombia.' },
          { letra: 'B', texto: '60 hectáreas de cada variedad.' },
          { letra: 'C', texto: '90 hectáreas de Castillo y 30 de Colombia.' },
          { letra: 'D', texto: '120 hectáreas de Castillo y 0 de Colombia.' },
        ],
        clave: 'C',
        justificacion: 'Sea c las hectáreas de Castillo. La función de utilidad es U = 2.000.000c + 1.500.000(120 − c) = 500.000c + 180.000.000, que es creciente en c. Para maximizar U, se debe maximizar c sujeto a: c ≥ 30 y 120 − c ≥ 30 (es decir, c ≤ 90). El máximo se alcanza en c = 90. La opción D viola la restricción mínima de 30 ha de Colombia; las opciones A y B no maximizan la utilidad.',
        competencia: 'resolucion',
        componente: 'numerico-variacional',
      },

      // 3. Geométrico-métrico + comunicación (vectores / transformaciones)
      {
        id: 'mat-p-s11-03',
        enunciado: 'El punto P(2, 5) es sometido primero a una reflexión sobre el eje x y luego a una traslación de vector (3, −1). ¿Cuáles son las coordenadas del punto imagen final P\'\'?',
        opciones: [
          { letra: 'A', texto: 'P\'\' = (5, −6)' },
          { letra: 'B', texto: 'P\'\' = (5, 4)' },
          { letra: 'C', texto: 'P\'\' = (−1, 6)' },
          { letra: 'D', texto: 'P\'\' = (5, −4)' },
        ],
        clave: 'A',
        justificacion: 'Reflexión de P(2, 5) sobre el eje x: P\'(2, −5) (la coordenada y cambia de signo). Traslación con vector (3, −1): P\'\'(2 + 3, −5 + (−1)) = P\'\'(5, −6). La opción B olvida cambiar el signo de y en la reflexión; la opción D aplica la traslación al punto original sin reflejar; la opción C comete errores en ambas transformaciones.',
        competencia: 'comunicacion',
        componente: 'geometrico-metrico',
      },

      // 4. Aleatorio + razonamiento (distribuciones / inferencia)
      {
        id: 'mat-p-s11-04',
        enunciado: 'En dos colegios de Bogotá se midió el tiempo de desplazamiento (en minutos) de los estudiantes. Colegio A: media = 25 min, desviación estándar = 5 min. Colegio B: media = 25 min, desviación estándar = 15 min. ¿Cuál afirmación es CORRECTA?',
        opciones: [
          { letra: 'A', texto: 'Los estudiantes del colegio A tienen tiempos más homogéneos que los del colegio B.' },
          { letra: 'B', texto: 'Los estudiantes del colegio B tienen, en promedio, mayor tiempo de desplazamiento.' },
          { letra: 'C', texto: 'No es posible comparar los dos grupos porque tienen distribuciones diferentes.' },
          { letra: 'D', texto: 'La mediana del colegio A es mayor que la del colegio B porque su desviación estándar es menor.' },
        ],
        clave: 'A',
        justificacion: 'La desviación estándar mide la dispersión de los datos alrededor de la media. Como el colegio A tiene desviación estándar de 5 min (menor), sus tiempos están más concentrados cerca de la media de 25 min, es decir, son más homogéneos. La opción B es falsa porque ambas medias son iguales (25 min). La opción C es incorrecta: se pueden comparar grupos con diferentes dispersiones. La opción D confunde desviación estándar con mediana.',
        competencia: 'razonamiento',
        componente: 'aleatorio',
      },

      // 5. Aleatorio + resolución (probabilidad condicional / conteo)
      {
        id: 'mat-p-s11-05',
        enunciado: 'En una urna hay 4 bolas rojas y 6 bolas azules. Se extraen dos bolas sin reposición. ¿Cuál es la probabilidad de que la segunda bola sea azul, dado que la primera también fue azul?',
        opciones: [
          { letra: 'A', texto: '6/10' },
          { letra: 'B', texto: '5/9' },
          { letra: 'C', texto: '5/10' },
          { letra: 'D', texto: '6/9' },
        ],
        clave: 'B',
        justificacion: 'Si la primera bola extraída fue azul, quedan en la urna 4 rojas y 5 azules (9 en total). La probabilidad de que la segunda sea azul dado que la primera lo fue es P(2.ª azul | 1.ª azul) = 5/9. La opción A usa el total inicial sin actualizar; la opción C divide incorrectamente; la opción D usa numerador incorrecto de 6 sin descontar la bola ya extraída.',
        competencia: 'resolucion',
        componente: 'aleatorio',
      },
    ],
  },

  // ===========================================================
  // LECTURA CRÍTICA (LENGUAJE)
  // ===========================================================
  lenguaje: {

    // ---------------------------------------------------------
    // SABER 9°
    // ---------------------------------------------------------
    'saber-9': [

      // 1. Semántico + identificar
      {
        id: 'lc-p-s9-01',
        enunciado: 'Lee el siguiente fragmento:\n\n"Los páramos son ecosistemas únicos del trópico andino. Su nombre proviene del latín paludem, que hace referencia a terrenos húmedos y pantanosos. En Colombia, los páramos regulan el ciclo del agua y abastecen a millones de personas; sin embargo, la minería y la expansión agropecuaria los han convertido en territorios en vilo."\n\nSegún el contexto del texto, la expresión "en vilo" significa que los páramos están:',
        opciones: [
          { letra: 'A', texto: 'En proceso de recuperación gracias a las políticas ambientales.' },
          { letra: 'B', texto: 'En una situación de riesgo e incertidumbre sobre su futuro.' },
          { letra: 'C', texto: 'En alto estado de conservación, libres de amenazas.' },
          { letra: 'D', texto: 'En zona de reserva internacional protegida.' },
        ],
        clave: 'B',
        justificacion: '"En vilo" es una expresión que indica una situación de suspenso, incertidumbre o peligro. El contexto confirma este sentido: el texto menciona que la minería y la expansión agropecuaria representan amenazas concretas para los páramos. Las opciones A, C y D contradicen el tono de alerta del párrafo, que presenta a los páramos como ecosistemas amenazados, no protegidos ni en recuperación.',
        competencia: 'identificar',
        componente: 'semantico',
      },

      // 2. Semántico + comprender
      {
        id: 'lc-p-s9-02',
        enunciado: 'Lee el siguiente párrafo:\n\n"La lectura no es un lujo reservado a los intelectuales: es una herramienta de emancipación al alcance de cualquier persona. Quien lee amplía su mundo, cuestiona la realidad y construye autonomía de pensamiento. En un país donde la desigualdad es estructural, el acceso a los libros debería ser una política pública prioritaria."\n\n¿Cuál es la idea principal del párrafo?',
        opciones: [
          { letra: 'A', texto: 'Solo los intelectuales tienen acceso real a la lectura en Colombia.' },
          { letra: 'B', texto: 'La lectura es un derecho fundamental que el Estado debe garantizar como herramienta de transformación social.' },
          { letra: 'C', texto: 'Los libros son caros y por eso la gente no lee en países desiguales.' },
          { letra: 'D', texto: 'La autonomía de pensamiento se logra únicamente a través de la educación formal.' },
        ],
        clave: 'B',
        justificacion: 'El párrafo argumenta que la lectura emancipa y que, dada la desigualdad del país, el acceso a los libros debe ser una prioridad del Estado. Esa es la tesis central: la lectura como herramienta de transformación que el Estado debe promover. La opción A contradice el texto, que dice que la lectura no es un privilegio exclusivo. La opción C es una inferencia no sustentada. La opción D limita la autonomía a la educación formal, lo que no dice el texto.',
        competencia: 'comprender',
        componente: 'semantico',
      },

      // 3. Sintáctico + comprender
      {
        id: 'lc-p-s9-03',
        enunciado: 'Lee el siguiente fragmento de un artículo de opinión:\n\n"El transporte público en Bogotá ha mejorado en infraestructura; no obstante, los usuarios siguen reportando problemas de puntualidad y cobertura en los barrios periféricos."\n\n¿Qué función cumple el conector "no obstante" en la oración?',
        opciones: [
          { letra: 'A', texto: 'Introduce una consecuencia de la mejora en infraestructura.' },
          { letra: 'B', texto: 'Indica una causa de los problemas de puntualidad.' },
          { letra: 'C', texto: 'Establece una relación de contraste entre dos ideas.' },
          { letra: 'D', texto: 'Señala una condición necesaria para que mejore el servicio.' },
        ],
        clave: 'C',
        justificacion: '"No obstante" es un conector adversativo o de contraste: introduce una idea que matiza, contradice o limita lo afirmado anteriormente. En el fragmento, contrasta la mejora en infraestructura (aspecto positivo) con los problemas persistentes de los usuarios (aspecto negativo). No expresa consecuencia (opción A), causa (opción B) ni condición (opción D).',
        competencia: 'comprender',
        componente: 'sintactico',
      },

      // 4. Pragmático + reflexionar (intención del autor)
      {
        id: 'lc-p-s9-04',
        enunciado: 'Lee el siguiente texto:\n\n"Señores del concejo municipal: los habitantes del barrio La Esperanza llevamos tres años solicitando la pavimentación de nuestra calle principal. Cada invierno, el barro impide el paso de ambulancias y niños al colegio. Exigimos que se incluya esta obra en el presupuesto del próximo año. La dignidad de nuestro barrio no puede seguir esperando."\n\n¿Cuál es la intención principal del autor de este texto?',
        opciones: [
          { letra: 'A', texto: 'Informar al concejo sobre las condiciones climáticas del barrio.' },
          { letra: 'B', texto: 'Narrar las dificultades cotidianas de los habitantes del barrio La Esperanza.' },
          { letra: 'C', texto: 'Persuadir al concejo para que tome una decisión favorable respecto a la pavimentación.' },
          { letra: 'D', texto: 'Describir el proceso histórico de abandono del barrio La Esperanza.' },
        ],
        clave: 'C',
        justificacion: 'El texto es una petición formal dirigida al concejo municipal. Su propósito es persuadir: el autor presenta argumentos (tiempo de espera, impacto en la comunidad) y formula una exigencia directa. Informar (opción A) y narrar (opción B) son funciones secundarias que sirven al propósito persuasivo, pero no son la intención principal. Describir historia (opción D) no corresponde al texto.',
        competencia: 'reflexionar',
        componente: 'pragmatico',
      },

      // 5. Pragmático + reflexionar (evaluación crítica)
      {
        id: 'lc-p-s9-05',
        enunciado: 'Lee el siguiente párrafo de un editorial:\n\n"Las redes sociales son la causa principal del deterioro académico de los jóvenes colombianos. Cualquier profesor puede confirmarlo: los estudiantes ya no saben leer ni escribir correctamente. Si se prohibieran los celulares en los colegios, las notas mejorarían de inmediato."\n\n¿Cuál es la principal debilidad argumentativa del texto?',
        opciones: [
          { letra: 'A', texto: 'El autor cita fuentes académicas que no son confiables.' },
          { letra: 'B', texto: 'El autor generaliza a partir de impresiones subjetivas sin presentar evidencia verificable.' },
          { letra: 'C', texto: 'El autor defiende una posición favorable a las redes sociales.' },
          { letra: 'D', texto: 'El texto carece de conclusión, por lo que no puede considerarse argumentativo.' },
        ],
        clave: 'B',
        justificacion: 'El editorial hace afirmaciones categóricas ("causa principal", "cualquier profesor puede confirmarlo", "mejorarían de inmediato") sin presentar datos, estudios o evidencia empírica. Apela a la opinión colectiva de los profesores como si fuera prueba suficiente, incurriendo en una generalización indebida. La opción A es incorrecta porque el texto no cita fuentes. La opción C contradice el contenido. La opción D es falsa: el texto sí tiene una conclusión (prohibir celulares).',
        competencia: 'reflexionar',
        componente: 'pragmatico',
      },
    ],

    // ---------------------------------------------------------
    // SABER 11°
    // ---------------------------------------------------------
    'saber-11': [

      // 1. Semántico + identificar (texto argumentativo)
      {
        id: 'lc-p-s11-01',
        enunciado: 'Lee el siguiente fragmento de un ensayo:\n\n"La inteligencia artificial no sustituye el pensamiento crítico; lo que amenaza es la disposición a delegarlo. Cuando una persona acepta sin cuestionamiento las conclusiones de un algoritmo —ya sea en diagnósticos médicos, veredictos judiciales o noticias— renuncia a la facultad más humana que posee: la capacidad de dudar. El peligro no está en la máquina, sino en la abdicación del sujeto."\n\n¿Cuál de las siguientes opciones recoge con mayor precisión la información que el autor presenta como el verdadero riesgo de la IA?',
        opciones: [
          { letra: 'A', texto: 'Que los algoritmos cometan errores en diagnósticos médicos y veredictos judiciales.' },
          { letra: 'B', texto: 'Que las personas renuncien a pensar críticamente y acepten pasivamente las decisiones de los algoritmos.' },
          { letra: 'C', texto: 'Que la inteligencia artificial reemplace a los profesionales en sus campos de trabajo.' },
          { letra: 'D', texto: 'Que las noticias generadas por IA sean falsas y distorsionen la realidad.' },
        ],
        clave: 'B',
        justificacion: 'El autor es explícito: "El peligro no está en la máquina, sino en la abdicación del sujeto." La amenaza identificada es que las personas cedan su capacidad crítica, no que los algoritmos fallen (opción A) ni que reemplacen empleos (opción C). La opción D refiere a las noticias, pero el texto la usa como ejemplo, no como el riesgo central. La opción B sintetiza con precisión la tesis del fragmento.',
        competencia: 'identificar',
        componente: 'semantico',
      },

      // 2. Semántico + comprender (sentido global / tesis)
      {
        id: 'lc-p-s11-02',
        enunciado: 'Lee el siguiente texto filosófico:\n\n"La libertad no puede fundarse en la ausencia de restricciones: esa concepción la confunde con el capricho. Una voluntad verdaderamente libre es aquella que se rige por una ley que ella misma se ha dado, no por el impulso momentáneo ni por la presión exterior. Ser libre, en sentido pleno, es ser autor de las normas que guían la propia conducta."\n\n¿Cuál es la tesis central del texto?',
        opciones: [
          { letra: 'A', texto: 'La libertad consiste en hacer lo que uno desee sin ningún tipo de restricción.' },
          { letra: 'B', texto: 'La verdadera libertad es aquella que se gobierna por leyes externas impuestas por la sociedad.' },
          { letra: 'C', texto: 'La libertad auténtica implica la autonomía: actuar según normas que uno mismo se ha dado racionalmente.' },
          { letra: 'D', texto: 'El capricho y el impulso son expresiones legítimas de la libertad individual.' },
        ],
        clave: 'C',
        justificacion: 'El texto, de corte kantiano, distingue entre libertad como ausencia de restricciones (que rechaza, llamándola "capricho") y la libertad como autonomía: la voluntad que se rige por una ley autolegislada. La tesis central es que la libertad verdadera es autonomía racional. La opción A representa exactamente la concepción que el autor critica. La opción B confunde la ley autoimpuesta con leyes externas. La opción D es otra posición que el texto rechaza explícitamente.',
        competencia: 'comprender',
        componente: 'semantico',
      },

      // 3. Sintáctico + comprender (estructura argumentativa / falacias)
      {
        id: 'lc-p-s11-03',
        enunciado: 'Lee el siguiente fragmento de un debate público:\n\n"El candidato Rodríguez propone reducir el presupuesto para ciencia y tecnología. No es de extrañar: él estudió en un colegio de provincia y nunca ha pisado una universidad de investigación. ¿Cómo va a entender alguien así la importancia del conocimiento?"\n\n¿Qué estrategia argumentativa INCORRECTA utiliza el autor del fragmento?',
        opciones: [
          { letra: 'A', texto: 'Apelación a la autoridad, porque cita expertos para refutar la propuesta.' },
          { letra: 'B', texto: 'Argumento ad hominem, porque ataca el origen del candidato en vez de evaluar su propuesta.' },
          { letra: 'C', texto: 'Analogía, porque compara la situación del candidato con la de otro funcionario.' },
          { letra: 'D', texto: 'Apelación a datos estadísticos, porque usa cifras para invalidar la propuesta.' },
        ],
        clave: 'B',
        justificacion: 'El fragmento no refuta la propuesta de reducir el presupuesto con argumentos sobre ciencia o economía, sino que descalifica al candidato por su origen educativo y geográfico. Eso es un argumento ad hominem: atacar a la persona en lugar de rebatir sus ideas. No hay apelación a autoridades (opción A), analogía (opción C) ni datos estadísticos (opción D) en el texto.',
        competencia: 'comprender',
        componente: 'sintactico',
      },

      // 4. Pragmático + reflexionar (supuestos e implicaciones)
      {
        id: 'lc-p-s11-04',
        enunciado: 'Lee el siguiente enunciado de un artículo de economía:\n\n"Solo cuando los países en desarrollo adopten plenamente el modelo de libre mercado podrán alcanzar el nivel de prosperidad de las naciones desarrolladas."\n\n¿Cuál de los siguientes supuestos subyace necesariamente a esta afirmación?',
        opciones: [
          { letra: 'A', texto: 'Los países desarrollados han alcanzado su prosperidad exclusivamente gracias al libre mercado.' },
          { letra: 'B', texto: 'Los países en desarrollo tienen recursos naturales suficientes para competir en el mercado global.' },
          { letra: 'C', texto: 'El libre mercado genera desigualdad y por eso los países pobres siguen siendo pobres.' },
          { letra: 'D', texto: 'La prosperidad de las naciones depende principalmente de su historia colonial.' },
        ],
        clave: 'A',
        justificacion: 'La afirmación establece que el libre mercado es la condición para que los países en desarrollo alcancen la prosperidad de los desarrollados. Para que este argumento funcione, debe asumir que los países desarrollados lograron su prosperidad mediante el libre mercado: ese es el supuesto implícito. Si ese supuesto fuera falso, el argumento caería. La opción B introduce una idea no implicada por el enunciado. Las opciones C y D contradicen la posición del texto.',
        competencia: 'reflexionar',
        componente: 'pragmatico',
      },

      // 5. Pragmático + reflexionar (estrategias retóricas)
      {
        id: 'lc-p-s11-05',
        enunciado: 'Lee el siguiente texto de divulgación científica:\n\n"Imagina que tu cerebro es una ciudad: las neuronas son los habitantes, las sinapsis son las calles y los neurotransmisores son los mensajeros que circulan entre ellas. Cuando aprendes algo nuevo, construyes una avenida donde antes había un camino de tierra. Así funciona la neuroplasticidad: la capacidad del cerebro de reorganizarse y crecer con la experiencia."\n\n¿Con qué propósito el autor usa la analogía de la ciudad?',
        opciones: [
          { letra: 'A', texto: 'Para demostrar que los cerebros humanos y las ciudades tienen la misma estructura física.' },
          { letra: 'B', texto: 'Para hacer accesible un concepto científico complejo mediante una comparación con algo cotidiano.' },
          { letra: 'C', texto: 'Para persuadir al lector de que debe estudiar neurociencia.' },
          { letra: 'D', texto: 'Para criticar la forma en que las ciudades están organizadas en comparación con el cerebro.' },
        ],
        clave: 'B',
        justificacion: 'La analogía ciudad-cerebro es una estrategia pedagógica y retórica que busca hacer comprensible la neuroplasticidad para un público no especializado, usando referencias cotidianas (ciudad, calles, mensajeros). No busca probar equivalencia estructural real (opción A), persuadir de estudiar neurociencia (opción C) ni criticar urbanismo (opción D). La función es explicativa y divulgativa: acercar un concepto técnico al lector general.',
        competencia: 'reflexionar',
        componente: 'pragmatico',
      },
    ],
  },
};

if (typeof module !== 'undefined' && module.exports) {
  module.exports = { PREGUNTAS_ICFES };
}

// filtros.js — Lógica de filtrado cascading: ciclo → grados → área → eje
// No depende de IA. Funciona 100% offline.

const CICLOS = {
  'preescolar': { nombre: 'Preescolar', grados: ['0'], grupos: ['1-3'] },
  'basica-primaria': { nombre: 'Básica Primaria', grados: ['1','2','3','4','5'], grupos: ['1-3','4-5'] },
  'basica-secundaria': { nombre: 'Básica Secundaria', grados: ['6','7','8','9'], grupos: ['6-7','8-9'] },
  'media': { nombre: 'Media', grados: ['10','11'], grupos: ['10-11'] }
};

const GRUPOS_EBC_ORDEN = ['1-3', '4-5', '6-7', '8-9', '10-11'];

const AREAS_EBC = {
  'matematicas': { nombre: 'Matemáticas', color: '#4f83f1', icon: '∑' },
  'lenguaje': { nombre: 'Lenguaje', color: '#19c37d', icon: '✎' },
  'ciencias-naturales': { nombre: 'Ciencias Naturales', color: '#f59e0b', icon: '⚗' },
  'ciencias-sociales': { nombre: 'Ciencias Sociales', color: '#a78bfa', icon: '🌍' }
};

function gradoAGrupoEBC(grado) {
  const g = parseInt(grado);
  if (g <= 3) return '1-3';
  if (g <= 5) return '4-5';
  if (g <= 7) return '6-7';
  if (g <= 9) return '8-9';
  return '10-11';
}

function grupoAGrados(grupo) {
  const map = { '1-3': [1,2,3], '4-5': [4,5], '6-7': [6,7], '8-9': [8,9], '10-11': [10,11] };
  return map[grupo] || [];
}

function getGradosPorCiclo(cicloId) {
  return CICLOS[cicloId]?.grados || [];
}

function getGruposPorCiclo(cicloId) {
  return CICLOS[cicloId]?.grupos || [];
}

function getEjesDeArea(areaId) {
  const areas = {
    'matematicas': typeof EBC_MATEMATICAS !== 'undefined' ? EBC_MATEMATICAS : null,
    'lenguaje': typeof EBC_LENGUAJE !== 'undefined' ? EBC_LENGUAJE : null,
    'ciencias-naturales': typeof EBC_NATURALES !== 'undefined' ? EBC_NATURALES : null,
    'ciencias-sociales': typeof EBC_SOCIALES !== 'undefined' ? EBC_SOCIALES : null
  };
  return areas[areaId]?.ejes || [];
}

function getEstandares(areaId, grupoEBC, ejeId) {
  const areas = {
    'matematicas': typeof EBC_MATEMATICAS !== 'undefined' ? EBC_MATEMATICAS : null,
    'lenguaje': typeof EBC_LENGUAJE !== 'undefined' ? EBC_LENGUAJE : null,
    'ciencias-naturales': typeof EBC_NATURALES !== 'undefined' ? EBC_NATURALES : null,
    'ciencias-sociales': typeof EBC_SOCIALES !== 'undefined' ? EBC_SOCIALES : null
  };
  const area = areas[areaId];
  if (!area || !area.grupos[grupoEBC]) return [];
  if (ejeId) {
    return area.grupos[grupoEBC].estandares[ejeId] || [];
  }
  // Todos los ejes
  const todos = [];
  for (const [eje, ests] of Object.entries(area.grupos[grupoEBC].estandares)) {
    todos.push(...ests.map(e => ({ eje, texto: e })));
  }
  return todos;
}

function getEstandarGeneral(areaId, grupoEBC) {
  const areas = {
    'matematicas': typeof EBC_MATEMATICAS !== 'undefined' ? EBC_MATEMATICAS : null,
    'lenguaje': typeof EBC_LENGUAJE !== 'undefined' ? EBC_LENGUAJE : null,
    'ciencias-naturales': typeof EBC_NATURALES !== 'undefined' ? EBC_NATURALES : null,
    'ciencias-sociales': typeof EBC_SOCIALES !== 'undefined' ? EBC_SOCIALES : null
  };
  return areas[areaId]?.grupos[grupoEBC]?.estandarGeneral || '';
}

function getDBA(areaId, grado) {
  if (typeof DBA === 'undefined') return [];
  return DBA[areaId]?.[grado] || [];
}

function getPlanPeriodo(grado, periodo) {
  if (typeof PLANES_MATEMATICAS === 'undefined') return null;
  const plan = PLANES_MATEMATICAS[grado];
  if (!plan) return null;
  return plan.periodos.find(p => p.periodo === periodo) || null;
}

function getPlanGrado(grado) {
  if (typeof PLANES_MATEMATICAS === 'undefined') return null;
  return PLANES_MATEMATICAS[grado] || null;
}

// Obtener todas las áreas con sus datos disponibles
function getResumenAreas() {
  return Object.entries(AREAS_EBC).map(([id, info]) => ({
    id,
    ...info,
    ejes: getEjesDeArea(id),
    gruposDisponibles: GRUPOS_EBC_ORDEN.filter(g => getEstandares(id, g).length > 0)
  }));
}
// articulacion.js — Motor de articulación vertical
// Muestra progresión de estándares entre grupos de grados: anterior | actual | siguiente

function getProgresionVertical(areaId, ejeId, grupoActual) {
  if (typeof PROGRESION_VERTICAL === 'undefined') return null;

  const progresionArea = PROGRESION_VERTICAL[areaId];
  if (!progresionArea || !progresionArea[ejeId]) return null;

  const secuencia = GRUPOS_EBC_ORDEN;
  const indexActual = secuencia.indexOf(grupoActual);
  if (indexActual === -1) return null;

  const progresionEje = progresionArea[ejeId];

  return {
    anterior: indexActual > 0 ? {
      grupo: secuencia[indexActual - 1],
      estandares: progresionEje[secuencia[indexActual - 1]] || []
    } : null,
    actual: {
      grupo: grupoActual,
      estandares: progresionEje[grupoActual] || []
    },
    siguiente: indexActual < secuencia.length - 1 ? {
      grupo: secuencia[indexActual + 1],
      estandares: progresionEje[secuencia[indexActual + 1]] || []
    } : null
  };
}

// Articulación vertical completa: todos los ejes de un área para un grupo
function getArticulacionCompleta(areaId, grupoActual) {
  const ejes = getEjesDeArea(areaId);
  const resultado = {};
  for (const eje of ejes) {
    resultado[eje.id] = getProgresionVertical(areaId, eje.id, grupoActual);
  }
  return resultado;
}

// Análisis de progresión: qué estándares del grupo anterior preparan para el actual
function getPrerequisitos(areaId, grupoActual) {
  const indexActual = GRUPOS_EBC_ORDEN.indexOf(grupoActual);
  if (indexActual <= 0) return { grupo: null, estandares: [] };

  const grupoAnterior = GRUPOS_EBC_ORDEN[indexActual - 1];
  return {
    grupo: grupoAnterior,
    estandares: getEstandares(areaId, grupoAnterior)
  };
}

// Análisis de continuidad: hacia dónde avanzan los estándares actuales
function getContinuidad(areaId, grupoActual) {
  const indexActual = GRUPOS_EBC_ORDEN.indexOf(grupoActual);
  if (indexActual >= GRUPOS_EBC_ORDEN.length - 1) return { grupo: null, estandares: [] };

  const grupoSiguiente = GRUPOS_EBC_ORDEN[indexActual + 1];
  return {
    grupo: grupoSiguiente,
    estandares: getEstandares(areaId, grupoSiguiente)
  };
}

// Obtener la línea completa de progresión de un eje (todos los grupos)
function getLineaProgresion(areaId, ejeId) {
  if (typeof PROGRESION_VERTICAL === 'undefined') return [];

  const progresionArea = PROGRESION_VERTICAL[areaId];
  if (!progresionArea || !progresionArea[ejeId]) return [];

  return GRUPOS_EBC_ORDEN.map(grupo => ({
    grupo,
    estandares: progresionArea[ejeId][grupo] || []
  }));
}
// busqueda.js — Búsqueda full-text en estándares EBC, DBA y planes

function normalizarTexto(texto) {
  return texto.toLowerCase()
    .normalize('NFD').replace(/[\u0300-\u036f]/g, '') // quitar tildes
    .replace(/[^\w\s]/g, ' ') // quitar puntuación
    .replace(/\s+/g, ' ').trim();
}

function buscarEstandares(query, filtroArea) {
  const queryNorm = normalizarTexto(query);
  if (!queryNorm || queryNorm.length < 2) return [];

  const palabras = queryNorm.split(' ').filter(p => p.length > 1);
  const resultados = [];

  const areas = filtroArea ? [filtroArea] : ['matematicas', 'lenguaje', 'ciencias-naturales', 'ciencias-sociales'];

  for (const areaId of areas) {
    for (const grupo of GRUPOS_EBC_ORDEN) {
      const estandaresGrupo = getEstandares(areaId, grupo);
      for (const est of estandaresGrupo) {
        const texto = typeof est === 'string' ? est : est.texto;
        const textoNorm = normalizarTexto(texto);
        const coincidencias = palabras.filter(p => textoNorm.includes(p)).length;

        if (coincidencias > 0) {
          resultados.push({
            tipo: 'estandar',
            area: areaId,
            grupo,
            eje: typeof est === 'object' ? est.eje : null,
            texto,
            relevancia: coincidencias / palabras.length
          });
        }
      }
    }
  }

  return resultados.sort((a, b) => b.relevancia - a.relevancia);
}

function buscarDBA(query, filtroArea) {
  if (typeof DBA === 'undefined') return [];

  const queryNorm = normalizarTexto(query);
  if (!queryNorm || queryNorm.length < 2) return [];

  const palabras = queryNorm.split(' ').filter(p => p.length > 1);
  const resultados = [];

  const areas = filtroArea ? [filtroArea] : Object.keys(DBA);

  for (const areaId of areas) {
    const areaDBA = DBA[areaId];
    if (!areaDBA) continue;

    for (const [grado, dbas] of Object.entries(areaDBA)) {
      for (const dba of dbas) {
        const textoNorm = normalizarTexto(dba);
        const coincidencias = palabras.filter(p => textoNorm.includes(p)).length;

        if (coincidencias > 0) {
          resultados.push({
            tipo: 'dba',
            area: areaId,
            grado,
            texto: dba,
            relevancia: coincidencias / palabras.length
          });
        }
      }
    }
  }

  return resultados.sort((a, b) => b.relevancia - a.relevancia);
}

function buscarTodo(query, filtroArea) {
  const estandares = buscarEstandares(query, filtroArea);
  const dbas = buscarDBA(query, filtroArea);
  const icfes = typeof buscarICFES === 'function' ? buscarICFES(query, filtroArea) : [];

  return [...estandares, ...dbas, ...icfes].sort((a, b) => b.relevancia - a.relevancia);
}
// exportacion.js — Exportación: PDF (print), JSON, CSV

function exportarPDF() {
  window.print();
}

function exportarJSON(datos, nombreArchivo) {
  const json = JSON.stringify(datos, null, 2);
  const blob = new Blob([json], { type: 'application/json' });
  descargarBlob(blob, nombreArchivo || 'articulacion-ebc.json');
}

function exportarCSV(datos, nombreArchivo) {
  if (!Array.isArray(datos) || datos.length === 0) return;

  const headers = Object.keys(datos[0]);
  const filas = datos.map(fila =>
    headers.map(h => {
      let val = fila[h];
      if (Array.isArray(val)) val = val.join('; ');
      if (typeof val === 'object' && val !== null) val = JSON.stringify(val);
      val = String(val || '');
      // Escapar comillas y encerrar si contiene comas o saltos de línea
      if (val.includes(',') || val.includes('"') || val.includes('\n')) {
        val = '"' + val.replace(/"/g, '""') + '"';
      }
      return val;
    }).join(',')
  );

  const csv = [headers.join(','), ...filas].join('\n');
  const blob = new Blob(['\uFEFF' + csv], { type: 'text/csv;charset=utf-8' });
  descargarBlob(blob, nombreArchivo || 'articulacion-ebc.csv');
}

function descargarBlob(blob, nombre) {
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = nombre;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// Exportar articulación vertical como tabla plana
function exportarArticulacionCSV(areaId, ejeId) {
  const linea = getLineaProgresion(areaId, ejeId);
  const filas = [];

  for (const item of linea) {
    for (const est of item.estandares) {
      filas.push({
        area: AREAS_EBC[areaId]?.nombre || areaId,
        eje: ejeId,
        grupo: item.grupo,
        estandar: est
      });
    }
  }

  const ejeNombre = getEjesDeArea(areaId).find(e => e.id === ejeId)?.nombre || ejeId;
  exportarCSV(filas, `articulacion-${areaId}-${ejeId}.csv`);
}

// Exportar plan de periodo como JSON
function exportarPlanJSON(grado, periodo) {
  const plan = getPlanPeriodo(String(grado), periodo);
  if (!plan) return;
  exportarJSON({ grado, periodo, ...plan }, `plan-matematicas-${grado}-P${periodo}.json`);
}

// Generar datos para exportar la vista actual
function prepararDatosExportacion(vista) {
  switch (vista.tipo) {
    case 'articulacion':
      return {
        titulo: `Articulación Vertical - ${AREAS_EBC[vista.area]?.nombre}`,
        area: vista.area,
        eje: vista.eje,
        datos: getLineaProgresion(vista.area, vista.eje)
      };
    case 'estandares':
      return {
        titulo: `Estándares - ${AREAS_EBC[vista.area]?.nombre} - Grupo ${vista.grupo}`,
        area: vista.area,
        grupo: vista.grupo,
        estandarGeneral: getEstandarGeneral(vista.area, vista.grupo),
        estandares: getEstandares(vista.area, vista.grupo)
      };
    case 'plan':
      return {
        titulo: `Plan de Periodo - Grado ${vista.grado} - Periodo ${vista.periodo}`,
        plan: getPlanPeriodo(String(vista.grado), vista.periodo)
      };
    default:
      return null;
  }
}
// almacenamiento.js — Persistencia en localStorage para institución, perfiles, preferencias

const STORAGE_PREFIX = 'articulador_ebc_';

const Storage = {
  // Guardar/leer genérico
  set(key, value) {
    try {
      localStorage.setItem(STORAGE_PREFIX + key, JSON.stringify(value));
      return true;
    } catch (e) {
      console.warn('Error guardando en localStorage:', e);
      return false;
    }
  },

  get(key, defaultValue) {
    try {
      const raw = localStorage.getItem(STORAGE_PREFIX + key);
      return raw ? JSON.parse(raw) : defaultValue;
    } catch (e) {
      return defaultValue;
    }
  },

  remove(key) {
    localStorage.removeItem(STORAGE_PREFIX + key);
  },

  // === INSTITUCIÓN ===
  getInstitucion() {
    return this.get('institucion', {
      nombre: '',
      dane: '',
      municipio: '',
      departamento: '',
      jornada: 'manana',
      annoLectivo: new Date().getFullYear()
    });
  },

  setInstitucion(data) {
    return this.set('institucion', data);
  },

  // === PREFERENCIAS ===
  getPreferencias() {
    return this.get('preferencias', {
      tema: 'auto', // 'dark', 'light', 'auto'
      areaDefault: null,
      cicloDefault: null,
      mostrarDBA: true,
      mostrarICFES: true,
      apiKeyGemini: ''
    });
  },

  setPreferencias(prefs) {
    return this.set('preferencias', prefs);
  },

  getApiKey() {
    return this.getPreferencias().apiKeyGemini || '';
  },

  setApiKey(key) {
    const prefs = this.getPreferencias();
    prefs.apiKeyGemini = key;
    return this.setPreferencias(prefs);
  },

  // === GRUPOS/CURSOS ===
  getGrupos() {
    return this.get('grupos', []);
  },

  addGrupo(grupo) {
    const grupos = this.getGrupos();
    grupo.id = grupo.id || 'g_' + Date.now();
    grupos.push(grupo);
    return this.set('grupos', grupos) ? grupo : null;
  },

  updateGrupo(id, data) {
    const grupos = this.getGrupos();
    const idx = grupos.findIndex(g => g.id === id);
    if (idx === -1) return false;
    grupos[idx] = { ...grupos[idx], ...data };
    return this.set('grupos', grupos);
  },

  removeGrupo(id) {
    const grupos = this.getGrupos().filter(g => g.id !== id);
    return this.set('grupos', grupos);
  },

  // === ESTUDIANTES CON NEE ===
  getEstudiantes(grupoId) {
    const todos = this.get('estudiantes', []);
    return grupoId ? todos.filter(e => e.grupoId === grupoId) : todos;
  },

  addEstudiante(est) {
    const todos = this.get('estudiantes', []);
    est.id = est.id || 'e_' + Date.now();
    todos.push(est);
    return this.set('estudiantes', todos) ? est : null;
  },

  updateEstudiante(id, data) {
    const todos = this.get('estudiantes', []);
    const idx = todos.findIndex(e => e.id === id);
    if (idx === -1) return false;
    todos[idx] = { ...todos[idx], ...data };
    return this.set('estudiantes', todos);
  },

  removeEstudiante(id) {
    const todos = this.get('estudiantes', []).filter(e => e.id !== id);
    return this.set('estudiantes', todos);
  },

  // === HISTORIAL IA ===
  getHistorialIA() {
    return this.get('historial_ia', []);
  },

  addHistorialIA(entrada) {
    const historial = this.getHistorialIA();
    entrada.fecha = new Date().toISOString();
    entrada.id = 'ia_' + Date.now();
    historial.unshift(entrada); // más reciente primero
    // Mantener solo últimos 50
    if (historial.length > 50) historial.length = 50;
    return this.set('historial_ia', historial);
  },

  // === ESTADO DE NAVEGACIÓN ===
  getUltimaVista() {
    return this.get('ultima_vista', { area: 'matematicas', grupo: '8-9', eje: null });
  },

  setUltimaVista(vista) {
    return this.set('ultima_vista', vista);
  },

  // === EXPORTAR/IMPORTAR TODO ===
  exportarTodo() {
    const data = {};
    for (let i = 0; i < localStorage.length; i++) {
      const key = localStorage.key(i);
      if (key.startsWith(STORAGE_PREFIX)) {
        data[key.replace(STORAGE_PREFIX, '')] = JSON.parse(localStorage.getItem(key));
      }
    }
    return data;
  },

  importarTodo(data) {
    for (const [key, value] of Object.entries(data)) {
      this.set(key, value);
    }
  },

  limpiarTodo() {
    const keys = [];
    for (let i = 0; i < localStorage.length; i++) {
      const key = localStorage.key(i);
      if (key.startsWith(STORAGE_PREFIX)) keys.push(key);
    }
    keys.forEach(k => localStorage.removeItem(k));
  }
};
// icfes.js — Acceso y articulación de datos ICFES (Saber 3°, 5°, 9°, 11°)
// Depende de: ICFES_MATEMATICAS, EBC_MATEMATICAS, DBA, GRUPOS_EBC_ORDEN, gradoAGrupoEBC(), normalizarTexto()

// Mapa de grados a prueba ICFES
const GRADO_A_PRUEBA = {
  '1': 'saber-3', '2': 'saber-3', '3': 'saber-3',
  '4': 'saber-5', '5': 'saber-5',
  '6': 'saber-9', '7': 'saber-9', '8': 'saber-9', '9': 'saber-9',
  '10': 'saber-11', '11': 'saber-11'
};

// Retorna el objeto ICFES completo para un área
function getICFESData(area) {
  if (area === 'matematicas') {
    return typeof ICFES_MATEMATICAS !== 'undefined' ? ICFES_MATEMATICAS : null;
  }
  if (area === 'lenguaje') {
    return typeof ICFES_LECTURA_CRITICA !== 'undefined' ? ICFES_LECTURA_CRITICA : null;
  }
  // Preparado para expandir: 'ciencias-naturales', 'ciencias-sociales'
  return null;
}

// Retorna array de pruebas disponibles: [{ id, nombre }, ...]
function getPruebasICFES(area) {
  const data = getICFESData(area);
  if (!data) return [];
  return Object.entries(data.pruebas).map(([id, prueba]) => ({
    id,
    nombre: prueba.nombre
  }));
}

// Dado un grado (string), retorna el id de la prueba ICFES correspondiente
function getPruebaParaGrado(grado) {
  return GRADO_A_PRUEBA[String(grado)] || null;
}

// Retorna aprendizajes filtrados de una prueba
// competencia y componente son opcionales
function getAprendizajesICFES(area, pruebaId, competencia, componente) {
  const data = getICFESData(area);
  if (!data || !data.pruebas[pruebaId]) return [];

  let aprendizajes = data.pruebas[pruebaId].aprendizajes || [];

  if (competencia) {
    aprendizajes = aprendizajes.filter(a => a.competencia === competencia);
  }
  if (componente) {
    aprendizajes = aprendizajes.filter(a => a.componente === componente);
  }

  return aprendizajes;
}

// Retorna las evidencias de un aprendizaje específico
function getEvidenciasICFES(area, pruebaId, aprendizajeId) {
  const data = getICFESData(area);
  if (!data || !data.pruebas[pruebaId]) return [];

  const aprendizaje = data.pruebas[pruebaId].aprendizajes.find(
    a => a.id === aprendizajeId
  );

  return aprendizaje?.evidencias || [];
}

// Retorna los niveles de desempeño de una prueba
function getNivelesDesempeno(area, pruebaId) {
  const data = getICFESData(area);
  if (!data || !data.pruebas[pruebaId]) return [];
  return data.pruebas[pruebaId].niveles || [];
}

// Dado un puntaje numérico, retorna el nivel de desempeño correspondiente
function getNivelPorPuntaje(area, pruebaId, puntaje) {
  const niveles = getNivelesDesempeno(area, pruebaId);
  return niveles.find(nivel => {
    const [min, max] = nivel.rango;
    return puntaje >= min && puntaje < max;
  }) || null;
}

// Articula estándares EBC con aprendizajes ICFES para un grupo de grados
// Retorna los datos agrupados para que la UI los muestre juntos (sin matching automático)
function articularEBCconICFES(area, grupoEBC) {
  const data = getICFESData(area);
  if (!data) return null;

  // Determina la prueba según el primer grado del grupo
  const primerGrado = grupoEBC.split('-')[0];
  const pruebaId = getPruebaParaGrado(primerGrado);
  if (!pruebaId || !data.pruebas[pruebaId]) return null;

  const prueba = data.pruebas[pruebaId];

  // Estándares EBC del grupo
  const estandaresGrupo = getEstandares(area, grupoEBC);

  return {
    grupoEBC,
    pruebaICFES: { id: pruebaId, nombre: prueba.nombre, grados: prueba.grados },
    aprendizajes: prueba.aprendizajes || [],
    componentes: data.componentes || [],
    competencias: data.competencias || [],
    estandaresEBC: estandaresGrupo
  };
}

// Retorna las competencias ICFES del área
function getCompetenciasICFES(area) {
  const data = getICFESData(area);
  return data?.competencias || [];
}

// Retorna los componentes ICFES del área
function getComponentesICFES(area) {
  const data = getICFESData(area);
  return data?.componentes || [];
}

// Búsqueda full-text en aprendizajes y evidencias ICFES
// Sigue el patrón de buscarEstandares() y buscarDBA()
function buscarICFES(query, filtroArea) {
  const queryNorm = normalizarTexto(query);
  if (!queryNorm || queryNorm.length < 2) return [];

  const palabras = queryNorm.split(' ').filter(p => p.length > 1);
  const resultados = [];

  const areas = filtroArea ? [filtroArea] : ['matematicas'];

  for (const area of areas) {
    const data = getICFESData(area);
    if (!data) continue;

    for (const [pruebaId, prueba] of Object.entries(data.pruebas)) {
      const aprendizajes = prueba.aprendizajes || [];

      for (const aprendizaje of aprendizajes) {
        // Buscar en el enunciado del aprendizaje
        const textoNorm = normalizarTexto(aprendizaje.enunciado);
        const coincidencias = palabras.filter(p => textoNorm.includes(p)).length;

        if (coincidencias > 0) {
          resultados.push({
            tipo: 'aprendizaje-icfes',
            area,
            prueba: pruebaId,
            id: aprendizaje.id,
            texto: aprendizaje.enunciado,
            competencia: aprendizaje.competencia,
            componente: aprendizaje.componente,
            relevancia: coincidencias / palabras.length
          });
        }

        // Buscar en cada evidencia del aprendizaje
        for (const evidencia of (aprendizaje.evidencias || [])) {
          const evNorm = normalizarTexto(evidencia.enunciado);
          const evCoincidencias = palabras.filter(p => evNorm.includes(p)).length;

          if (evCoincidencias > 0) {
            resultados.push({
              tipo: 'evidencia-icfes',
              area,
              prueba: pruebaId,
              id: evidencia.id,
              aprendizajeId: aprendizaje.id,
              texto: evidencia.enunciado,
              competencia: aprendizaje.competencia,
              componente: aprendizaje.componente,
              relevancia: evCoincidencias / palabras.length
            });
          }
        }
      }
    }
  }

  return resultados.sort((a, b) => b.relevancia - a.relevancia);
}

// connector.js — Conexión con Gemini API (free tier) + fallback "Abrir en Gemini"

const IA = {
  modelo: 'gemini-2.5-flash-lite',
  maxOutputTokens: 600,
  temperature: 0.7,
  urlBase: 'https://generativelanguage.googleapis.com/v1beta/models/',

  // Estimar tokens antes de enviar (4 chars ≈ 1 token)
  estimarTokens(texto) {
    return Math.ceil(texto.length / 4);
  },

  // Llamada a Gemini API
  async generar(prompt, opciones = {}) {
    const apiKey = Storage.getApiKey();
    if (!apiKey) {
      return { error: 'no_api_key', mensaje: 'Configure su API key de Gemini en Ajustes.' };
    }

    const modelo = opciones.modelo || this.modelo;
    const url = `${this.urlBase}${modelo}:generateContent?key=${apiKey}`;

    const tokensEstimados = this.estimarTokens(prompt);

    try {
      const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }],
          generationConfig: {
            maxOutputTokens: opciones.maxTokens || this.maxOutputTokens,
            temperature: opciones.temperature || this.temperature
          }
        })
      });

      if (!response.ok) {
        const err = await response.json().catch(() => ({}));
        if (response.status === 429) {
          return { error: 'rate_limit', mensaje: 'Límite de consultas alcanzado. Intente en unos minutos.' };
        }
        if (response.status === 403 || response.status === 401) {
          return { error: 'api_key_invalida', mensaje: 'API key inválida. Verifique su clave en Ajustes.' };
        }
        return { error: 'api_error', mensaje: err.error?.message || `Error ${response.status}` };
      }

      const data = await response.json();
      const texto = data.candidates?.[0]?.content?.parts?.[0]?.text || '';

      const resultado = {
        texto,
        tokensInput: tokensEstimados,
        tokensOutput: this.estimarTokens(texto),
        modelo
      };

      // Guardar en historial
      Storage.addHistorialIA({
        prompt: prompt.substring(0, 200) + '...',
        respuesta: texto.substring(0, 300) + '...',
        tokens: resultado.tokensInput + resultado.tokensOutput,
        modelo
      });

      return resultado;

    } catch (e) {
      if (e.name === 'TypeError' && e.message.includes('fetch')) {
        return { error: 'sin_conexion', mensaje: 'Sin conexión a internet. Use el botón "Abrir en Gemini" como alternativa.' };
      }
      return { error: 'desconocido', mensaje: e.message };
    }
  },

  // Fallback: abrir prompt en Gemini web (0 tokens, 0 API key)
  abrirEnGemini(prompt) {
    const encoded = encodeURIComponent(prompt);
    // Gemini web acepta texto via URL hasta ~4000 chars
    if (encoded.length > 4000) {
      // Copiar al portapapeles y abrir Gemini vacío
      navigator.clipboard?.writeText(prompt);
      window.open('https://gemini.google.com/app', '_blank');
      return { metodo: 'clipboard', mensaje: 'Prompt copiado al portapapeles. Péguelo en Gemini.' };
    }
    window.open(`https://gemini.google.com/app?q=${encoded}`, '_blank');
    return { metodo: 'url', mensaje: 'Abriendo Gemini con el prompt...' };
  },

  // Verificar si la API key funciona — retorna { ok, mensaje }
  async verificarApiKey(apiKey) {
    try {
      const url = `${this.urlBase}${this.modelo}:generateContent?key=${apiKey}`;
      const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{ parts: [{ text: 'Responde solo: OK' }] }],
          generationConfig: { maxOutputTokens: 10 }
        })
      });
      if (response.ok) return { ok: true, mensaje: 'API key válida' };
      const err = await response.json().catch(() => ({}));
      return { ok: false, mensaje: err.error?.message || `Error ${response.status}` };
    } catch (e) {
      return { ok: false, mensaje: e.message || 'Error de conexión' };
    }
  }
};
// templates.js — Prompts comprimidos para IA (<200 tokens input fijos cada uno)
// El contexto variable (estándares filtrados) se inyecta en tiempo de ejecución

const TEMPLATES_IA = {

  // 1. Diferenciación por NEE (~150 tokens fijos + contexto)
  diferenciacion(contexto) {
    return `Eres pedagogo colombiano experto en inclusión educativa.
[AREA] ${contexto.area} [GRADO] ${contexto.grado}° [PERIODO] ${contexto.periodo}
[EBC] ${contexto.estandar}
[NEE] ${contexto.tipoNEE}: ${contexto.descripcionNEE || ''}
[TAREA] Genera 3 actividades diferenciadas para este estudiante:
- Cada actividad: máx 80 palabras, aplicable en aula colombiana
- Incluye: recurso necesario + criterio de evaluación adaptado
[FORMATO] Lista numerada. Sin introducción.`;
  },

  // 2. Preguntas tipo ICFES (~120 tokens fijos + contexto)
  preguntasICFES(contexto) {
    return `Genera 3 preguntas tipo ICFES Saber 11.
[AREA] ${contexto.area} [GRADO] ${contexto.grado}°
[COMPETENCIA] ${contexto.competencia}
[COMPONENTE] ${contexto.componente}
[EVIDENCIA] ${contexto.evidencia}
[NIVEL] ${contexto.nivel || '2-3'}
Cada pregunta: enunciado + 4 opciones (A-D) + clave + justificación breve.
Contexto colombiano. Sin imágenes. Formato ICFES estricto.`;
  },

  // 3. Conexión interdisciplinar (~100 tokens fijos)
  interdisciplinar(contexto) {
    return `Eres pedagogo colombiano. Articula 2 áreas EBC.
[AREA 1] ${contexto.area1}: ${contexto.estandar1}
[AREA 2] ${contexto.area2}: ${contexto.estandar2}
[GRADO] ${contexto.grado}° [SEMANAS] ${contexto.semanas || 4}
[TAREA] Propón 2 proyectos integradores:
- Nombre + descripción (60 palabras c/u)
- Producto esperado del estudiante
- Criterios de evaluación (saber/hacer/ser)
Sin introducción. Formato lista.`;
  },

  // 4. Malla curricular personalizada (~180 tokens fijos + contexto)
  mallaPersonalizada(contexto) {
    return `Eres coordinador académico colombiano.
[INSTITUCION] ${contexto.institucion || 'IE Colombia'}
[AREA] ${contexto.area} [GRADO] ${contexto.grado}° [PERIODO] ${contexto.periodo}
[SEMANAS] ${contexto.semanas} [HORAS/SEM] ${contexto.horasSemana}
[EBC] ${contexto.estandares?.join(' | ') || ''}
[DBA] ${contexto.dba || ''}
[CONTEXTO] ${contexto.criteriosPriorizacion || 'Sin criterios específicos'}
[TAREA] Genera distribución semanal de contenidos:
- Semana X: Tema + actividad principal + evaluación
- Incluye semana de repaso y evaluación final
Máx ${contexto.semanas} líneas. Formato tabla markdown.`
  },

  // 5. Sugerencia pedagógica contextualizada (~90 tokens fijos)
  sugerenciaPedagogica(contexto) {
    return `Pedagogo colombiano experto en didáctica de ${contexto.area}.
[GRADO] ${contexto.grado}° [TEMA] ${contexto.tema}
[DIFICULTAD] ${contexto.diagnostico || 'No especificada'}
[TAREA] 3 estrategias metodológicas innovadoras:
- Nombre de la estrategia
- Descripción práctica (50 palabras)
- Recurso necesario (disponible en IE rural colombiana)
Sin introducción.`;
  }
};

// Construir prompt con contexto mínimo del plan actual
function construirPrompt(tipo, vistaActual, datosAdicionales = {}) {
  const plan = vistaActual.plan || {};
  const area = AREAS_EBC[vistaActual.area]?.nombre || vistaActual.area;
  const institucion = Storage.getInstitucion();

  const contextoBase = {
    area,
    grado: vistaActual.grado || '8',
    periodo: vistaActual.periodo || 1,
    semanas: plan.semanas || 10,
    horasSemana: plan.horasSemana || 4,
    estandar: plan.estandares?.[0] || '',
    estandares: plan.estandares,
    dba: plan.dba || '',
    diagnostico: plan.diagnostico || '',
    institucion: institucion.nombre,
    ...datosAdicionales
  };

  const template = TEMPLATES_IA[tipo];
  if (!template) return null;

  return template(contextoBase);
}

// Ejecutar acción IA con estimación previa
async function ejecutarIA(tipo, vistaActual, datosAdicionales = {}) {
  const prompt = construirPrompt(tipo, vistaActual, datosAdicionales);
  if (!prompt) return { error: 'template_no_encontrado' };

  const tokensEstimados = IA.estimarTokens(prompt);

  return {
    prompt,
    tokensEstimados,
    ejecutar: () => IA.generar(prompt),
    abrirEnGemini: () => IA.abrirEnGemini(prompt)
  };
}
// app.js — Articulador Curricular Saber ICFES - Main Application
// Router hash + rendering + event handlers

const EJE_SHORT_LABELS = {
  'Pensamiento Numérico y Sistemas Numéricos': 'Numérico',
  'Pensamiento Espacial y Sistemas Geométricos': 'Espacial',
  'Pensamiento Métrico y Sistemas de Medidas': 'Métrico',
  'Pensamiento Aleatorio y Sistemas de Datos': 'Aleatorio',
  'Pensamiento Variacional y Sistemas Algebraicos': 'Variacional',
  'Producción Textual': 'Producción',
  'Comprensión e Interpretación Textual': 'Comprensión',
  'Literatura': 'Literatura',
  'Medios de Comunicación y Otros Sistemas Simbólicos': 'Medios',
  'Ética de la Comunicación': 'Ética',
  'Entorno Vivo': 'Entorno Vivo',
  'Entorno Físico': 'Entorno Físico',
  'Ciencia, Tecnología y Sociedad': 'CTS',
  'Me Aproximo al Conocimiento como Científico Natural': 'Método Científico',
  'Relaciones con la Historia y las Culturas': 'Historia',
  'Relaciones Espaciales y Ambientales': 'Territorio',
  'Relaciones Ético-Políticas': 'Ético-Político'
};

const App = {
  state: {
    area: null,
    grupo: null,
    eje: null,
    grado: null,
    periodo: null,
    vista: 'home', // home | area | plan | busqueda | config
    sidebarOpen: false,
    iaPanelOpen: false,
    searchQuery: ''
  },

  init() {
    this.restoreState();
    this.bindEvents();
    this.applyTheme();
    this.render();
    window.addEventListener('hashchange', () => this.onHashChange());
    this.onHashChange();
  },

  // === THEME ===
  applyTheme() {
    const prefs = Storage.getPreferencias();
    if (prefs.tema === 'dark') document.documentElement.setAttribute('data-theme', 'dark');
    else if (prefs.tema === 'light') document.documentElement.setAttribute('data-theme', 'light');
    else document.documentElement.removeAttribute('data-theme');
  },

  toggleTheme() {
    const prefs = Storage.getPreferencias();
    const temas = ['auto', 'dark', 'light'];
    const idx = temas.indexOf(prefs.tema || 'auto');
    prefs.tema = temas[(idx + 1) % 3];
    Storage.setPreferencias(prefs);
    this.applyTheme();
    this.updateThemeIcon();
  },

  updateThemeIcon() {
    const prefs = Storage.getPreferencias();
    const btn = document.getElementById('theme-toggle');
    if (btn) btn.textContent = prefs.tema === 'dark' ? '☽' : prefs.tema === 'light' ? '☀' : '◐';
  },

  // === ROUTING ===
  onHashChange() {
    const hash = location.hash.slice(1) || '/';
    const parts = hash.split('/').filter(Boolean);

    if (parts[0] === 'area' && parts[1]) {
      this.state.vista = 'area';
      this.state.area = parts[1];
      this.state.grupo = parts[2] || '8-9';
      this.state.eje = parts[3] || null;
    } else if (parts[0] === 'plan' && parts[1]) {
      this.state.vista = 'plan';
      this.state.grado = parts[1];
      this.state.periodo = parseInt(parts[2]) || 1;
      this.state.area = 'matematicas';
    } else if (parts[0] === 'busqueda') {
      this.state.vista = 'busqueda';
      this.state.searchQuery = decodeURIComponent(parts[1] || '');
    } else if (parts[0] === 'config') {
      this.state.vista = 'config';
    } else {
      this.state.vista = 'home';
    }

    this.saveState();
    this.render();
  },

  navigate(hash) {
    location.hash = hash;
  },

  // === STATE PERSISTENCE ===
  saveState() {
    Storage.setUltimaVista({ area: this.state.area, grupo: this.state.grupo, eje: this.state.eje });
  },

  restoreState() {
    const last = Storage.getUltimaVista();
    if (last) {
      this.state.area = last.area;
      this.state.grupo = last.grupo;
      this.state.eje = last.eje;
    }
  },

  // === EVENTS ===
  bindEvents() {
    document.addEventListener('click', (e) => {
      const target = e.target.closest('[data-action]');
      if (!target) return;
      const action = target.dataset.action;
      const val = target.dataset.value;

      switch (action) {
        case 'toggle-theme': this.toggleTheme(); break;
        case 'toggle-sidebar':
          this.state.sidebarOpen = !this.state.sidebarOpen;
          this.updateSidebar();
          break;
        case 'close-sidebar':
          this.state.sidebarOpen = false;
          this.updateSidebar();
          break;
        case 'navigate': this.navigate(val); break;
        case 'toggle-ia':
          this.state.iaPanelOpen = !this.state.iaPanelOpen;
          this.updateIAPanel();
          break;
        case 'export-pdf': exportarPDF(); break;
        case 'export-json':
          const data = prepararDatosExportacion({ tipo: this.state.vista, area: this.state.area, grupo: this.state.grupo, grado: this.state.grado, periodo: this.state.periodo });
          if (data) exportarJSON(data);
          break;
        case 'open-config': this.navigate('#/config'); break;
        case 'ia-action': this.handleIAAction(val); break;
        case 'ia-gemini': this.handleIAGemini(val); break;
      }
    });

    // Search input
    document.addEventListener('input', (e) => {
      if (e.target.id === 'search-input') {
        this.handleSearch(e.target.value);
      }
    });

    // Select changes
    document.addEventListener('change', (e) => {
      if (e.target.id === 'select-ciclo') this.onCicloChange(e.target.value);
      if (e.target.id === 'select-grupo') this.onGrupoChange(e.target.value);
      if (e.target.id === 'select-area') this.onAreaChange(e.target.value);
      if (e.target.id === 'select-eje') this.onEjeChange(e.target.value);
    });
  },

  // === FILTER HANDLERS ===
  onCicloChange(ciclo) {
    const grupos = getGruposPorCiclo(ciclo);
    this.state.grupo = grupos[0] || '8-9';
    this.navigate(`#/area/${this.state.area || 'matematicas'}/${this.state.grupo}`);
  },

  onGrupoChange(grupo) {
    this.state.grupo = grupo;
    this.navigate(`#/area/${this.state.area || 'matematicas'}/${grupo}${this.state.eje ? '/' + this.state.eje : ''}`);
  },

  onAreaChange(area) {
    this.state.area = area;
    document.body.setAttribute('data-area', area);
    this.navigate(`#/area/${area}/${this.state.grupo || '8-9'}`);
  },

  onEjeChange(eje) {
    this.state.eje = eje || null;
    this.navigate(`#/area/${this.state.area}/${this.state.grupo}${eje ? '/' + eje : ''}`);
  },

  // === SEARCH ===
  handleSearch(query) {
    const results = document.getElementById('search-results');
    if (!results) return;

    if (query.length < 2) {
      results.innerHTML = '';
      results.style.display = 'none';
      return;
    }

    const items = buscarTodo(query);
    if (items.length === 0) {
      results.innerHTML = '<div class="search-result-item"><span class="text-muted text-sm">Sin resultados</span></div>';
      results.style.display = 'block';
      return;
    }

    const pruebaAGrupo = { 'saber-3': '1-3', 'saber-5': '4-5', 'saber-9': '8-9', 'saber-11': '10-11' };
    results.innerHTML = items.slice(0, 8).map(item => {
      const grupoNav = item.grupo || (item.prueba ? pruebaAGrupo[item.prueba] : null) || gradoAGrupoEBC(item.grado || '8');
      const grupoLabel = item.grupo || (item.prueba ? pruebaAGrupo[item.prueba] : null) || ('Grado ' + item.grado);
      return `
        <div class="search-result-item" data-action="navigate" data-value="#/area/${item.area}/${grupoNav}">
          <span class="search-result-type">${item.tipo.toUpperCase()} · ${AREAS_EBC[item.area]?.nombre || item.area}</span>
          <div class="search-result-text">${highlightText(item.texto, query)}</div>
          <span class="badge badge-muted">${grupoLabel}</span>
        </div>
      `;
    }).join('');
    results.style.display = 'block';
  },

  // === IA HANDLERS ===
  async handleIAAction(tipo) {
    const resultado = await ejecutarIA(tipo, {
      area: this.state.area,
      grado: this.state.grado || (this.state.grupo ? grupoAGrados(this.state.grupo)[0] : 8),
      periodo: this.state.periodo || 1,
      plan: getPlanPeriodo(String(this.state.grado || 8), this.state.periodo || 1)
    });

    if (!resultado || resultado.error) {
      this.showIAResponse(resultado?.error || 'Error desconocido');
      return;
    }

    // Show token estimate
    this.updateTokenEstimate(resultado.tokensEstimados);

    // Execute
    const resp = await resultado.ejecutar();
    if (resp.error) {
      this.showIAResponse(`Error: ${resp.mensaje}`);
    } else {
      this.showIAResponse(resp.texto);
    }
  },

  handleIAGemini(tipo) {
    const resultado = ejecutarIA(tipo, {
      area: this.state.area,
      grado: this.state.grado || 8,
      periodo: this.state.periodo || 1,
      plan: getPlanPeriodo(String(this.state.grado || 8), this.state.periodo || 1)
    });

    // ejecutarIA is sync for prompt building
    if (resultado.then) {
      resultado.then(r => {
        if (r.prompt) IA.abrirEnGemini(r.prompt);
      });
    }
  },

  showIAResponse(texto) {
    const el = document.getElementById('ia-response');
    if (el) {
      el.textContent = texto;
      el.classList.remove('loading');
    }
  },

  updateTokenEstimate(tokens) {
    const fill = document.getElementById('ia-token-fill');
    const label = document.getElementById('ia-token-label');
    if (fill) fill.style.width = Math.min(tokens / 10, 100) + '%';
    if (label) label.textContent = `~${tokens} tokens`;
  },

  updateSidebar() {
    const sidebar = document.querySelector('.app-sidebar');
    const backdrop = document.querySelector('.sidebar-backdrop');
    if (sidebar) sidebar.classList.toggle('open', this.state.sidebarOpen);
    if (backdrop) backdrop.classList.toggle('open', this.state.sidebarOpen);
  },

  updateIAPanel() {
    const panel = document.querySelector('.ia-panel');
    if (panel) panel.classList.toggle('open', this.state.iaPanelOpen);
  },

  // === MAIN RENDER ===
  render() {
    document.body.setAttribute('data-area', this.state.area || 'matematicas');
    this.updateThemeIcon();

    const main = document.getElementById('main-content');
    if (!main) return;

    switch (this.state.vista) {
      case 'home': main.innerHTML = this.renderHome(); break;
      case 'area': main.innerHTML = this.renderArea(); break;
      case 'plan': main.innerHTML = this.renderPlan(); break;
      case 'busqueda': main.innerHTML = this.renderBusqueda(); break;
      case 'config': main.innerHTML = this.renderConfig(); break;
    }

    this.renderSidebar();
  },

  // === VIEW: HOME ===
  renderHome() {
    const inst = Storage.getInstitucion();
    return `
      <div class="print-header">
        <div class="print-header-title">Articulador Curricular Saber ICFES</div>
        <div class="print-header-subtitle">${inst.nombre || 'MEN Colombia'} · ${new Date().getFullYear()}</div>
      </div>

      <h1 class="section-title">Diseño Curricular Saber ICFES</h1>
      <p class="section-description">
        Navegue los Estándares Básicos de Competencias, DBA y aprendizajes ICFES alineados a las pruebas Saber.
        Analice la progresión vertical entre grados y genere articulaciones curriculares. Seleccione un área para comenzar.
      </p>

      <div class="areas-grid">
        ${this.renderAreaCards()}
      </div>

      ${this.renderQuickFilters()}

      <div class="ia-panel" id="ia-panel-home">
        <div class="ia-panel-header" data-action="toggle-ia">
          <div class="ia-panel-title"><span class="ia-dot"></span> Inteligencia Pedagógica</div>
          <span class="badge badge-ia">Gemini</span>
        </div>
        <div class="ia-panel-body">
          <p class="text-sm text-secondary mb-4">
            Configure su API key de Gemini para obtener articulaciones personalizadas, o use el botón "Abrir en Gemini" para consultas sin costo.
          </p>
          <div class="flex gap-2">
            <button class="btn btn-secondary btn-sm" data-action="open-config">Configurar API Key</button>
            <button class="btn btn-ia btn-sm" data-action="ia-gemini" data-value="sugerenciaPedagogica">
              Abrir en Gemini
            </button>
          </div>
        </div>
      </div>
    `;
  },

  renderAreaCards() {
    return Object.entries(AREAS_EBC).map(([id, info]) => {
      const ejes = getEjesDeArea(id);
      return `
        <div class="area-card card-accent ${id.split('-')[0]}" data-action="navigate" data-value="#/area/${id}/8-9" style="--accent: var(--${id === 'matematicas' ? 'mat' : id === 'lenguaje' ? 'len' : id === 'ciencias-naturales' ? 'nat' : 'soc'})">
          <div class="area-card-icon">${info.icon}</div>
          <div class="area-card-name">${info.nombre}</div>
          <div class="chip-group mt-2">
            ${ejes.slice(0, 3).map(e => {
              const label = EJE_SHORT_LABELS[e.nombre] || e.nombre.split(' ')[0];
              return '<span class="badge badge-muted">' + label + '</span>';
            }).join('')}
            ${ejes.length > 3 ? `<span class="badge badge-muted">+${ejes.length - 3}</span>` : ''}
          </div>
          <div class="area-card-count mt-2">${ejes.length} ejes · 5 grupos de grados</div>
        </div>
      `;
    }).join('');
  },

  renderQuickFilters() {
    return `
      <div class="card mt-4">
        <div class="card-header">
          <span class="card-title">Acceso Rápido por Grado</span>
        </div>
        <div class="card-body">
          <div class="filter-bar" style="border:none; padding:0; background:none;">
            <div class="select-wrap">
              <label class="select-label">Ciclo</label>
              <select class="select" id="select-ciclo">
                ${Object.entries(CICLOS).map(([id, c]) => `<option value="${id}">${c.nombre}</option>`).join('')}
              </select>
            </div>
            <div class="select-wrap">
              <label class="select-label">Área</label>
              <select class="select" id="select-area">
                ${Object.entries(AREAS_EBC).map(([id, a]) => `<option value="${id}">${a.nombre}</option>`).join('')}
              </select>
            </div>
            <button class="btn btn-primary" onclick="App.navigate('#/area/' + document.getElementById('select-area').value + '/' + getGruposPorCiclo(document.getElementById('select-ciclo').value)[0])">
              Ver Estándares
            </button>
          </div>

          <div class="flex gap-2 mt-4" style="flex-wrap:wrap">
            ${['8','9','10','11'].map(g => `
              <button class="btn btn-secondary btn-sm" data-action="navigate" data-value="#/plan/${g}/1">
                Plan Matemáticas ${g}°
              </button>
            `).join('')}
          </div>
        </div>
      </div>
    `;
  },

  // === VIEW: AREA (EBC + Articulación) ===
  renderArea() {
    const area = this.state.area || 'matematicas';
    const grupo = this.state.grupo || '8-9';
    const eje = this.state.eje;
    const info = AREAS_EBC[area];
    const ejes = getEjesDeArea(area);
    const estandarGeneral = getEstandarGeneral(area, grupo);

    return `
      <div class="print-header">
        <div class="print-header-title">${info?.nombre || area} — Grupo ${grupo}</div>
        <div class="print-header-subtitle">Articulador Curricular Saber ICFES · MEN Colombia</div>
      </div>

      <div class="flex items-center justify-between" style="flex-wrap:wrap; gap:var(--sp-3)">
        <h1 class="section-title">${info?.nombre || area}</h1>
        <div class="flex gap-2">
          <button class="btn btn-secondary btn-sm" data-action="export-pdf">Exportar PDF</button>
          <button class="btn btn-secondary btn-sm" data-action="export-json">Exportar JSON</button>
        </div>
      </div>

      <!-- Filtros -->
      <div class="filter-bar">
        <div class="select-wrap">
          <label class="select-label">Grupo de Grados</label>
          <select class="select" id="select-grupo">
            ${GRUPOS_EBC_ORDEN.map(g => `<option value="${g}" ${g === grupo ? 'selected' : ''}>Grados ${g}</option>`).join('')}
          </select>
        </div>
        <div class="select-wrap">
          <label class="select-label">Eje / Pensamiento</label>
          <select class="select" id="select-eje">
            <option value="">Todos los ejes</option>
            ${ejes.map(e => `<option value="${e.id}" ${e.id === eje ? 'selected' : ''}>${e.nombre}</option>`).join('')}
          </select>
        </div>
      </div>

      <!-- Estándar General -->
      ${estandarGeneral ? `
        <div class="card card-accent">
          <div class="card-body">
            <div class="text-xs font-bold uppercase text-muted mb-2">Estándar General — Grados ${grupo}</div>
            <p class="text-secondary" style="line-height:var(--leading-loose)">${estandarGeneral}</p>
          </div>
        </div>
      ` : ''}

      <!-- Estándares por eje -->
      ${this.renderEstandaresPorEje(area, grupo, eje, ejes)}

      <!-- Articulación Vertical -->
      <h2 class="section-title mt-4">Articulación Vertical</h2>
      <p class="section-description">Progresión de estándares entre grupos de grados: cómo evoluciona cada eje desde grados anteriores hacia los siguientes.</p>
      ${this.renderArticulacionVertical(area, grupo, eje, ejes)}

      <!-- DBA del grupo -->
      ${this.renderDBAGrupo(area, grupo)}

      <!-- ICFES: Aprendizajes, Evidencias y Niveles -->
      ${this.renderICFESSection(area, grupo, eje)}

      <!-- Panel IA -->
      ${this.renderIAPanel()}
    `;
  },

  renderEstandaresPorEje(area, grupo, ejeFiltro, ejes) {
    const ejesToRender = ejeFiltro ? ejes.filter(e => e.id === ejeFiltro) : ejes;

    return ejesToRender.map(eje => {
      const ests = getEstandares(area, grupo, eje.id);
      if (!ests.length) return '';
      return `
        <div class="card card-accent mt-4" style="border-left-color: ${eje.color}">
          <div class="card-header">
            <div>
              <span class="card-title">${eje.nombre}</span>
              <span class="badge badge-muted ml-2">${ests.length} estándares</span>
            </div>
            <span class="chip-dot" style="background:${eje.color}; width:10px; height:10px; border-radius:50%; display:inline-block;"></span>
          </div>
          <div class="card-body">
            ${ests.map(e => `<div class="estandar-item">${e}</div>`).join('')}
          </div>
        </div>
      `;
    }).join('');
  },

  renderArticulacionVertical(area, grupo, ejeFiltro, ejes) {
    const ejeTarget = ejeFiltro || (ejes[0]?.id);
    if (!ejeTarget) return '<div class="empty-state"><p class="empty-state-text">Seleccione un eje para ver la articulación vertical.</p></div>';

    // Tabs for ejes
    const tabs = `
      <div class="tabs mb-4">
        ${ejes.map(e => `
          <button class="tab ${e.id === ejeTarget ? 'active' : ''}"
                  onclick="App.navigate('#/area/${area}/${grupo}/${e.id}')">
            ${EJE_SHORT_LABELS[e.nombre] || e.nombre}
          </button>
        `).join('')}
      </div>
    `;

    const prog = getProgresionVertical(area, ejeTarget, grupo);
    if (!prog) return tabs + '<div class="empty-state"><p class="empty-state-text">No hay datos de progresión para este eje.</p></div>';

    return tabs + `
      <div class="articulacion-panel">
        ${prog.anterior ? `
          <div class="articulacion-col anterior">
            <div class="articulacion-col-header">
              <span class="grupo-label">Grados ${prog.anterior.grupo}</span>
              <span class="grupo-badge text-muted">Anterior</span>
            </div>
            <div class="articulacion-col-body">
              ${prog.anterior.estandares.map(e => `<div class="estandar-item">${e}</div>`).join('')}
            </div>
          </div>
        ` : `
          <div class="articulacion-col anterior">
            <div class="articulacion-empty">Inicio del ciclo escolar</div>
          </div>
        `}

        <div class="articulacion-col actual">
          <div class="articulacion-col-header">
            <span class="grupo-label">Grados ${prog.actual.grupo}</span>
            <span class="grupo-badge badge badge-accent">Actual</span>
          </div>
          <div class="articulacion-col-body">
            ${prog.actual.estandares.map(e => `<div class="estandar-item highlight">${e}</div>`).join('')}
          </div>
        </div>

        ${prog.siguiente ? `
          <div class="articulacion-col siguiente">
            <div class="articulacion-col-header">
              <span class="grupo-label">Grados ${prog.siguiente.grupo}</span>
              <span class="grupo-badge text-muted">Siguiente</span>
            </div>
            <div class="articulacion-col-body">
              ${prog.siguiente.estandares.map(e => `<div class="estandar-item">${e}</div>`).join('')}
            </div>
          </div>
        ` : `
          <div class="articulacion-col siguiente">
            <div class="articulacion-empty">Fin del ciclo escolar</div>
          </div>
        `}
      </div>
    `;
  },

  renderDBAGrupo(area, grupo) {
    const grados = grupoAGrados(grupo);
    const dbaItems = grados.flatMap(g => {
      const dbas = getDBA(area, String(g));
      return dbas.map(d => ({ grado: g, texto: d }));
    });

    if (!dbaItems.length) return '';

    return `
      <div class="card mt-4">
        <div class="card-header">
          <span class="card-title">DBA — Derechos Básicos de Aprendizaje</span>
          <span class="badge badge-muted">Grados ${grupo}</span>
        </div>
        <div class="card-body">
          ${dbaItems.map(d => `
            <div class="estandar-item">
              <span class="badge badge-accent mb-2">${d.grado}°</span>
              ${d.texto}
            </div>
          `).join('')}
        </div>
      </div>
    `;
  },

  // === ICFES SECTION ===
  renderICFESSection(area, grupo, ejeFiltro) {
    if (typeof articularEBCconICFES !== 'function') return '';
    const articulacion = articularEBCconICFES(area, grupo);
    if (!articulacion) return '';

    const { pruebaICFES, aprendizajes, competencias, componentes } = articulacion;
    const niveles = getNivelesDesempeno(area, pruebaICFES.id);

    // Mapeo eje EBC → componente ICFES (Matemáticas)
    // Mapeo eje EBC → componente ICFES por área
    const EJE_A_COMPONENTE = {
      // Matemáticas
      'numerico': 'numerico-variacional',
      'variacional': 'numerico-variacional',
      'espacial': 'geometrico-metrico',
      'metrico': 'geometrico-metrico',
      'aleatorio': 'aleatorio',
      // Lenguaje
      'comprension': 'semantico',
      'literatura': 'semantico',
      'produccion': 'sintactico',
      'medios': 'pragmatico',
      'etica': 'pragmatico'
    };
    const componenteFiltro = ejeFiltro ? EJE_A_COMPONENTE[ejeFiltro] : null;
    const componentesFiltrados = componenteFiltro
      ? componentes.filter(c => c.id === componenteFiltro)
      : componentes;

    // Agrupar aprendizajes por componente
    const porComponente = {};
    for (const comp of componentesFiltrados) {
      porComponente[comp.id] = aprendizajes.filter(a => a.componente === comp.id);
    }

    const totalAprendizajes = Object.values(porComponente).reduce((s, a) => s + a.length, 0);
    const filtroLabel = componenteFiltro
      ? componentesFiltrados[0]?.nombre || ''
      : 'todos los componentes';

    return `
      <h2 class="section-title mt-4">ICFES — ${pruebaICFES.nombre}</h2>
      <p class="section-description">
        ${componenteFiltro
          ? `Aprendizajes del componente <strong>${filtroLabel}</strong> (filtrado por eje seleccionado). <a href="#/area/${area}/${grupo}" class="text-accent" style="text-decoration:underline">Ver todos</a>`
          : 'Aprendizajes evaluados, evidencias y niveles de desempeño según el marco de referencia ICFES para este grupo de grados.'}
      </p>

      <!-- Competencias y componentes -->
      <div class="flex gap-2 mb-4" style="flex-wrap:wrap">
        ${competencias.map(c => `<span class="badge badge-accent">${c.nombre}</span>`).join('')}
        <span class="text-muted">·</span>
        ${componentes.map(c => `<span class="badge ${componenteFiltro && c.id === componenteFiltro ? 'badge-accent' : 'badge-muted'}">${c.nombre}</span>`).join('')}
      </div>

      <!-- Aprendizajes por componente -->
      ${componentesFiltrados.map(comp => {
        const aprends = porComponente[comp.id] || [];
        if (!aprends.length) return '';
        return `
          <div class="card card-accent mt-3">
            <div class="card-header">
              <span class="card-title">${comp.nombre}</span>
              <span class="badge badge-muted">${aprends.length} aprendizajes</span>
            </div>
            <div class="card-body">
              ${aprends.map(a => `
                <details class="icfes-aprendizaje">
                  <summary class="estandar-item" style="cursor:pointer; list-style:none">
                    <div class="flex items-center gap-2" style="flex-wrap:wrap">
                      <span class="badge badge-accent" style="font-size:0.65rem">${a.competencia}</span>
                      <span>${a.enunciado}</span>
                    </div>
                  </summary>
                  <div class="icfes-evidencias">
                    ${a.evidencias.map(e => `
                      <div class="icfes-evidencia-item">
                        <span class="text-muted text-xs">${e.id}</span> ${e.enunciado}
                      </div>
                    `).join('')}
                  </div>
                </details>
              `).join('')}
            </div>
          </div>
        `;
      }).join('')}

      <!-- Niveles de desempeño -->
      <div class="card mt-4">
        <div class="card-header">
          <span class="card-title">Niveles de Desempeño — ${pruebaICFES.nombre}</span>
        </div>
        <div class="card-body">
          <div class="icfes-niveles-grid">
            ${niveles.map(nivel => `
              <div class="icfes-nivel" style="border-left: 4px solid ${nivel.color}">
                <div class="flex items-center gap-2 mb-2">
                  <span class="icfes-nivel-dot" style="background:${nivel.color}"></span>
                  <strong>${nivel.nombre}</strong>
                  <span class="text-muted text-xs">(${nivel.rango[0]}–${nivel.rango[1]})</span>
                </div>
                <p class="text-sm text-secondary" style="line-height:var(--leading-loose)">${nivel.descripcion}</p>
                ${nivel.aprendizajesEsperados.length > 0 ? `
                  <div class="flex gap-1 mt-2" style="flex-wrap:wrap">
                    ${nivel.aprendizajesEsperados.map(id => `<span class="badge badge-muted" style="font-size:0.6rem">${id}</span>`).join('')}
                  </div>
                ` : ''}
              </div>
            `).join('')}
          </div>
        </div>
      </div>

      <!-- Preguntas tipo ICFES -->
      ${this.renderPreguntasICFES(area, pruebaICFES.id, componenteFiltro)}
    `;
  },

  // === PREGUNTAS TIPO ICFES (offline) ===
  renderPreguntasICFES(area, pruebaId, componenteFiltro) {
    if (typeof PREGUNTAS_ICFES === 'undefined') return '';
    const preguntas = PREGUNTAS_ICFES[area]?.[pruebaId];
    if (!preguntas || !preguntas.length) return '';

    const filtradas = componenteFiltro
      ? preguntas.filter(p => p.componente === componenteFiltro)
      : preguntas;

    if (!filtradas.length) return '';

    return `
      <div class="card mt-4">
        <div class="card-header">
          <span class="card-title">Preguntas Tipo ICFES</span>
          <span class="badge badge-muted">${filtradas.length} preguntas · offline</span>
        </div>
        <div class="card-body">
          <p class="text-sm text-muted mb-3">Ejemplos para práctica en el aula. Formato Saber con 4 opciones de respuesta única.</p>
          ${filtradas.map((p, i) => `
            <details class="icfes-pregunta">
              <summary class="icfes-pregunta-header">
                <div class="flex items-center gap-2" style="flex-wrap:wrap">
                  <span class="badge badge-accent" style="font-size:0.65rem">${p.competencia}</span>
                  <span class="badge badge-muted" style="font-size:0.6rem">${p.componente}</span>
                  <span class="text-sm"><strong>${i + 1}.</strong> ${p.enunciado.length > 120 ? p.enunciado.substring(0, 120) + '...' : p.enunciado}</span>
                </div>
              </summary>
              <div class="icfes-pregunta-body">
                <div class="icfes-pregunta-enunciado">${p.enunciado}</div>
                <div class="icfes-opciones">
                  ${p.opciones.map(o => `
                    <div class="icfes-opcion ${o.letra === p.clave ? 'icfes-opcion-correcta' : ''}">
                      <span class="icfes-opcion-letra">${o.letra}</span>
                      <span>${o.texto}</span>
                    </div>
                  `).join('')}
                </div>
                <details class="icfes-justificacion">
                  <summary class="text-sm text-accent" style="cursor:pointer">Ver justificación</summary>
                  <p class="text-sm text-secondary mt-2" style="line-height:var(--leading-loose)">${p.justificacion}</p>
                </details>
              </div>
            </details>
          `).join('')}
        </div>
      </div>
    `;
  },

  // === VIEW: PLAN DE PERIODO ===
  renderPlan() {
    const grado = this.state.grado || '8';
    const periodo = this.state.periodo || 1;
    const planGrado = getPlanGrado(grado);
    const plan = getPlanPeriodo(grado, periodo);

    if (!planGrado || !plan) {
      return `
        <div class="empty-state">
          <div class="empty-state-icon">📋</div>
          <div class="empty-state-title">Plan no disponible</div>
          <p class="empty-state-text">Los planes de periodo detallados están disponibles para Matemáticas grados 8° a 11°.</p>
          <button class="btn btn-primary mt-4" data-action="navigate" data-value="#/">Volver al inicio</button>
        </div>
      `;
    }

    return `
      <div class="print-header">
        <div class="print-header-title">Plan de Periodo — Matemáticas ${grado}° · Periodo ${periodo}</div>
        <div class="print-header-subtitle">${Storage.getInstitucion().nombre || 'Articulador Curricular Saber ICFES'}</div>
      </div>

      <div class="flex items-center justify-between" style="flex-wrap:wrap; gap:var(--sp-3)">
        <div>
          <h1 class="section-title">Matemáticas ${grado}° — Periodo ${periodo}</h1>
          <p class="text-sm text-secondary">${planGrado.objetivo}</p>
        </div>
        <div class="flex gap-2">
          <button class="btn btn-secondary btn-sm" data-action="export-pdf">PDF</button>
          <button class="btn btn-secondary btn-sm" data-action="export-json">JSON</button>
        </div>
      </div>

      <!-- Tabs de periodos -->
      <div class="tabs">
        ${[1,2,3,4].map(p => `
          <button class="tab ${p === periodo ? 'active' : ''}" data-action="navigate" data-value="#/plan/${grado}/${p}">
            Periodo ${p}
          </button>
        `).join('')}
      </div>

      <!-- Info general -->
      <div class="flex gap-4 mt-4" style="flex-wrap:wrap">
        <span class="badge badge-muted">${plan.semanas} semanas</span>
        <span class="badge badge-muted">${plan.horasSemana} h/semana</span>
        <span class="badge badge-muted">${plan.horasTotales} horas total</span>
        ${plan.tiposPensamiento.map(t => `<span class="badge badge-accent">${t}</span>`).join('')}
      </div>

      <!-- Plan Grid -->
      <div class="plan-grid mt-4">
        <!-- Estándares -->
        <div class="plan-section plan-section-full">
          <div class="plan-section-title">Estándares EBC</div>
          <ul class="plan-list">
            ${plan.estandares.map(e => `<li>${e}</li>`).join('')}
          </ul>
        </div>

        <!-- DBA -->
        <div class="plan-section">
          <div class="plan-section-title">DBA</div>
          <p class="text-sm text-secondary" style="line-height:var(--leading-loose)">${plan.dba}</p>
        </div>

        <!-- Diagnóstico -->
        <div class="plan-section">
          <div class="plan-section-title">Diagnóstico</div>
          <p class="text-sm text-secondary" style="line-height:var(--leading-loose)">${plan.diagnostico}</p>
        </div>

        <!-- Ejes temáticos -->
        <div class="plan-section">
          <div class="plan-section-title">Ejes Temáticos</div>
          <ul class="plan-list">
            ${plan.ejesTematicos.map(e => `<li>${e}</li>`).join('')}
          </ul>
        </div>

        <!-- Pregunta problema -->
        <div class="plan-section">
          <div class="plan-section-title">Pregunta Problema</div>
          <p class="text-sm text-secondary" style="line-height:var(--leading-loose); font-style:italic">${plan.preguntaProblema}</p>
        </div>

        <!-- Competencias ICFES -->
        <div class="plan-section plan-section-full">
          <div class="plan-section-title">Competencias ICFES</div>
          <div class="icfes-grid">
            <div class="icfes-item">
              <div class="icfes-item-label">Razonamiento</div>
              <div class="icfes-item-text">${plan.competenciasICFES.razonamiento}</div>
            </div>
            <div class="icfes-item">
              <div class="icfes-item-label">Comunicación</div>
              <div class="icfes-item-text">${plan.competenciasICFES.comunicacion}</div>
            </div>
            <div class="icfes-item">
              <div class="icfes-item-label">Resolución de Problemas</div>
              <div class="icfes-item-text">${plan.competenciasICFES.resolucionProblemas}</div>
            </div>
          </div>
        </div>

        <!-- Evidencias -->
        <div class="plan-section">
          <div class="plan-section-title">Evidencias de Aprendizaje</div>
          <ul class="plan-list">
            ${plan.evidenciasAprendizaje.map(e => `<li>${e}</li>`).join('')}
          </ul>
        </div>

        <!-- Matriz de referencia -->
        <div class="plan-section">
          <div class="plan-section-title">Matriz de Referencia ICFES</div>
          <div class="text-sm text-secondary">
            <p><strong>Componente:</strong> ${plan.matrizReferencia.componente}</p>
            <p><strong>Competencia:</strong> ${plan.matrizReferencia.competencia}</p>
            <p class="mt-2"><strong>Afirmaciones:</strong></p>
            <ul class="plan-list">${plan.matrizReferencia.afirmaciones.map(a => `<li>${a}</li>`).join('')}</ul>
          </div>
        </div>

        <!-- Estrategias -->
        <div class="plan-section">
          <div class="plan-section-title">Estrategias Metodológicas</div>
          <ul class="plan-list">
            ${plan.estrategiasMetodologicas.map(e => `<li>${e}</li>`).join('')}
          </ul>
        </div>

        <!-- Materiales -->
        <div class="plan-section">
          <div class="plan-section-title">Materiales Educativos</div>
          <ul class="plan-list">
            ${plan.materialesEducativos.map(e => `<li>${e}</li>`).join('')}
          </ul>
        </div>

        <!-- Evaluación -->
        <div class="plan-section plan-section-full">
          <div class="plan-section-title">Criterios de Evaluación</div>
          <div class="icfes-grid">
            <div class="icfes-item">
              <div class="icfes-item-label">Saber (${plan.criteriosEvaluacion.porcentajes.saber}%)</div>
              ${plan.criteriosEvaluacion.saber.map(s => `<div class="icfes-item-text">· ${s}</div>`).join('')}
            </div>
            <div class="icfes-item">
              <div class="icfes-item-label">Hacer (${plan.criteriosEvaluacion.porcentajes.hacer}%)</div>
              ${plan.criteriosEvaluacion.hacer.map(s => `<div class="icfes-item-text">· ${s}</div>`).join('')}
            </div>
            <div class="icfes-item">
              <div class="icfes-item-label">Ser (${plan.criteriosEvaluacion.porcentajes.ser}%)</div>
              ${plan.criteriosEvaluacion.ser.map(s => `<div class="icfes-item-text">· ${s}</div>`).join('')}
            </div>
          </div>
          <div class="eval-bars mt-4">
            <div class="eval-bar">
              <div class="eval-bar-track"><div class="eval-bar-fill saber" style="width:${plan.criteriosEvaluacion.porcentajes.saber}%"></div></div>
              <div class="eval-bar-label">Saber</div>
              <div class="eval-bar-pct">${plan.criteriosEvaluacion.porcentajes.saber}%</div>
            </div>
            <div class="eval-bar">
              <div class="eval-bar-track"><div class="eval-bar-fill hacer" style="width:${plan.criteriosEvaluacion.porcentajes.hacer}%"></div></div>
              <div class="eval-bar-label">Hacer</div>
              <div class="eval-bar-pct">${plan.criteriosEvaluacion.porcentajes.hacer}%</div>
            </div>
            <div class="eval-bar">
              <div class="eval-bar-track"><div class="eval-bar-fill ser" style="width:${plan.criteriosEvaluacion.porcentajes.ser}%"></div></div>
              <div class="eval-bar-label">Ser</div>
              <div class="eval-bar-pct">${plan.criteriosEvaluacion.porcentajes.ser}%</div>
            </div>
          </div>
        </div>

        <!-- Competencia ciudadana -->
        <div class="plan-section plan-section-full">
          <div class="plan-section-title">Competencia Ciudadana</div>
          <p class="text-sm text-secondary" style="line-height:var(--leading-loose)">${plan.competenciaCiudadana}</p>
        </div>
      </div>

      <!-- Articulación ICFES: Aprendizajes resueltos + Nivel de Desempeño -->
      ${this.renderPlanICFES(grado, plan)}

      <!-- Progresión Vertical compacta -->
      ${this.renderPlanProgresion(grado, plan)}

      <!-- Panel IA -->
      ${this.renderIAPanel()}

      <!-- Nav entre grados -->
      <div class="flex justify-between mt-4">
        ${parseInt(grado) > 8 ? `<button class="btn btn-ghost" data-action="navigate" data-value="#/plan/${parseInt(grado)-1}/${periodo}">← Grado ${parseInt(grado)-1}°</button>` : '<span></span>'}
        ${parseInt(grado) < 11 ? `<button class="btn btn-ghost" data-action="navigate" data-value="#/plan/${parseInt(grado)+1}/${periodo}">Grado ${parseInt(grado)+1}° →</button>` : '<span></span>'}
      </div>
    `;
  },

  // === PLAN: ICFES Aprendizajes resueltos + Nivel de Desempeño ===
  renderPlanICFES(grado, plan) {
    if (typeof getAprendizajesICFES !== 'function') return '';
    if (!plan.aprendizajesICFES || !plan.aprendizajesICFES.length) return '';

    const pruebaId = getPruebaParaGrado(grado);
    if (!pruebaId) return '';

    const todosAprendizajes = getAprendizajesICFES('matematicas', pruebaId);
    const aprendizajesResueltos = plan.aprendizajesICFES
      .map(id => todosAprendizajes.find(a => a.id === id))
      .filter(Boolean);

    if (!aprendizajesResueltos.length) return '';

    // Nivel de desempeño
    const niveles = getNivelesDesempeno('matematicas', pruebaId);
    const nivelActivo = niveles.find(n => n.nombre === plan.nivelEsperado);

    return `
      <h2 class="section-title mt-4">Articulación ICFES — ${plan.nivelEsperado || ''}</h2>
      <p class="section-description">Aprendizajes y evidencias ICFES vinculados a este periodo. Nivel de desempeño esperado al finalizar.</p>

      <!-- Aprendizajes resueltos -->
      <div class="card card-accent mt-3">
        <div class="card-header">
          <span class="card-title">Aprendizajes del Periodo</span>
          <span class="badge badge-muted">${aprendizajesResueltos.length} aprendizajes</span>
        </div>
        <div class="card-body">
          ${aprendizajesResueltos.map(a => `
            <details class="icfes-aprendizaje">
              <summary class="estandar-item" style="cursor:pointer; list-style:none">
                <div class="flex items-center gap-2" style="flex-wrap:wrap">
                  <span class="badge badge-accent" style="font-size:0.65rem">${a.competencia}</span>
                  <span class="badge badge-muted" style="font-size:0.6rem">${a.componente}</span>
                  <span>${a.enunciado}</span>
                </div>
              </summary>
              <div class="icfes-evidencias">
                ${(plan.evidenciasICFES || []).length > 0
                  ? a.evidencias.filter(e => plan.evidenciasICFES.includes(e.id)).map(e => `
                      <div class="icfes-evidencia-item">
                        <span class="text-muted text-xs">${e.id}</span> ${e.enunciado}
                      </div>
                    `).join('') || a.evidencias.map(e => `
                      <div class="icfes-evidencia-item">
                        <span class="text-muted text-xs">${e.id}</span> ${e.enunciado}
                      </div>
                    `).join('')
                  : a.evidencias.map(e => `
                      <div class="icfes-evidencia-item">
                        <span class="text-muted text-xs">${e.id}</span> ${e.enunciado}
                      </div>
                    `).join('')
                }
              </div>
            </details>
          `).join('')}
        </div>
      </div>

      <!-- Niveles de desempeño con activo destacado -->
      <div class="card mt-3">
        <div class="card-header">
          <span class="card-title">Nivel de Desempeño Esperado</span>
          <span class="badge" style="background:${nivelActivo?.color || 'var(--muted)'}; color:white; font-size:0.7rem">${plan.nivelEsperado}</span>
        </div>
        <div class="card-body">
          <div class="icfes-niveles-grid">
            ${niveles.map(nivel => `
              <div class="icfes-nivel ${nivel.nombre === plan.nivelEsperado ? 'icfes-nivel-activo' : 'icfes-nivel-inactivo'}" style="border-left: 4px solid ${nivel.color}">
                <div class="flex items-center gap-2 mb-2">
                  <span class="icfes-nivel-dot" style="background:${nivel.color}"></span>
                  <strong>${nivel.nombre}</strong>
                  <span class="text-muted text-xs">(${nivel.rango[0]}–${nivel.rango[1]})</span>
                </div>
                ${nivel.nombre === plan.nivelEsperado
                  ? `<p class="text-sm text-secondary" style="line-height:var(--leading-loose)">${nivel.descripcion}</p>`
                  : ''
                }
              </div>
            `).join('')}
          </div>
        </div>
      </div>
    `;
  },

  // === PLAN: Progresión Vertical compacta ===
  renderPlanProgresion(grado, plan) {
    if (typeof getLineaProgresion !== 'function') return '';
    if (!plan.tiposPensamiento || !plan.tiposPensamiento.length) return '';

    const TIPO_A_EJE = {
      'Numérico': 'numerico', 'Espacial': 'espacial', 'Métrico': 'metrico',
      'Aleatorio': 'aleatorio', 'Variacional': 'variacional'
    };
    const GRADO_A_GRUPO = { '8': '8-9', '9': '8-9', '10': '10-11', '11': '10-11' };

    const ejeId = TIPO_A_EJE[plan.tiposPensamiento[0]];
    if (!ejeId) return '';

    const grupoActual = GRADO_A_GRUPO[String(grado)];
    const linea = getLineaProgresion('matematicas', ejeId);
    if (!linea.length) return '';

    // Filtrar: grupo anterior, actual, siguiente
    const idxActual = linea.findIndex(l => l.grupo === grupoActual);
    if (idxActual < 0) return '';

    const contexto = linea.slice(Math.max(0, idxActual - 1), idxActual + 2);

    return `
      <h2 class="section-title mt-4">Progresión Vertical — ${plan.tiposPensamiento[0]}</h2>
      <p class="section-description">Cómo evoluciona este eje desde el grupo anterior hacia el siguiente.</p>

      <div class="flex gap-3 mt-3" style="flex-wrap:wrap">
        ${contexto.map(item => `
          <div class="card ${item.grupo === grupoActual ? 'card-accent' : ''}" style="flex:1; min-width:200px">
            <div class="card-header">
              <span class="card-title">Grados ${item.grupo}</span>
              ${item.grupo === grupoActual ? '<span class="badge badge-accent">Actual</span>' : ''}
            </div>
            <div class="card-body">
              ${item.estandares.length > 0
                ? item.estandares.map(e => `<p class="text-sm text-secondary mb-2" style="line-height:var(--leading-loose)">· ${e}</p>`).join('')
                : '<p class="text-muted text-sm">Sin datos</p>'
              }
            </div>
          </div>
        `).join('')}
      </div>

      <div class="flex justify-center mt-3">
        <a href="#/area/matematicas/${grupoActual}/${ejeId}" class="btn btn-secondary btn-sm">Ver progresión completa K-11 →</a>
      </div>
    `;
  },

  // === VIEW: CONFIG ===
  renderConfig() {
    const inst = Storage.getInstitucion();
    const prefs = Storage.getPreferencias();

    return `
      <h1 class="section-title">Configuración</h1>

      <div class="card mt-4">
        <div class="card-header"><span class="card-title">Institución Educativa</span></div>
        <div class="card-body">
          <div class="plan-grid" style="gap:var(--sp-3)">
            <div class="form-group">
              <label class="form-label">Nombre</label>
              <input class="form-input" id="cfg-nombre" value="${inst.nombre}" placeholder="IE Pedacito de Cielo A.U.V">
            </div>
            <div class="form-group">
              <label class="form-label">Código DANE</label>
              <input class="form-input" id="cfg-dane" value="${inst.dane}" placeholder="163401000298">
            </div>
            <div class="form-group">
              <label class="form-label">Municipio</label>
              <input class="form-input" id="cfg-municipio" value="${inst.municipio}" placeholder="La Tebaida">
            </div>
            <div class="form-group">
              <label class="form-label">Departamento</label>
              <input class="form-input" id="cfg-depto" value="${inst.departamento}" placeholder="Quindío">
            </div>
          </div>
          <button class="btn btn-primary mt-4" onclick="Storage.setInstitucion({nombre:document.getElementById('cfg-nombre').value,dane:document.getElementById('cfg-dane').value,municipio:document.getElementById('cfg-municipio').value,departamento:document.getElementById('cfg-depto').value,jornada:'manana',annoLectivo:2026}); App.showToast('Institución guardada')">
            Guardar Institución
          </button>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-header"><span class="card-title">Inteligencia Artificial</span></div>
        <div class="card-body">
          <p class="text-sm text-secondary mb-4">
            Ingrese su API key de Google Gemini para usar las funciones de IA. Es gratuita (1M tokens/mes).
            <a href="https://aistudio.google.com/apikey" target="_blank">Obtener API key gratis →</a>
          </p>
          <div class="form-group">
            <label class="form-label">API Key de Gemini</label>
            <input class="form-input" id="cfg-apikey" type="password" value="${prefs.apiKeyGemini || ''}" placeholder="AIza...">
          </div>
          <div class="flex gap-2">
            <button class="btn btn-primary" onclick="Storage.setApiKey(document.getElementById('cfg-apikey').value); App.showToast('API key guardada')">
              Guardar API Key
            </button>
            <button class="btn btn-secondary" onclick="IA.verificarApiKey(document.getElementById('cfg-apikey').value).then(r => App.showToast(r.ok ? r.mensaje : 'Error: ' + r.mensaje))">
              Verificar
            </button>
          </div>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-header"><span class="card-title">Datos</span></div>
        <div class="card-body">
          <div class="flex gap-2">
            <button class="btn btn-secondary btn-sm" onclick="exportarJSON(Storage.exportarTodo(), 'articulador-backup.json')">Exportar configuración</button>
            <button class="btn btn-ghost btn-sm" onclick="if(confirm('¿Borrar toda la configuración?')) { Storage.limpiarTodo(); App.showToast('Configuración borrada'); }">Limpiar datos</button>
          </div>
        </div>
      </div>
    `;
  },

  // === VIEW: BÚSQUEDA ===
  renderBusqueda() {
    const query = this.state.searchQuery;
    const resultados = query ? buscarTodo(query) : [];

    return `
      <h1 class="section-title">Búsqueda</h1>
      <p class="section-description">Busque estándares EBC, DBA, aprendizajes ICFES y contenidos en todas las áreas.</p>

      <div class="search-container">
        <span class="search-icon">🔍</span>
        <input class="search-input" id="search-page-input" value="${query}" placeholder="Buscar estándares, DBA, competencias...">
      </div>

      ${resultados.length > 0 ? `
        <p class="text-sm text-muted mt-4">${resultados.length} resultado${resultados.length > 1 ? 's' : ''}</p>
        ${(() => {
          const _pag = { 'saber-3': '1-3', 'saber-5': '4-5', 'saber-9': '8-9', 'saber-11': '10-11' };
          return resultados.slice(0, 20).map(r => {
            const gNav = r.grupo || (r.prueba ? _pag[r.prueba] : null) || gradoAGrupoEBC(r.grado || '8');
            const gLabel = r.grupo || (r.prueba ? _pag[r.prueba] : null) || ('Grado ' + r.grado);
            return `
              <div class="card card-accent mt-2" data-action="navigate" data-value="#/area/${r.area}/${gNav}" style="cursor:pointer">
                <div class="card-body">
                  <div class="flex gap-2 mb-2">
                    <span class="badge badge-${r.area === 'matematicas' ? 'mat' : r.area === 'lenguaje' ? 'len' : r.area === 'ciencias-naturales' ? 'nat' : 'soc'}">${AREAS_EBC[r.area]?.nombre || r.area}</span>
                    <span class="badge badge-muted">${r.tipo.toUpperCase()}</span>
                    <span class="badge badge-muted">${gLabel}</span>
                  </div>
                  <p class="text-sm text-secondary">${r.texto}</p>
                </div>
              </div>
            `;
          }).join('');
        })()}
      ` : query ? '<p class="text-muted mt-4">Sin resultados para "' + query + '"</p>' : ''}
    `;
  },

  // === SHARED: IA Panel ===
  renderIAPanel() {
    return `
      <div class="ia-panel mt-4" id="ia-panel">
        <div class="ia-panel-header" data-action="toggle-ia">
          <div class="ia-panel-title"><span class="ia-dot"></span> Inteligencia Pedagógica</div>
          <div class="flex gap-2 items-center">
            <span class="badge badge-ia">Gemini</span>
            <span class="text-muted text-xs">${Storage.getApiKey() ? 'Conectado' : 'Sin API key'}</span>
          </div>
        </div>
        <div class="ia-panel-body">
          <div class="ia-actions">
            <div class="ia-action-btn" data-action="ia-action" data-value="diferenciacion">
              <div class="ia-action-btn-title">Diferenciación NEE</div>
              <div class="ia-action-btn-desc">Actividades adaptadas para necesidades educativas especiales</div>
            </div>
            <div class="ia-action-btn" data-action="ia-action" data-value="preguntasICFES">
              <div class="ia-action-btn-title">Preguntas ICFES</div>
              <div class="ia-action-btn-desc">Generar preguntas tipo Saber 11 alineadas al estándar</div>
            </div>
            <div class="ia-action-btn" data-action="ia-action" data-value="interdisciplinar">
              <div class="ia-action-btn-title">Conexión Interdisciplinar</div>
              <div class="ia-action-btn-desc">Proyectos integradores entre dos áreas curriculares</div>
            </div>
            <div class="ia-action-btn" data-action="ia-action" data-value="sugerenciaPedagogica">
              <div class="ia-action-btn-title">Sugerencia Pedagógica</div>
              <div class="ia-action-btn-desc">Estrategias didácticas innovadoras para el tema actual</div>
            </div>
          </div>

          <div class="ia-token-estimate">
            <span>Tokens estimados:</span>
            <div class="ia-token-bar"><div class="ia-token-fill" id="ia-token-fill" style="width:0%"></div></div>
            <span id="ia-token-label">~0</span>
          </div>

          <div class="ia-response" id="ia-response">Seleccione una acción para generar contenido con IA.</div>

          <div class="ia-fallback" data-action="ia-gemini" data-value="sugerenciaPedagogica">
            Sin API key? → Abrir en Gemini (gratis, sin configuración)
          </div>
        </div>
      </div>
    `;
  },

  // === SIDEBAR ===
  renderSidebar() {
    const sidebar = document.getElementById('sidebar-nav');
    if (!sidebar) return;

    sidebar.innerHTML = `
      <div class="sidebar-section">
        <div class="search-container">
          <span class="search-icon">🔍</span>
          <input class="search-input" id="search-input" placeholder="Buscar estándares...">
          <div class="search-results" id="search-results" style="display:none"></div>
        </div>
      </div>

      <div class="sidebar-label">Navegación</div>
      <ul class="sidebar-nav">
        <li class="sidebar-item ${this.state.vista === 'home' ? 'active' : ''}" data-action="navigate" data-value="#/">
          <span class="sidebar-item-icon">🏠</span> Inicio
        </li>
      </ul>

      <div class="sidebar-label">Áreas Curriculares</div>
      <ul class="sidebar-nav">
        ${Object.entries(AREAS_EBC).map(([id, info]) => `
          <li class="sidebar-item ${this.state.area === id && this.state.vista === 'area' ? 'active' : ''}" data-action="navigate" data-value="#/area/${id}/${this.state.grupo || '8-9'}">
            <span class="sidebar-dot ${id === 'matematicas' ? 'mat' : id === 'lenguaje' ? 'len' : id === 'ciencias-naturales' ? 'nat' : 'soc'}"></span>
            ${info.nombre}
          </li>
        `).join('')}
      </ul>

      <div class="sidebar-label">Planes de Periodo</div>
      <ul class="sidebar-nav">
        ${['8','9','10','11'].map(g => `
          <li class="sidebar-item ${this.state.grado === g && this.state.vista === 'plan' ? 'active' : ''}" data-action="navigate" data-value="#/plan/${g}/1">
            <span class="sidebar-item-icon">📋</span> Matemáticas ${g}°
          </li>
        `).join('')}
      </ul>

      <div class="sidebar-label" style="margin-top:auto">Sistema</div>
      <ul class="sidebar-nav">
        <li class="sidebar-item ${this.state.vista === 'config' ? 'active' : ''}" data-action="navigate" data-value="#/config">
          <span class="sidebar-item-icon">⚙</span> Configuración
        </li>
      </ul>
    `;
  },

  // === TOAST ===
  showToast(msg) {
    const existing = document.querySelector('.toast');
    if (existing) existing.remove();
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = msg;
    document.body.appendChild(toast);
    setTimeout(() => toast.remove(), 3000);
  }
};

// === HELPERS ===
function highlightText(text, query) {
  if (!query) return text;
  const words = query.split(/\s+/).filter(w => w.length > 1);
  let result = text;
  for (const word of words) {
    const re = new RegExp(`(${word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
    result = result.replace(re, '<mark>$1</mark>');
  }
  return result;
}

// === INIT ===
document.addEventListener('DOMContentLoaded', () => App.init());

  // Mobile menu
  (function() {
    var mq = window.matchMedia('(max-width: 768px)');
    var btn = document.getElementById('menu-btn');
    function update(e) { if (btn) btn.style.display = e.matches ? 'grid' : 'none'; }
    mq.addEventListener('change', update);
    update(mq);
  })();
  </script>
</body>
</html>
